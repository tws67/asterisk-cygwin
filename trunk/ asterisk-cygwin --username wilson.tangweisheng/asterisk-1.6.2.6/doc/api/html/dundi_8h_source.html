<HTML>
    <HEAD>
      <TITLE>Asterisk.org: Developer Documentation (5 May 2010)</TITLE>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<div><font size="2" align="right">Wed May 5 15:18:39 2010</font></div>

<h2>Asterisk developer's documentation</h2>
<hr/>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_1ab815038f534adda65c8b4ae4993449.html">include</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_16d825f1fa9ecca2e70b1a8d9256d0e6.html">asterisk</a>
  </div>
</div>
<div class="contents">
<h1>dundi.h</h1><a href="dundi_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * Asterisk -- An open source telephony toolkit.</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * Copyright (C) 1999 - 2005, Digium, Inc.</span>
<a name="l00005"></a>00005 <span class="comment"> *</span>
<a name="l00006"></a>00006 <span class="comment"> * Mark Spencer &lt;markster@digium.com&gt;</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> * See http://www.asterisk.org for more information about</span>
<a name="l00009"></a>00009 <span class="comment"> * the Asterisk project. Please do not directly contact</span>
<a name="l00010"></a>00010 <span class="comment"> * any of the maintainers of this project for assistance;</span>
<a name="l00011"></a>00011 <span class="comment"> * the project provides a web site, mailing lists and IRC</span>
<a name="l00012"></a>00012 <span class="comment"> * channels for your use.</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * This program is free software, distributed under the terms of</span>
<a name="l00015"></a>00015 <span class="comment"> * the GNU General Public License Version 2. See the LICENSE file</span>
<a name="l00016"></a>00016 <span class="comment"> * at the top of the source tree.</span>
<a name="l00017"></a>00017 <span class="comment"> */</span>
<a name="l00018"></a>00018 <span class="comment"></span>
<a name="l00019"></a>00019 <span class="comment">/*! \file</span>
<a name="l00020"></a>00020 <span class="comment"> * \brief Distributed Universal Number Discovery (DUNDi)</span>
<a name="l00021"></a>00021 <span class="comment"> * See also \arg \ref AstDUNDi</span>
<a name="l00022"></a>00022 <span class="comment"> */</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="preprocessor">#ifndef _ASTERISK_DUNDI_H </span>
<a name="l00025"></a>00025 <span class="preprocessor"></span><span class="preprocessor">#define _ASTERISK_DUNDI_H</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &quot;<a class="code" href="channel_8h.html" title="General Asterisk PBX channel definitions.">asterisk/channel.h</a>&quot;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;<a class="code" href="utils_8h.html" title="Utility functions.">asterisk/utils.h</a>&quot;</span>
<a name="l00029"></a>00029 
<a name="l00030"></a><a class="code" href="dundi_8h.html#a3a0aa89ed893781e5d8a2d59d8f5be7b">00030</a> <span class="preprocessor">#define DUNDI_PORT 4520</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span>
<a name="l00032"></a><a class="code" href="dundi_8h.html#a35971173ccd732aad75d4560bd4d4539">00032</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structast__eid.html" title="An Entity ID is essentially a MAC address, brief and unique.">ast_eid</a> <a class="code" href="structast__eid.html" title="An Entity ID is essentially a MAC address, brief and unique.">dundi_eid</a>;
<a name="l00033"></a>00033 
<a name="l00034"></a><a class="code" href="structdundi__hdr.html">00034</a> <span class="keyword">struct </span><a class="code" href="structdundi__hdr.html">dundi_hdr</a> {
<a name="l00035"></a><a class="code" href="structdundi__hdr.html#a0a398a49dcc9f74b9440fd7b59ddffb6">00035</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structdundi__hdr.html#a0a398a49dcc9f74b9440fd7b59ddffb6">strans</a>;        <span class="comment">/*!&lt; Source transaction */</span>
<a name="l00036"></a><a class="code" href="structdundi__hdr.html#a88c0d7780627c438ff4ebde5cfca28cb">00036</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structdundi__hdr.html#a88c0d7780627c438ff4ebde5cfca28cb">dtrans</a>;        <span class="comment">/*!&lt; Destination transaction */</span>
<a name="l00037"></a><a class="code" href="structdundi__hdr.html#a69fdde8d8d12a358d2a608b2c821454b">00037</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structdundi__hdr.html#a69fdde8d8d12a358d2a608b2c821454b">iseqno</a>;         <span class="comment">/*!&lt; Next expected incoming sequence number */</span>
<a name="l00038"></a><a class="code" href="structdundi__hdr.html#a9887965bdbba3acab90015e43cde575a">00038</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structdundi__hdr.html#a9887965bdbba3acab90015e43cde575a">oseqno</a>;         <span class="comment">/*!&lt; Outgoing sequence number */</span>
<a name="l00039"></a><a class="code" href="structdundi__hdr.html#a5f0d4fae321c2a13e563795b4297c90d">00039</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structdundi__hdr.html#a5f0d4fae321c2a13e563795b4297c90d">cmdresp</a>;        <span class="comment">/*!&lt; Command / Response */</span>
<a name="l00040"></a><a class="code" href="structdundi__hdr.html#a47c5a3ec1f5b267c4f47628d8863cb90">00040</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structdundi__hdr.html#a47c5a3ec1f5b267c4f47628d8863cb90">cmdflags</a>;       <span class="comment">/*!&lt; Command / Response specific flags*/</span>
<a name="l00041"></a><a class="code" href="structdundi__hdr.html#a401a6190b88ef972e67575a2d95b2c32">00041</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structdundi__hdr.html#a401a6190b88ef972e67575a2d95b2c32">ies</a>[0];
<a name="l00042"></a>00042 } __attribute__((__packed__));
<a name="l00043"></a>00043 
<a name="l00044"></a><a class="code" href="structdundi__ie__hdr.html">00044</a> <span class="keyword">struct </span><a class="code" href="structdundi__ie__hdr.html">dundi_ie_hdr</a> {
<a name="l00045"></a><a class="code" href="structdundi__ie__hdr.html#a3e9967e520ac950d2be7c74e5f996788">00045</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structdundi__ie__hdr.html#a3e9967e520ac950d2be7c74e5f996788">ie</a>;
<a name="l00046"></a><a class="code" href="structdundi__ie__hdr.html#a8bb3e1dd5fd30402c69fd8a9f7dd0950">00046</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structdundi__ie__hdr.html#a8bb3e1dd5fd30402c69fd8a9f7dd0950">len</a>;
<a name="l00047"></a><a class="code" href="structdundi__ie__hdr.html#a06ffed4776045e012eec04fa40c9d3b7">00047</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structdundi__ie__hdr.html#a06ffed4776045e012eec04fa40c9d3b7">iedata</a>[0];
<a name="l00048"></a>00048 } __attribute__((__packed__));
<a name="l00049"></a>00049 
<a name="l00050"></a><a class="code" href="dundi_8h.html#a20221648d1805f45fb25b5cdffb96853">00050</a> <span class="preprocessor">#define DUNDI_FLAG_RETRANS    (1 &lt;&lt; 16)   </span><span class="comment">/*!&lt; Applies to dtrans */</span>
<a name="l00051"></a><a class="code" href="dundi_8h.html#adc5a79c0489e428405d24119a88289ce">00051</a> <span class="preprocessor">#define DUNDI_FLAG_RESERVED      (1 &lt;&lt; 16)   </span><span class="comment">/*!&lt; Applies to strans */</span>
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 <span class="keyword">enum</span> {<span class="comment"></span>
<a name="l00054"></a>00054 <span class="comment">   /*! No answer yet */</span>
<a name="l00055"></a><a class="code" href="dundi_8h.html#a73c53bacb25588538843a1dcfe5f382ba1b82bcf97f976e5eacca187b31b39fdb">00055</a>    <a class="code" href="dundi_8h.html#a73c53bacb25588538843a1dcfe5f382ba1b82bcf97f976e5eacca187b31b39fdb">DUNDI_PROTO_NONE</a> = 0,<span class="comment"></span>
<a name="l00056"></a>00056 <span class="comment">   /*! IAX, version 2 */</span>
<a name="l00057"></a><a class="code" href="dundi_8h.html#a73c53bacb25588538843a1dcfe5f382bad4f75d550b4a3963a24587581492cbca">00057</a>    <a class="code" href="dundi_8h.html#a73c53bacb25588538843a1dcfe5f382bad4f75d550b4a3963a24587581492cbca">DUNDI_PROTO_IAX</a>  = 1,<span class="comment"></span>
<a name="l00058"></a>00058 <span class="comment">   /*! SIP - Session Initiation Protocol, RFC 3261 */</span>
<a name="l00059"></a><a class="code" href="dundi_8h.html#a73c53bacb25588538843a1dcfe5f382ba72ee72c7d1da28f2f71175ecaf2a7f85">00059</a>    <a class="code" href="dundi_8h.html#a73c53bacb25588538843a1dcfe5f382ba72ee72c7d1da28f2f71175ecaf2a7f85">DUNDI_PROTO_SIP</a>  = 2,<span class="comment"></span>
<a name="l00060"></a>00060 <span class="comment">   /*! ITU H.323 */</span>
<a name="l00061"></a><a class="code" href="dundi_8h.html#a73c53bacb25588538843a1dcfe5f382bafa27f4d14e290abe9bf23c93b313ae44">00061</a>    <a class="code" href="dundi_8h.html#a73c53bacb25588538843a1dcfe5f382bafa27f4d14e290abe9bf23c93b313ae44">DUNDI_PROTO_H323</a> = 3,
<a name="l00062"></a>00062 };
<a name="l00063"></a>00063 
<a name="l00064"></a>00064 <span class="keyword">enum</span> {<span class="comment"></span>
<a name="l00065"></a>00065 <span class="comment">   /*! Isn&apos;t and can&apos;t be a valid number */</span>
<a name="l00066"></a><a class="code" href="dundi_8h.html#a26e1124d33b4acdb532c49f6498df549a249b77554b984effb384c8825e0c0a3e">00066</a>    <a class="code" href="dundi_8h.html#a26e1124d33b4acdb532c49f6498df549a249b77554b984effb384c8825e0c0a3e">DUNDI_FLAG_NONEXISTENT</a> =    (0),<span class="comment"></span>
<a name="l00067"></a>00067 <span class="comment">   /*! Is a valid number */</span>
<a name="l00068"></a><a class="code" href="dundi_8h.html#a26e1124d33b4acdb532c49f6498df549ac7164519ecbb244314ace6ccf7efed9b">00068</a>    <a class="code" href="dundi_8h.html#a26e1124d33b4acdb532c49f6498df549ac7164519ecbb244314ace6ccf7efed9b">DUNDI_FLAG_EXISTS</a> =         (1 &lt;&lt; 0),<span class="comment"></span>
<a name="l00069"></a>00069 <span class="comment">   /*! Might be valid if you add more digits */</span>
<a name="l00070"></a><a class="code" href="dundi_8h.html#a26e1124d33b4acdb532c49f6498df549a8ef9ba3f92f56d814922ae4909943db8">00070</a>    <a class="code" href="dundi_8h.html#a26e1124d33b4acdb532c49f6498df549a8ef9ba3f92f56d814922ae4909943db8">DUNDI_FLAG_MATCHMORE</a> =      (1 &lt;&lt; 1),<span class="comment"></span>
<a name="l00071"></a>00071 <span class="comment">   /*! Might be a match */</span>
<a name="l00072"></a><a class="code" href="dundi_8h.html#a26e1124d33b4acdb532c49f6498df549a839b17b1ac266cc09e9f2bb73b167ec4">00072</a>    <a class="code" href="dundi_8h.html#a26e1124d33b4acdb532c49f6498df549a839b17b1ac266cc09e9f2bb73b167ec4">DUNDI_FLAG_CANMATCH</a> =       (1 &lt;&lt; 2),<span class="comment"></span>
<a name="l00073"></a>00073 <span class="comment">   /*! Keep dialtone */</span>
<a name="l00074"></a><a class="code" href="dundi_8h.html#a26e1124d33b4acdb532c49f6498df549ae0f605310eacfaa7cc7beef4a803a259">00074</a>    <a class="code" href="dundi_8h.html#a26e1124d33b4acdb532c49f6498df549ae0f605310eacfaa7cc7beef4a803a259">DUNDI_FLAG_IGNOREPAT</a> =      (1 &lt;&lt; 3),<span class="comment"></span>
<a name="l00075"></a>00075 <span class="comment">   /*! Destination known to be residential */</span>
<a name="l00076"></a><a class="code" href="dundi_8h.html#a26e1124d33b4acdb532c49f6498df549ac3373d01d4a39e3fede463f7715c402a">00076</a>    <a class="code" href="dundi_8h.html#a26e1124d33b4acdb532c49f6498df549ac3373d01d4a39e3fede463f7715c402a">DUNDI_FLAG_RESIDENTIAL</a> =    (1 &lt;&lt; 4),<span class="comment"></span>
<a name="l00077"></a>00077 <span class="comment">   /*! Destination known to be commercial */</span>
<a name="l00078"></a><a class="code" href="dundi_8h.html#a26e1124d33b4acdb532c49f6498df549a6d6a610c5263acbc8387ca758e87f25e">00078</a>    <a class="code" href="dundi_8h.html#a26e1124d33b4acdb532c49f6498df549a6d6a610c5263acbc8387ca758e87f25e">DUNDI_FLAG_COMMERCIAL</a> =     (1 &lt;&lt; 5),<span class="comment"></span>
<a name="l00079"></a>00079 <span class="comment">   /*! Destination known to be cellular/mobile */</span>
<a name="l00080"></a><a class="code" href="dundi_8h.html#a26e1124d33b4acdb532c49f6498df549a10b1a1011e42119014881bca559c3449">00080</a>    <a class="code" href="dundi_8h.html#a26e1124d33b4acdb532c49f6498df549a10b1a1011e42119014881bca559c3449">DUNDI_FLAG_MOBILE</a> =         (1 &lt;&lt; 6),<span class="comment"></span>
<a name="l00081"></a>00081 <span class="comment">   /*! No unsolicited calls of any kind through this route */</span>
<a name="l00082"></a><a class="code" href="dundi_8h.html#a26e1124d33b4acdb532c49f6498df549ae24393b59d24e328389ebcaef2a8034c">00082</a>    <a class="code" href="dundi_8h.html#a26e1124d33b4acdb532c49f6498df549ae24393b59d24e328389ebcaef2a8034c">DUNDI_FLAG_NOUNSOLICITED</a> =  (1 &lt;&lt; 7),<span class="comment"></span>
<a name="l00083"></a>00083 <span class="comment">   /*! No commercial unsolicited calls through this route */</span>
<a name="l00084"></a><a class="code" href="dundi_8h.html#a26e1124d33b4acdb532c49f6498df549a6e1609f152225fbcebc9222bb8e53bab">00084</a>    <a class="code" href="dundi_8h.html#a26e1124d33b4acdb532c49f6498df549a6e1609f152225fbcebc9222bb8e53bab">DUNDI_FLAG_NOCOMUNSOLICIT</a> = (1 &lt;&lt; 8),
<a name="l00085"></a>00085 };
<a name="l00086"></a>00086 
<a name="l00087"></a>00087 <span class="keyword">enum</span> {
<a name="l00088"></a><a class="code" href="dundi_8h.html#a7ee8d0f117a79ca7eb1e0076a9182bcba98601fedf4daf6d6b67b59488859ece6">00088</a>    <a class="code" href="dundi_8h.html#a7ee8d0f117a79ca7eb1e0076a9182bcba98601fedf4daf6d6b67b59488859ece6">DUNDI_HINT_NONE</a> =        (0),<span class="comment"></span>
<a name="l00089"></a>00089 <span class="comment">   /*! TTL Expired */</span>
<a name="l00090"></a><a class="code" href="dundi_8h.html#a7ee8d0f117a79ca7eb1e0076a9182bcba765f06c7865e2789c9e1611b67da8e33">00090</a>    <a class="code" href="dundi_8h.html#a7ee8d0f117a79ca7eb1e0076a9182bcba765f06c7865e2789c9e1611b67da8e33">DUNDI_HINT_TTL_EXPIRED</a> = (1 &lt;&lt; 0),<span class="comment"></span>
<a name="l00091"></a>00091 <span class="comment">   /*! Don&apos;t ask for anything beginning with data */</span>
<a name="l00092"></a><a class="code" href="dundi_8h.html#a7ee8d0f117a79ca7eb1e0076a9182bcba52da0708c28c6ffa3abff62c792434ff">00092</a>    <a class="code" href="dundi_8h.html#a7ee8d0f117a79ca7eb1e0076a9182bcba52da0708c28c6ffa3abff62c792434ff">DUNDI_HINT_DONT_ASK</a> =    (1 &lt;&lt; 1),<span class="comment"></span>
<a name="l00093"></a>00093 <span class="comment">   /*! Answer not affected by entity list */</span>
<a name="l00094"></a><a class="code" href="dundi_8h.html#a7ee8d0f117a79ca7eb1e0076a9182bcba7148873991298083a5b44298dd639ae7">00094</a>    <a class="code" href="dundi_8h.html#a7ee8d0f117a79ca7eb1e0076a9182bcba7148873991298083a5b44298dd639ae7">DUNDI_HINT_UNAFFECTED</a> =  (1 &lt;&lt; 2),
<a name="l00095"></a>00095 };
<a name="l00096"></a>00096 
<a name="l00097"></a><a class="code" href="structdundi__encblock.html">00097</a> <span class="keyword">struct </span><a class="code" href="structdundi__encblock.html">dundi_encblock</a> {          <span class="comment">/*!&lt; AES-128 encrypted block */</span>
<a name="l00098"></a><a class="code" href="structdundi__encblock.html#ad98f4396bf44e165dc76882a937b7ee8">00098</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structdundi__encblock.html#ad98f4396bf44e165dc76882a937b7ee8">iv</a>[16];         <span class="comment">/*!&lt; Initialization vector of random data */</span>
<a name="l00099"></a><a class="code" href="structdundi__encblock.html#ad9ab7eeac3aa2f817d0a4829c2adc5b5">00099</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structdundi__encblock.html#ad9ab7eeac3aa2f817d0a4829c2adc5b5">encdata</a>[0];     <span class="comment">/*!&lt; Encrypted / compressed data */</span>
<a name="l00100"></a>00100 } __attribute__((__packed__));
<a name="l00101"></a>00101 
<a name="l00102"></a><a class="code" href="structdundi__answer.html">00102</a> <span class="keyword">struct </span><a class="code" href="structdundi__answer.html">dundi_answer</a> {
<a name="l00103"></a><a class="code" href="structdundi__answer.html#afd034eb91830d2df033d799c2b5420ce">00103</a>    <a class="code" href="structast__eid.html" title="An Entity ID is essentially a MAC address, brief and unique.">dundi_eid</a> <a class="code" href="structdundi__answer.html#afd034eb91830d2df033d799c2b5420ce">eid</a>;          <span class="comment">/*!&lt; Original source of answer */</span>
<a name="l00104"></a><a class="code" href="structdundi__answer.html#aadf392350a5875d2442664803a0eadc9">00104</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structdundi__answer.html#aadf392350a5875d2442664803a0eadc9">protocol</a>;       <span class="comment">/*!&lt; Protocol (DUNDI_PROTO_*) */</span>
<a name="l00105"></a><a class="code" href="structdundi__answer.html#a1cbb17ede73ea044a04a129bf4d86976">00105</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structdundi__answer.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a>;         <span class="comment">/*!&lt; Flags relating to answer */</span>
<a name="l00106"></a><a class="code" href="structdundi__answer.html#a6288d74be6b85a42be41a2cd779b8909">00106</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structdundi__answer.html#a6288d74be6b85a42be41a2cd779b8909">weight</a>;        <span class="comment">/*!&lt; Weight of answers */</span>
<a name="l00107"></a><a class="code" href="structdundi__answer.html#aef5b927d15f11382bf5f276630c08287">00107</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structdundi__answer.html#aef5b927d15f11382bf5f276630c08287">data</a>[0];        <span class="comment">/*!&lt; Protocol specific URI */</span>
<a name="l00108"></a>00108 } __attribute__((__packed__));
<a name="l00109"></a>00109 
<a name="l00110"></a><a class="code" href="structdundi__hint.html">00110</a> <span class="keyword">struct </span><a class="code" href="structdundi__hint.html">dundi_hint</a> {
<a name="l00111"></a><a class="code" href="structdundi__hint.html#a1cbb17ede73ea044a04a129bf4d86976">00111</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structdundi__hint.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a>;         <span class="comment">/*!&lt; Flags relating to answer */</span>
<a name="l00112"></a><a class="code" href="structdundi__hint.html#aef5b927d15f11382bf5f276630c08287">00112</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structdundi__hint.html#aef5b927d15f11382bf5f276630c08287">data</a>[0];        <span class="comment">/*!&lt; For data for hint */</span>
<a name="l00113"></a>00113 } __attribute__((__packed__));
<a name="l00114"></a>00114 
<a name="l00115"></a>00115 <span class="keyword">enum</span> {<span class="comment"></span>
<a name="l00116"></a>00116 <span class="comment">   /*! Success */</span>
<a name="l00117"></a><a class="code" href="dundi_8h.html#ac34c4c978f4130a92a5068f9e21ea9fcab6ef743a099142320d1291e62a1dd15b">00117</a>    <a class="code" href="dundi_8h.html#ac34c4c978f4130a92a5068f9e21ea9fcab6ef743a099142320d1291e62a1dd15b">DUNDI_CAUSE_SUCCESS</a> =     0,<span class="comment"></span>
<a name="l00118"></a>00118 <span class="comment">   /*! General unspecified failure */</span>
<a name="l00119"></a><a class="code" href="dundi_8h.html#ac34c4c978f4130a92a5068f9e21ea9fca9c0a6a7124740674b6f648b8cf5a0b1e">00119</a>    <a class="code" href="dundi_8h.html#ac34c4c978f4130a92a5068f9e21ea9fca9c0a6a7124740674b6f648b8cf5a0b1e">DUNDI_CAUSE_GENERAL</a> =     1,<span class="comment"></span>
<a name="l00120"></a>00120 <span class="comment">   /*! Requested entity is dynamic */</span>
<a name="l00121"></a><a class="code" href="dundi_8h.html#ac34c4c978f4130a92a5068f9e21ea9fcad45a7ebcd1b8c64f5e22ffe4fb22c550">00121</a>    <a class="code" href="dundi_8h.html#ac34c4c978f4130a92a5068f9e21ea9fcad45a7ebcd1b8c64f5e22ffe4fb22c550">DUNDI_CAUSE_DYNAMIC</a> =     2,<span class="comment"></span>
<a name="l00122"></a>00122 <span class="comment">   /*! No or improper authorization */</span>
<a name="l00123"></a><a class="code" href="dundi_8h.html#ac34c4c978f4130a92a5068f9e21ea9fcae7e23bbf521d3281e7595f6ff88f6b8a">00123</a>    <a class="code" href="dundi_8h.html#ac34c4c978f4130a92a5068f9e21ea9fcae7e23bbf521d3281e7595f6ff88f6b8a">DUNDI_CAUSE_NOAUTH</a> =      3,<span class="comment"></span>
<a name="l00124"></a>00124 <span class="comment">   /*! Duplicate request */</span>
<a name="l00125"></a><a class="code" href="dundi_8h.html#ac34c4c978f4130a92a5068f9e21ea9fcadf377b8b20bfa81de0c8ad77942ddf98">00125</a>    <a class="code" href="dundi_8h.html#ac34c4c978f4130a92a5068f9e21ea9fcadf377b8b20bfa81de0c8ad77942ddf98">DUNDI_CAUSE_DUPLICATE</a> =   4,<span class="comment"></span>
<a name="l00126"></a>00126 <span class="comment">   /*! Expired TTL */</span>
<a name="l00127"></a><a class="code" href="dundi_8h.html#ac34c4c978f4130a92a5068f9e21ea9fcaf0f600bf76f384eff768708e87719282">00127</a>    <a class="code" href="dundi_8h.html#ac34c4c978f4130a92a5068f9e21ea9fcaf0f600bf76f384eff768708e87719282">DUNDI_CAUSE_TTL_EXPIRED</a> = 5,<span class="comment"></span>
<a name="l00128"></a>00128 <span class="comment">   /*! Need new session key to decode */</span>
<a name="l00129"></a><a class="code" href="dundi_8h.html#ac34c4c978f4130a92a5068f9e21ea9fcaa5ab9e5c422f6b61c863400f02d900c9">00129</a>    <a class="code" href="dundi_8h.html#ac34c4c978f4130a92a5068f9e21ea9fcaa5ab9e5c422f6b61c863400f02d900c9">DUNDI_CAUSE_NEEDKEY</a> =     6,<span class="comment"></span>
<a name="l00130"></a>00130 <span class="comment">   /*! Badly encrypted data */</span>
<a name="l00131"></a><a class="code" href="dundi_8h.html#ac34c4c978f4130a92a5068f9e21ea9fcaec446ca66334bd65dfe15ac9dcab9cce">00131</a>    <a class="code" href="dundi_8h.html#ac34c4c978f4130a92a5068f9e21ea9fcaec446ca66334bd65dfe15ac9dcab9cce">DUNDI_CAUSE_BADENCRYPT</a> =  7,
<a name="l00132"></a>00132 };
<a name="l00133"></a>00133 
<a name="l00134"></a><a class="code" href="structdundi__cause.html">00134</a> <span class="keyword">struct </span><a class="code" href="structdundi__cause.html">dundi_cause</a> {       
<a name="l00135"></a><a class="code" href="structdundi__cause.html#a63efaaaa95c2ebe89b8533ecc499656b">00135</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structdundi__cause.html#a63efaaaa95c2ebe89b8533ecc499656b">causecode</a>;      <span class="comment">/*!&lt; Numerical cause (DUNDI_CAUSE_*) */</span>
<a name="l00136"></a><a class="code" href="structdundi__cause.html#a09e0803d1843c03b180a3b4f2eed2fc4">00136</a>    <span class="keywordtype">char</span> <a class="code" href="structdundi__cause.html#a09e0803d1843c03b180a3b4f2eed2fc4">desc</a>[0];           <span class="comment">/*!&lt; Textual description */</span>
<a name="l00137"></a>00137 } __attribute__((__packed__));
<a name="l00138"></a>00138 
<a name="l00139"></a><a class="code" href="structdundi__peer__status.html">00139</a> <span class="keyword">struct </span><a class="code" href="structdundi__peer__status.html">dundi_peer_status</a> {
<a name="l00140"></a><a class="code" href="structdundi__peer__status.html#ac92588540e8c1d014a08cd8a45462b19">00140</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structdundi__peer__status.html#ac92588540e8c1d014a08cd8a45462b19">flags</a>;
<a name="l00141"></a><a class="code" href="structdundi__peer__status.html#a1407c190e15950952fe33002d29dac46">00141</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structdundi__peer__status.html#a1407c190e15950952fe33002d29dac46">netlag</a>;
<a name="l00142"></a><a class="code" href="structdundi__peer__status.html#a9d32bf7a86f4059ef1affb65019ecfd6">00142</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structdundi__peer__status.html#a9d32bf7a86f4059ef1affb65019ecfd6">querylag</a>;
<a name="l00143"></a><a class="code" href="structdundi__peer__status.html#aa3622999c3bb0476022e761a93f3d748">00143</a>    <a class="code" href="structast__eid.html" title="An Entity ID is essentially a MAC address, brief and unique.">dundi_eid</a> <a class="code" href="structdundi__peer__status.html#aa3622999c3bb0476022e761a93f3d748">peereid</a>;
<a name="l00144"></a>00144 } __attribute__((__packed__));
<a name="l00145"></a>00145 
<a name="l00146"></a>00146 <span class="keyword">enum</span> {
<a name="l00147"></a><a class="code" href="dundi_8h.html#a10e74d65d7876276a8f6061c71dcf469a7c1b96762efacbb3e1fb8146edd6202c">00147</a>    <a class="code" href="dundi_8h.html#a10e74d65d7876276a8f6061c71dcf469a7c1b96762efacbb3e1fb8146edd6202c">DUNDI_PEER_PRIMARY</a> =        (1 &lt;&lt; 0),
<a name="l00148"></a><a class="code" href="dundi_8h.html#a10e74d65d7876276a8f6061c71dcf469aa3071a69d55593a8c5a6e36c4fe42d4e">00148</a>    <a class="code" href="dundi_8h.html#a10e74d65d7876276a8f6061c71dcf469aa3071a69d55593a8c5a6e36c4fe42d4e">DUNDI_PEER_SECONDARY</a> =      (1 &lt;&lt; 1),
<a name="l00149"></a><a class="code" href="dundi_8h.html#a10e74d65d7876276a8f6061c71dcf469af44e35a8669e801319ed02da3542f644">00149</a>    <a class="code" href="dundi_8h.html#a10e74d65d7876276a8f6061c71dcf469af44e35a8669e801319ed02da3542f644">DUNDI_PEER_UNAVAILABLE</a> =    (1 &lt;&lt; 2),
<a name="l00150"></a><a class="code" href="dundi_8h.html#a10e74d65d7876276a8f6061c71dcf469a2b790ff03866c9d12fde485949e286d5">00150</a>    <a class="code" href="dundi_8h.html#a10e74d65d7876276a8f6061c71dcf469a2b790ff03866c9d12fde485949e286d5">DUNDI_PEER_REGISTERED</a> =     (1 &lt;&lt; 3),
<a name="l00151"></a><a class="code" href="dundi_8h.html#a10e74d65d7876276a8f6061c71dcf469ad483047494888f9384ecef2ea3f5cba7">00151</a>    <a class="code" href="dundi_8h.html#a10e74d65d7876276a8f6061c71dcf469ad483047494888f9384ecef2ea3f5cba7">DUNDI_PEER_MOD_OUTBOUND</a> =   (1 &lt;&lt; 4),
<a name="l00152"></a><a class="code" href="dundi_8h.html#a10e74d65d7876276a8f6061c71dcf469a6b56b9fd6df5d3052bf7116bcb5ff2fd">00152</a>    <a class="code" href="dundi_8h.html#a10e74d65d7876276a8f6061c71dcf469a6b56b9fd6df5d3052bf7116bcb5ff2fd">DUNDI_PEER_MOD_INBOUND</a> =    (1 &lt;&lt; 5),
<a name="l00153"></a><a class="code" href="dundi_8h.html#a10e74d65d7876276a8f6061c71dcf469a6070dbc9446d5f3b5a227eac46945d33">00153</a>    <a class="code" href="dundi_8h.html#a10e74d65d7876276a8f6061c71dcf469a6070dbc9446d5f3b5a227eac46945d33">DUNDI_PEER_PCMOD_OUTBOUND</a> = (1 &lt;&lt; 6),
<a name="l00154"></a><a class="code" href="dundi_8h.html#a10e74d65d7876276a8f6061c71dcf469ac6e6d9b60040b1b77bce57c9a68fd905">00154</a>    <a class="code" href="dundi_8h.html#a10e74d65d7876276a8f6061c71dcf469ac6e6d9b60040b1b77bce57c9a68fd905">DUNDI_PEER_PCMOD_INBOUND</a> =  (1 &lt;&lt; 7),
<a name="l00155"></a>00155 };
<a name="l00156"></a>00156 
<a name="l00157"></a><a class="code" href="dundi_8h.html#ae6be1996c67f738eea8639940ce33431">00157</a> <span class="preprocessor">#define DUNDI_COMMAND_FINAL      (0x80)      </span><span class="comment">/*!&lt; Or&apos;d with other flags */</span>
<a name="l00158"></a>00158 
<a name="l00159"></a><a class="code" href="dundi_8h.html#ac85ab82e2cf4b695997763bedbfa6c84">00159</a> <span class="preprocessor">#define DUNDI_COMMAND_ACK     (0 | 0x40)  </span><span class="comment">/*!&lt; Ack a message */</span>
<a name="l00160"></a><a class="code" href="dundi_8h.html#ab0f58d12ffc25b840e51340b6fec5ca1">00160</a> <span class="preprocessor">#define DUNDI_COMMAND_DPDISCOVER 1     </span><span class="comment">/*!&lt; Request discovery */</span>
<a name="l00161"></a><a class="code" href="dundi_8h.html#a859251515ac9cfe1bee7e44a418aa825">00161</a> <span class="preprocessor">#define DUNDI_COMMAND_DPRESPONSE (2 | 0x40)  </span><span class="comment">/*!&lt; Respond to a discovery request */</span>
<a name="l00162"></a><a class="code" href="dundi_8h.html#a6ee2959f73b9bc37fc5823a58ae42f14">00162</a> <span class="preprocessor">#define DUNDI_COMMAND_EIDQUERY      3     </span><span class="comment">/*!&lt; Request information for a peer */</span>
<a name="l00163"></a><a class="code" href="dundi_8h.html#ab763d07b3bd3339cbc50deb535e73462">00163</a> <span class="preprocessor">#define DUNDI_COMMAND_EIDRESPONSE   (4 | 0x40)  </span><span class="comment">/*!&lt; Response to a peer query */</span>
<a name="l00164"></a><a class="code" href="dundi_8h.html#a5f2488f361adc40331a6e424dbac3740">00164</a> <span class="preprocessor">#define DUNDI_COMMAND_PRECACHERQ 5     </span><span class="comment">/*!&lt; Pre-cache Request */</span>
<a name="l00165"></a><a class="code" href="dundi_8h.html#a6741aa56d1b7795e2c816627c9611854">00165</a> <span class="preprocessor">#define DUNDI_COMMAND_PRECACHERP (6 | 0x40)  </span><span class="comment">/*!&lt; Pre-cache Response */</span>
<a name="l00166"></a><a class="code" href="dundi_8h.html#aa245b81dab726abd797fd178a154fba7">00166</a> <span class="preprocessor">#define DUNDI_COMMAND_INVALID    (7 | 0x40)  </span><span class="comment">/*!&lt; Invalid dialog state (does not require ack) */</span>
<a name="l00167"></a><a class="code" href="dundi_8h.html#ad929f1700aa0436b41cc6d0c4f6dba0e">00167</a> <span class="preprocessor">#define DUNDI_COMMAND_UNKNOWN    (8 | 0x40)  </span><span class="comment">/*!&lt; Unknown command */</span>
<a name="l00168"></a><a class="code" href="dundi_8h.html#a3719171d090354db16889cd52d0f3a28">00168</a> <span class="preprocessor">#define DUNDI_COMMAND_NULL    9     </span><span class="comment">/*!&lt; No-op */</span>
<a name="l00169"></a><a class="code" href="dundi_8h.html#af7dc06e9af2fe3294797d3ab2164bd2d">00169</a> <span class="preprocessor">#define DUNDI_COMMAND_REGREQ     (10)     </span><span class="comment">/*!&lt; Register Request */</span>
<a name="l00170"></a><a class="code" href="dundi_8h.html#af73b75a9a2ef40c6b1c999c53800b418">00170</a> <span class="preprocessor">#define DUNDI_COMMAND_REGRESPONSE   (11 | 0x40) </span><span class="comment">/*!&lt; Register Response */</span>
<a name="l00171"></a><a class="code" href="dundi_8h.html#a9c4c9643a271a051be7013b8df876cdf">00171</a> <span class="preprocessor">#define DUNDI_COMMAND_CANCEL     (12)     </span><span class="comment">/*!&lt; Cancel transaction entirely */</span>
<a name="l00172"></a><a class="code" href="dundi_8h.html#af78a65d1b49ef73bb2dfcd229f13cd44">00172</a> <span class="preprocessor">#define DUNDI_COMMAND_ENCRYPT    (13)     </span><span class="comment">/*!&lt; Send an encrypted message */</span>
<a name="l00173"></a><a class="code" href="dundi_8h.html#a6bf82316cd259748d0c0409f880c8841">00173</a> <span class="preprocessor">#define DUNDI_COMMAND_ENCREJ     (14 | 0x40) </span><span class="comment">/*!&lt; Reject an encrypted message */</span>
<a name="l00174"></a>00174 
<a name="l00175"></a><a class="code" href="dundi_8h.html#af4a930ee4af447ee14528b99086aa280">00175</a> <span class="preprocessor">#define DUNDI_COMMAND_STATUS     15    </span><span class="comment">/*!&lt; Status command */</span>
<a name="l00176"></a>00176 
<a name="l00177"></a>00177 <span class="comment">/*</span>
<a name="l00178"></a>00178 <span class="comment"> * Remember that some information elements may occur</span>
<a name="l00179"></a>00179 <span class="comment"> * more than one time within a message</span>
<a name="l00180"></a>00180 <span class="comment"> */</span>
<a name="l00181"></a>00181 
<a name="l00182"></a><a class="code" href="dundi_8h.html#a8b32aa75c41e0fdabec2c2ecc5aa7f53">00182</a> <span class="preprocessor">#define DUNDI_IE_EID       1  </span><span class="comment">/*!&lt; Entity identifier (dundi_eid) */</span>
<a name="l00183"></a><a class="code" href="dundi_8h.html#a6889e1b693ec9766d8503f547f8a2a7b">00183</a> <span class="preprocessor">#define DUNDI_IE_CALLED_CONTEXT     2  </span><span class="comment">/*!&lt; DUNDi Context (string) */</span>
<a name="l00184"></a><a class="code" href="dundi_8h.html#a7823972f84701a353dc8d24bc3bc3190">00184</a> <span class="preprocessor">#define DUNDI_IE_CALLED_NUMBER      3  </span><span class="comment">/*!&lt; Number of equivalent (string) */</span>
<a name="l00185"></a><a class="code" href="dundi_8h.html#a8801f866f4216ea9d5bc503a5af8121b">00185</a> <span class="preprocessor">#define DUNDI_IE_EID_DIRECT      4  </span><span class="comment">/*!&lt; Entity identifier (dundi_eid), direct connect */</span>
<a name="l00186"></a><a class="code" href="dundi_8h.html#afdf30ec8480910ba3234fa6e2f9cc07c">00186</a> <span class="preprocessor">#define DUNDI_IE_ANSWER       5  </span><span class="comment">/*!&lt; An answer (struct dundi_answer) */</span>
<a name="l00187"></a><a class="code" href="dundi_8h.html#a5c75c71843182d780e0c539c8fcad9bc">00187</a> <span class="preprocessor">#define DUNDI_IE_TTL       6  </span><span class="comment">/*!&lt; Max TTL for this request / Remaining TTL for the response  (short)*/</span>
<a name="l00188"></a><a class="code" href="dundi_8h.html#a12409dca54cd3a398637eaf5f0b23763">00188</a> <span class="preprocessor">#define DUNDI_IE_VERSION      10 </span><span class="comment">/*!&lt; DUNDi version (should be 1) (short) */</span>
<a name="l00189"></a><a class="code" href="dundi_8h.html#a602807c627c7a3183f382e729869ef5c">00189</a> <span class="preprocessor">#define DUNDI_IE_EXPIRATION      11 </span><span class="comment">/*!&lt; Recommended expiration (short) */</span>
<a name="l00190"></a><a class="code" href="dundi_8h.html#a92b63451b071304543805ec4232ee013">00190</a> <span class="preprocessor">#define DUNDI_IE_UNKNOWN      12 </span><span class="comment">/*!&lt; Unknown command (byte) */</span>
<a name="l00191"></a><a class="code" href="dundi_8h.html#a69a524e98fd92f87d531f634c6c60ec0">00191</a> <span class="preprocessor">#define DUNDI_IE_CAUSE        14 </span><span class="comment">/*!&lt; Success or cause of failure */</span>
<a name="l00192"></a><a class="code" href="dundi_8h.html#a75e765ebce689423cdc3f138203ad03e">00192</a> <span class="preprocessor">#define DUNDI_IE_REQEID       15 </span><span class="comment">/*!&lt; EID being requested for EIDQUERY*/</span>
<a name="l00193"></a><a class="code" href="dundi_8h.html#a311b8b502e115eec8c4ed106d9c1a267">00193</a> <span class="preprocessor">#define DUNDI_IE_ENCDATA      16 </span><span class="comment">/*!&lt; AES-128 encrypted data */</span>
<a name="l00194"></a><a class="code" href="dundi_8h.html#a8bc30c0748d02d6260317440381dcf81">00194</a> <span class="preprocessor">#define DUNDI_IE_SHAREDKEY    17 </span><span class="comment">/*!&lt; RSA encrypted AES-128 key */</span>
<a name="l00195"></a><a class="code" href="dundi_8h.html#a5fa3e04f0ea13bd3d2fb421f9b011a33">00195</a> <span class="preprocessor">#define DUNDI_IE_SIGNATURE    18 </span><span class="comment">/*!&lt; RSA Signature of encrypted shared key */</span>
<a name="l00196"></a><a class="code" href="dundi_8h.html#abdfc63ed231d754e8b913fcb58ac9a6d">00196</a> <span class="preprocessor">#define DUNDI_IE_KEYCRC32     19 </span><span class="comment">/*!&lt; CRC32 of encrypted key (int) */</span>
<a name="l00197"></a><a class="code" href="dundi_8h.html#a65865db706ab437ed5b3d4b03eae36b4">00197</a> <span class="preprocessor">#define DUNDI_IE_HINT         20 </span><span class="comment">/*!&lt; Answer hints */</span>
<a name="l00198"></a>00198 
<a name="l00199"></a><a class="code" href="dundi_8h.html#a5831650f25c96355b8ec2fd25aa467af">00199</a> <span class="preprocessor">#define DUNDI_IE_DEPARTMENT      21 </span><span class="comment">/*!&lt; Department, for EIDQUERY (string) */</span>
<a name="l00200"></a><a class="code" href="dundi_8h.html#a5bd4c1f9b20e5b7ebb222c8a2deec84a">00200</a> <span class="preprocessor">#define DUNDI_IE_ORGANIZATION    22 </span><span class="comment">/*!&lt; Organization, for EIDQUERY (string) */</span>
<a name="l00201"></a><a class="code" href="dundi_8h.html#a5f7e31bf51d360ae0dcb528c0eca2e26">00201</a> <span class="preprocessor">#define DUNDI_IE_LOCALITY     23 </span><span class="comment">/*!&lt; City/Locality, for EIDQUERY (string) */</span>
<a name="l00202"></a><a class="code" href="dundi_8h.html#af853dd9b3c1b102f9bdbf646a4a25144">00202</a> <span class="preprocessor">#define DUNDI_IE_STATE_PROV      24 </span><span class="comment">/*!&lt; State/Province, for EIDQUERY (string) */</span>
<a name="l00203"></a><a class="code" href="dundi_8h.html#a0cfdd232b47070ba1d87e33c4d716755">00203</a> <span class="preprocessor">#define DUNDI_IE_COUNTRY      25 </span><span class="comment">/*!&lt; Country, for EIDQUERY (string) */</span>
<a name="l00204"></a><a class="code" href="dundi_8h.html#ad3b4b2c39840a47f1eed0bc17694232e">00204</a> <span class="preprocessor">#define DUNDI_IE_EMAIL        26 </span><span class="comment">/*!&lt; E-mail addy, for EIDQUERY (string) */</span>
<a name="l00205"></a><a class="code" href="dundi_8h.html#a75e3113d76c98bfa8c44dc8f7084d65c">00205</a> <span class="preprocessor">#define DUNDI_IE_PHONE        27 </span><span class="comment">/*!&lt; Contact Phone, for EIDQUERY (string) */</span>
<a name="l00206"></a><a class="code" href="dundi_8h.html#a4ee948b425a3fb99fdbac7e13b54d2f6">00206</a> <span class="preprocessor">#define DUNDI_IE_IPADDR       28 </span><span class="comment">/*!&lt; IP Address, for EIDQUERY (string) */</span>
<a name="l00207"></a><a class="code" href="dundi_8h.html#a1f7543627a8138ef37f0b41818e17c16">00207</a> <span class="preprocessor">#define DUNDI_IE_CACHEBYPASS     29 </span><span class="comment">/*!&lt; Bypass cache (empty) */</span>
<a name="l00208"></a>00208 
<a name="l00209"></a><a class="code" href="dundi_8h.html#a9ae92ded1a0a866dab84ad2599846165">00209</a> <span class="preprocessor">#define DUNDI_IE_PEERSTATUS      30    </span><span class="comment">/*!&lt; Peer/peer status (struct dundi_peer_status) */</span>
<a name="l00210"></a>00210 
<a name="l00211"></a><a class="code" href="dundi_8h.html#a556c4830d97d16b1fb7d224ad87bff8b">00211</a> <span class="preprocessor">#define DUNDI_FLUFF_TIME      2000  </span><span class="comment">/*!&lt; Amount of time for answer */</span>
<a name="l00212"></a><a class="code" href="dundi_8h.html#a60355312c3a3abcf306b78dc92486168">00212</a> <span class="preprocessor">#define DUNDI_TTL_TIME        200   </span><span class="comment">/*!&lt; Incremental average time */</span>
<a name="l00213"></a>00213 
<a name="l00214"></a><a class="code" href="dundi_8h.html#a8aa57f604b9983690f5dc712b5e3f93c">00214</a> <span class="preprocessor">#define DUNDI_DEFAULT_RETRANS    5</span>
<a name="l00215"></a><a class="code" href="dundi_8h.html#ab600dadd9dafb433d43cca1b2071b4da">00215</a> <span class="preprocessor"></span><span class="preprocessor">#define DUNDI_DEFAULT_RETRANS_TIMER 1000</span>
<a name="l00216"></a><a class="code" href="dundi_8h.html#a6c22ea75a0d756702702608ef421590b">00216</a> <span class="preprocessor"></span><span class="preprocessor">#define DUNDI_DEFAULT_TTL     120   </span><span class="comment">/*!&lt; In seconds/hops like TTL */</span>
<a name="l00217"></a><a class="code" href="dundi_8h.html#a1c04d916688aa7257c4c0feca589b17d">00217</a> <span class="preprocessor">#define DUNDI_DEFAULT_VERSION    1</span>
<a name="l00218"></a><a class="code" href="dundi_8h.html#aa28cf92d78bb7b9d8bc76ff2b8ae4787">00218</a> <span class="preprocessor"></span><span class="preprocessor">#define DUNDI_DEFAULT_CACHE_TIME 3600  </span><span class="comment">/*!&lt; In seconds */</span>
<a name="l00219"></a><a class="code" href="dundi_8h.html#adfbdc109a4382001e0631c57075054a1">00219</a> <span class="preprocessor">#define DUNDI_DEFAULT_KEY_EXPIRE 3600  </span><span class="comment">/*!&lt; Life of shared key In seconds */</span>
<a name="l00220"></a><a class="code" href="dundi_8h.html#aecee52cb1f4a872d820cee1e46591529">00220</a> <span class="preprocessor">#define DUNDI_DEF_EMPTY_CACHE_TIME  60 </span><span class="comment">/*!&lt; In seconds, cache of empty answer */</span>
<a name="l00221"></a><a class="code" href="dundi_8h.html#a401e5f843a693b21de244d10b3b3ed6c">00221</a> <span class="preprocessor">#define DUNDI_WINDOW       1  </span><span class="comment">/*!&lt; Max 1 message in window */</span>
<a name="l00222"></a>00222 
<a name="l00223"></a><a class="code" href="dundi_8h.html#a960e3be6d1f16d936afd3d6fba7f31b0">00223</a> <span class="preprocessor">#define DEFAULT_MAXMS         2000</span>
<a name="l00224"></a>00224 <span class="preprocessor"></span>
<a name="l00225"></a><a class="code" href="structdundi__result.html">00225</a> <span class="keyword">struct </span><a class="code" href="structdundi__result.html">dundi_result</a> {
<a name="l00226"></a><a class="code" href="structdundi__result.html#ac92588540e8c1d014a08cd8a45462b19">00226</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structdundi__result.html#ac92588540e8c1d014a08cd8a45462b19">flags</a>;
<a name="l00227"></a><a class="code" href="structdundi__result.html#aa01147b1f07072d246c76dc85d69df7c">00227</a>    <span class="keywordtype">int</span> <a class="code" href="structdundi__result.html#aa01147b1f07072d246c76dc85d69df7c">weight</a>;
<a name="l00228"></a><a class="code" href="structdundi__result.html#ad6057e40387509de502bdc91007d3238">00228</a>    <span class="keywordtype">int</span> <a class="code" href="structdundi__result.html#ad6057e40387509de502bdc91007d3238">expiration</a>;
<a name="l00229"></a><a class="code" href="structdundi__result.html#a8361ea43bdb1990170b1de986c1ff898">00229</a>    <span class="keywordtype">int</span> <a class="code" href="structdundi__result.html#a8361ea43bdb1990170b1de986c1ff898">techint</a>;
<a name="l00230"></a><a class="code" href="structdundi__result.html#afd034eb91830d2df033d799c2b5420ce">00230</a>    <a class="code" href="structast__eid.html" title="An Entity ID is essentially a MAC address, brief and unique.">dundi_eid</a> <a class="code" href="structdundi__result.html#afd034eb91830d2df033d799c2b5420ce">eid</a>;
<a name="l00231"></a><a class="code" href="structdundi__result.html#a27e688430fbfa33f62807848a30a644b">00231</a>    <span class="keywordtype">char</span> <a class="code" href="structdundi__result.html#a27e688430fbfa33f62807848a30a644b">eid_str</a>[20];
<a name="l00232"></a><a class="code" href="structdundi__result.html#a9f38c22f98ac1c23c8aece0e44de1fbb">00232</a>    <span class="keywordtype">char</span> <a class="code" href="structdundi__result.html#a9f38c22f98ac1c23c8aece0e44de1fbb">tech</a>[10];
<a name="l00233"></a><a class="code" href="structdundi__result.html#a0a914a2222f9615f1ccd631188cad015">00233</a>    <span class="keywordtype">char</span> <a class="code" href="structdundi__result.html#a0a914a2222f9615f1ccd631188cad015">dest</a>[256];
<a name="l00234"></a>00234 };
<a name="l00235"></a>00235 
<a name="l00236"></a><a class="code" href="structdundi__entity__info.html">00236</a> <span class="keyword">struct </span><a class="code" href="structdundi__entity__info.html">dundi_entity_info</a> {
<a name="l00237"></a><a class="code" href="structdundi__entity__info.html#a03e72b5f331070bc01418a74af199eb9">00237</a>    <span class="keywordtype">char</span> <a class="code" href="structdundi__entity__info.html#a03e72b5f331070bc01418a74af199eb9">country</a>[80];
<a name="l00238"></a><a class="code" href="structdundi__entity__info.html#ac87afa7a52fa95a8c90ba8e1f61c6957">00238</a>    <span class="keywordtype">char</span> <a class="code" href="structdundi__entity__info.html#ac87afa7a52fa95a8c90ba8e1f61c6957">stateprov</a>[80];
<a name="l00239"></a><a class="code" href="structdundi__entity__info.html#a41e968a3ec944a6d905765d9a44a286f">00239</a>    <span class="keywordtype">char</span> <a class="code" href="structdundi__entity__info.html#a41e968a3ec944a6d905765d9a44a286f">locality</a>[80];
<a name="l00240"></a><a class="code" href="structdundi__entity__info.html#ad51e32c16369e570e5b8eeac50679e74">00240</a>    <span class="keywordtype">char</span> <a class="code" href="structdundi__entity__info.html#ad51e32c16369e570e5b8eeac50679e74">org</a>[80];
<a name="l00241"></a><a class="code" href="structdundi__entity__info.html#a3d5fcd34d1cd21ee17813770ff6e8b12">00241</a>    <span class="keywordtype">char</span> <a class="code" href="structdundi__entity__info.html#a3d5fcd34d1cd21ee17813770ff6e8b12">orgunit</a>[80];
<a name="l00242"></a><a class="code" href="structdundi__entity__info.html#aadd75c09e15efa9061997f033b3f224b">00242</a>    <span class="keywordtype">char</span> <a class="code" href="structdundi__entity__info.html#aadd75c09e15efa9061997f033b3f224b">email</a>[80];
<a name="l00243"></a><a class="code" href="structdundi__entity__info.html#a2483a4aba107ceb21350c25ef3e4e2be">00243</a>    <span class="keywordtype">char</span> <a class="code" href="structdundi__entity__info.html#a2483a4aba107ceb21350c25ef3e4e2be">phone</a>[80];   
<a name="l00244"></a><a class="code" href="structdundi__entity__info.html#abe4895c1ad7c3100e5566b3a9257f2e9">00244</a>    <span class="keywordtype">char</span> <a class="code" href="structdundi__entity__info.html#abe4895c1ad7c3100e5566b3a9257f2e9">ipaddr</a>[80];
<a name="l00245"></a>00245 };
<a name="l00246"></a>00246 <span class="comment"></span>
<a name="l00247"></a>00247 <span class="comment">/*! </span>
<a name="l00248"></a>00248 <span class="comment"> * \brief Lookup the given number in the given dundi context.</span>
<a name="l00249"></a>00249 <span class="comment"> * Lookup number in a given dundi context (if unspecified use e164), the given callerid (if specified) </span>
<a name="l00250"></a>00250 <span class="comment"> * and return up to maxret results in the array specified.</span>
<a name="l00251"></a>00251 <span class="comment"> * \retval the number of results found.</span>
<a name="l00252"></a>00252 <span class="comment"> * \retval -1 on a hangup of the channel. </span>
<a name="l00253"></a>00253 <span class="comment">*/</span>
<a name="l00254"></a>00254 <span class="keywordtype">int</span> <a class="code" href="dundi_8h.html#ac696f9497eeaf95c6fb4bacab1b7a5e5" title="Lookup the given number in the given dundi context. Lookup number in a given dundi...">dundi_lookup</a>(<span class="keyword">struct</span> <a class="code" href="structdundi__result.html">dundi_result</a> *result, <span class="keywordtype">int</span> maxret, <span class="keyword">struct</span> <a class="code" href="structast__channel.html" title="Main Channel structure associated with a channel. This is the side of it mostly used...">ast_channel</a> *<a class="code" href="adsistub_8c.html#a322af389d034b8f1282da0a853ffb921">chan</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *dcontext, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structnumber.html" title="Number structure.">number</a>, <span class="keywordtype">int</span> nocache);
<a name="l00255"></a>00255 <span class="comment"></span>
<a name="l00256"></a>00256 <span class="comment">/*! \brief Retrieve information on a specific EID */</span>
<a name="l00257"></a>00257 <span class="keywordtype">int</span> <a class="code" href="dundi_8h.html#ab7d4d0ea507459ad46545ed807d75477" title="Retrieve information on a specific EID.">dundi_query_eid</a>(<span class="keyword">struct</span> <a class="code" href="structdundi__entity__info.html">dundi_entity_info</a> *dei, <span class="keyword">const</span> <span class="keywordtype">char</span> *dcontext, <a class="code" href="structast__eid.html" title="An Entity ID is essentially a MAC address, brief and unique.">dundi_eid</a> eid);
<a name="l00258"></a>00258 <span class="comment"></span>
<a name="l00259"></a>00259 <span class="comment">/*! \brief Pre-cache to push upstream peers */</span>
<a name="l00260"></a>00260 <span class="keywordtype">int</span> <a class="code" href="dundi_8h.html#a6c8b8cf36e6c12edd5e4664cd60f935c" title="Pre-cache to push upstream peers.">dundi_precache</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *dcontext, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structnumber.html" title="Number structure.">number</a>);
<a name="l00261"></a>00261 
<a name="l00262"></a>00262 <span class="preprocessor">#endif </span><span class="comment">/* _ASTERISK_DUNDI_H */</span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed May 5 15:18:39 2010 for Asterisk - the Open Source PBX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
