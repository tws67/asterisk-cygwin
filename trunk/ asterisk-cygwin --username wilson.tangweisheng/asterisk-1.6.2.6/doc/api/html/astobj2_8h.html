<HTML>
    <HEAD>
      <TITLE>Asterisk.org: Developer Documentation (5 May 2010)</TITLE>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<div><font size="2" align="right">Wed May 5 15:19:39 2010</font></div>

<h2>Asterisk developer's documentation</h2>
<hr/>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_1ab815038f534adda65c8b4ae4993449.html">include</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_16d825f1fa9ecca2e70b1a8d9256d0e6.html">asterisk</a>
  </div>
</div>
<div class="contents">
<h1>astobj2.h File Reference</h1><code>#include &quot;<a class="el" href="compat_8h_source.html">asterisk/compat.h</a>&quot;</code><br/>

<p><a href="astobj2_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structao2__iterator.html">ao2_iterator</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">When we need to walk through a container, we use an <a class="el" href="structao2__iterator.html" title="When we need to walk through a container, we use an ao2_iterator to keep track of...">ao2_iterator</a> to keep track of the current position.  <a href="structao2__iterator.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structao2__list.html">ao2_list</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used as return value if the flag OBJ_MULTIPLE is set.  <a href="structao2__list.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a8e503755d09d62167c82ca2ed28a18ff">ao2_callback_data</a>(arg1, arg2, arg3, arg4, arg5)&nbsp;&nbsp;&nbsp;_ao2_callback_data((arg1), (arg2), (arg3), (arg4), (arg5))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a618587b42226725315b96db394b13673">ao2_find</a>(arg1, arg2, arg3)&nbsp;&nbsp;&nbsp;_ao2_find((arg1), (arg2), (arg3))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a1cf2fe1aafd3cb9e613eb48535a37ad5">ao2_iterator_next</a>(arg1)&nbsp;&nbsp;&nbsp;_ao2_iterator_next((arg1))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a4e3309bf4c23b24972065ea81a26eee1">ao2_t_callback_data</a>(arg1, arg2, arg3, arg4, arg5, arg6)&nbsp;&nbsp;&nbsp;_ao2_callback_data((arg1), (arg2), (arg3), (arg4), (arg5))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="astobj2_8h.html#a8e503755d09d62167c82ca2ed28a18ff">ao2_callback_data()</a> is a generic function that applies cb_fn() to all objects in a container. It is functionally identical to <a class="el" href="astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback()</a> except that instead of taking an ao2_callback_fn *, it takes an ao2_callback_data_fn *, and allows the caller to pass in arbitrary data.  <a href="#a4e3309bf4c23b24972065ea81a26eee1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a804bb959fec31c062b3848316b8e80b1">ao2_t_find</a>(arg1, arg2, arg3, arg4)&nbsp;&nbsp;&nbsp;_ao2_find((arg1), (arg2), (arg3))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#aace7c75c12ac954ed78d72eb84ea0477">ao2_t_iterator_next</a>(arg1, arg2)&nbsp;&nbsp;&nbsp;_ao2_iterator_next((arg1))</td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#ae472805461071323e68cba1f441081f3">ao2_callback_data_fn</a> )(void *obj, void *arg, void *data, int flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type of a generic callback function.  <a href="#ae472805461071323e68cba1f441081f3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a4de0d949b2c7e11310c21ad64a83cf72">ao2_callback_fn</a> )(void *obj, void *arg, int flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type of a generic callback function.  <a href="#a4de0d949b2c7e11310c21ad64a83cf72"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a2ded496320c49a7b1420647373ec3e32">ao2_destructor_fn</a> )(void *)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Typedef for an object destructor. This is called just before freeing the memory for the object. It is passed a pointer to the user-defined data of the object.  <a href="#a2ded496320c49a7b1420647373ec3e32"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#ab29eb962131d79590e1ee1f07ba41818">ao2_hash_fn</a> )(const void *obj, const int flags)</td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1">_cb_results</a> { <a class="el" href="astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a> =  0x1, 
<a class="el" href="astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df">CMP_STOP</a> =  0x2
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>A callback function will return a combination of CMP_MATCH and CMP_STOP. The latter will terminate the search in a container. </p>
 <a href="astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6ab">ao2_iterator_flags</a> { <a class="el" href="astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6aba42e2c6aadc44e4259a058a6675b7e7e4">AO2_ITERATOR_DONTLOCK</a> =  (1 &lt;&lt; 0)
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35c">search_flags</a> { <br/>
&nbsp;&nbsp;<a class="el" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a> =  (1 &lt;&lt; 0), 
<a class="el" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> =  (1 &lt;&lt; 1), 
<a class="el" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a> =  (1 &lt;&lt; 2), 
<a class="el" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca32d49976aaebc093266f0b080f9c9a73">OBJ_POINTER</a> =  (1 &lt;&lt; 3), 
<br/>
&nbsp;&nbsp;<a class="el" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca94dc57035c55d676cdbf9762c582b8aa">OBJ_CONTINUE</a> =  (1 &lt;&lt; 4)
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Flags passed to <a class="el" href="astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback()</a> and <a class="el" href="astobj2_8h.html#ab29eb962131d79590e1ee1f07ba41818">ao2_hash_fn()</a> to modify its behaviour. </p>
 <a href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35c">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#ab950909059ac21e01244919265d1922a">_ao2_callback_data</a> (struct <a class="el" href="structao2__container.html">ao2_container</a> *c, enum <a class="el" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35c">search_flags</a> flags, <a class="el" href="astobj2_8h.html#ae472805461071323e68cba1f441081f3">ao2_callback_data_fn</a> *cb_fn, void *arg, void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a3dfc8ce69ff853de11f8f5cadc1e4ba5">_ao2_callback_data_debug</a> (struct <a class="el" href="structao2__container.html">ao2_container</a> *c, enum <a class="el" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35c">search_flags</a> flags, <a class="el" href="astobj2_8h.html#ae472805461071323e68cba1f441081f3">ao2_callback_data_fn</a> *cb_fn, void *arg, void *data, char *tag, char *file, int line, const char *funcname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a1fbe06cf1b054fe94d7ff6b06343e7d0">_ao2_find</a> (struct <a class="el" href="structao2__container.html">ao2_container</a> *c, void *arg, enum <a class="el" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35c">search_flags</a> flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a5dbd3b81ca89a8474950a7e44ad8adc5">_ao2_find_debug</a> (struct <a class="el" href="structao2__container.html">ao2_container</a> *c, void *arg, enum <a class="el" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35c">search_flags</a> flags, char *tag, char *file, int line, const char *funcname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a5ac650a7e344398ffff27fbbf2025a9d">_ao2_iterator_next</a> (struct <a class="el" href="structao2__iterator.html">ao2_iterator</a> *a)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#ac092231df7591e0517dbc9e05b38abde">_ao2_iterator_next_debug</a> (struct <a class="el" href="structao2__iterator.html">ao2_iterator</a> *a, char *tag, char *file, int line, const char *funcname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a96dd2bfd0e6c27a4deaa8356e7821ec5">ao2_bt</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a62d5d9e9d0fa281168e6a08ef4a52450">ao2_iterator_destroy</a> (struct <a class="el" href="structao2__iterator.html">ao2_iterator</a> *i)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroy a container iterator.  <a href="#a62d5d9e9d0fa281168e6a08ef4a52450"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structao2__iterator.html">ao2_iterator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a288075de687152d297308ea1ea963edb">ao2_iterator_init</a> (struct <a class="el" href="structao2__container.html">ao2_container</a> *c, int flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create an iterator for a container.  <a href="#a288075de687152d297308ea1ea963edb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a3077056d07f6f9e348a54a743769bad5">ao2_lock</a> (void *a)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lock an object.  <a href="#a3077056d07f6f9e348a54a743769bad5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a503b6c7ced96f9b56ec59c115cbeb29a">ao2_object_get_lockaddr</a> (void *obj)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the lock address of an object.  <a href="#a503b6c7ced96f9b56ec59c115cbeb29a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a54c54e4aa6dd4a45f2445f67b3ed6e83">ao2_trylock</a> (void *a)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Try locking-- (don't block if fail).  <a href="#a54c54e4aa6dd4a45f2445f67b3ed6e83"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a379cc936a320f2179f7beb422dc15230">ao2_unlock</a> (void *a)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unlock an object.  <a href="#a379cc936a320f2179f7beb422dc15230"></a><br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="astobj2_8h.html#a4de0d949b2c7e11310c21ad64a83cf72">ao2_callback_fn</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#ad3cdef7b57f55d9f43407ab7c15c3422">ao2_match_by_addr</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">a very common callback is one that matches by address.  <a href="#ad3cdef7b57f55d9f43407ab7c15c3422"></a><br/></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrpd41d8cd98f00b204e9800998ecf8427e"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(data_size, destructor_fn)&nbsp;&nbsp;&nbsp;_ao2_alloc_debug((data_size), (destructor_fn), &quot;&quot;,  __FILE__, __LINE__, __PRETTY_FUNCTION__, 0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(c, flags, cb_fn, arg)&nbsp;&nbsp;&nbsp;_ao2_callback((c), (flags), (cb_fn), (arg))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(o, delta)&nbsp;&nbsp;&nbsp;_ao2_ref((o), (delta))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#ad57326008c326db88dc36779741622b8">ao2_t_alloc</a>(data_size, destructor_fn, debug_msg)&nbsp;&nbsp;&nbsp;_ao2_alloc_debug((data_size), (destructor_fn), (debug_msg),  __FILE__, __LINE__, __PRETTY_FUNCTION__, 0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate and initialize an object.  <a href="#ad57326008c326db88dc36779741622b8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#aeca960ec22a1d0384f6e285b25df8501">ao2_t_callback</a>(c, flags, cb_fn, arg, tag)&nbsp;&nbsp;&nbsp;_ao2_callback((c), (flags), (cb_fn), (arg))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback()</a> is a generic function that applies cb_fn() to all objects in a container, as described below.  <a href="#aeca960ec22a1d0384f6e285b25df8501"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(o, delta, tag)&nbsp;&nbsp;&nbsp;_ao2_ref((o), (delta))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reference/unreference an object and return the old refcount.  <a href="#a14c61bcab109a520a96d30c56ba5fcde"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#abbdf3f8df491fe56536e0fdd4c35b17a">_ao2_alloc</a> (const size_t data_size, <a class="el" href="astobj2_8h.html#a2ded496320c49a7b1420647373ec3e32">ao2_destructor_fn</a> destructor_fn)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#acaa3595d4023693e24ae4b5bb5fe1372">_ao2_alloc_debug</a> (const size_t data_size, <a class="el" href="astobj2_8h.html#a2ded496320c49a7b1420647373ec3e32">ao2_destructor_fn</a> destructor_fn, char *tag, const char *file, int line, const char *funcname, int ref_debug)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a30b201eaf8b1b0ac4a3fa50077f9c7ce">_ao2_callback</a> (struct <a class="el" href="structao2__container.html">ao2_container</a> *c, enum <a class="el" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35c">search_flags</a> flags, <a class="el" href="astobj2_8h.html#a4de0d949b2c7e11310c21ad64a83cf72">ao2_callback_fn</a> *cb_fn, void *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#af2131d6b7aa8aa592b86de680087b529">_ao2_callback_debug</a> (struct <a class="el" href="structao2__container.html">ao2_container</a> *c, enum <a class="el" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35c">search_flags</a> flags, <a class="el" href="astobj2_8h.html#a4de0d949b2c7e11310c21ad64a83cf72">ao2_callback_fn</a> *cb_fn, void *arg, char *tag, char *file, int line, const char *funcname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a601e8d270ad5a16144370908e0a64233">_ao2_ref</a> (void *o, int delta)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a8edbc54a8389a1d173305dd79af77873">_ao2_ref_debug</a> (void *o, int delta, char *tag, char *file, int line, const char *funcname)</td></tr>
<tr><td colspan="2"><h2>Object Containers</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrpf2c5c542ab19957c0ba479fd069f5e2b"></a> Here start declarations of containers. </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a82534c91be59ec9a3d3318ec85ac5695">ao2_container_alloc</a>(arg1, arg2, arg3)&nbsp;&nbsp;&nbsp;_ao2_container_alloc_debug((arg1), (arg2), (arg3), &quot;&quot;,  __FILE__, __LINE__, __PRETTY_FUNCTION__, 0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a0963146a7af29455f2540e5654daa5f7">ao2_t_container_alloc</a>(arg1, arg2, arg3, arg4)&nbsp;&nbsp;&nbsp;_ao2_container_alloc_debug((arg1), (arg2), (arg3), (arg4),  __FILE__, __LINE__, __PRETTY_FUNCTION__, 0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate and initialize a container with the desired <a class="el" href="structnumber.html" title="Number structure.">number</a> of buckets.  <a href="#a0963146a7af29455f2540e5654daa5f7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structao2__container.html">ao2_container</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#ac98471c354880632e2ef7869a53b4e5d">_ao2_container_alloc</a> (const unsigned int n_buckets, <a class="el" href="astobj2_8h.html#ab29eb962131d79590e1ee1f07ba41818">ao2_hash_fn</a> *<a class="el" href="event_8c.html#affe6d185cf034f97d9e746dbfc8fb11c">hash_fn</a>, <a class="el" href="astobj2_8h.html#a4de0d949b2c7e11310c21ad64a83cf72">ao2_callback_fn</a> *cmp_fn)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structao2__container.html">ao2_container</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a96b9708f9b7fa0d87ce611d275380779">_ao2_container_alloc_debug</a> (const unsigned int n_buckets, <a class="el" href="astobj2_8h.html#ab29eb962131d79590e1ee1f07ba41818">ao2_hash_fn</a> *<a class="el" href="event_8c.html#affe6d185cf034f97d9e746dbfc8fb11c">hash_fn</a>, <a class="el" href="astobj2_8h.html#a4de0d949b2c7e11310c21ad64a83cf72">ao2_callback_fn</a> *cmp_fn, char *tag, char *file, int line, const char *funcname, int ref_debug)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a> (struct <a class="el" href="structao2__container.html">ao2_container</a> *c)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the <a class="el" href="structnumber.html" title="Number structure.">number</a> of elements in a container.  <a href="#a512cc40ce96c63b3d5c78040baa4c9cd"></a><br/></td></tr>
<tr><td colspan="2"><h2>Object Management</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp2ddd0d4d3fedce3d0582a29118ca23db"></a> Here we have functions to manage objects.</p>
<p>We can use the functions below on any kind of object defined by the <a class="el" href="structuser.html" title="structure to hold users read from users.conf">user</a>. </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a210544bdcc5afe0601d01d6e529c22d8">ao2_link</a>(arg1, arg2)&nbsp;&nbsp;&nbsp;_ao2_link((arg1), (arg2))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#adc3c0db3563654f7f71244961a4479dd">ao2_t_link</a>(arg1, arg2, arg3)&nbsp;&nbsp;&nbsp;_ao2_link((arg1), (arg2))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add an object to a container.  <a href="#adc3c0db3563654f7f71244961a4479dd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a483ff2b4557a1f0f9031ac85ce1d2004">ao2_t_unlink</a>(arg1, arg2, arg3)&nbsp;&nbsp;&nbsp;_ao2_unlink((arg1), (arg2))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove an object from a container.  <a href="#a483ff2b4557a1f0f9031ac85ce1d2004"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a1bd301bcff8b41c07adbecf93eb7dce7">ao2_unlink</a>(arg1, arg2)&nbsp;&nbsp;&nbsp;_ao2_unlink((arg1), (arg2))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#aa51c4e23ee87405f06a5f436216e9b5b">_ao2_link</a> (struct <a class="el" href="structao2__container.html">ao2_container</a> *c, void *newobj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#ac26df7b597bacc7320e1e6a46aeae9a3">_ao2_link_debug</a> (struct <a class="el" href="structao2__container.html">ao2_container</a> *c, void *new_obj, char *tag, char *file, int line, const char *funcname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a433e9ffdffae0842c144a75bc8fda81d">_ao2_unlink</a> (struct <a class="el" href="structao2__container.html">ao2_container</a> *c, void *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj2_8h.html#a67726b01484280efb644a29114ca00b9">_ao2_unlink_debug</a> (struct <a class="el" href="structao2__container.html">ao2_container</a> *c, void *obj, char *tag, char *file, int line, const char *funcname)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><a class="el" href="AstObj2.html">Object Model implementing objects and containers.</a> </p>

<p>Definition in file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ae0422b60d8e25b6962b2d61ae4ddf724"></a><!-- doxytag: member="astobj2.h::ao2_alloc" ref="ae0422b60d8e25b6962b2d61ae4ddf724" args="(data_size, destructor_fn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ao2_alloc</td>
          <td>(</td>
          <td class="paramtype">data_size, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">destructor_fn&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;_ao2_alloc_debug((data_size), (destructor_fn), &quot;&quot;,  __FILE__, __LINE__, __PRETTY_FUNCTION__, 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l00413">413</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

<p>Referenced by <a class="el" href="res__musiconhold_8c_source.html#l01204">_moh_class_malloc()</a>, <a class="el" href="chan__iax2_8c_source.html#l02333">add_calltoken_ignore()</a>, <a class="el" href="event_8c_source.html#l01064">alloc_event_ref()</a>, <a class="el" href="bridging_8c_source.html#l00448">ast_bridge_new()</a>, <a class="el" href="res__odbc_8c_source.html#l01156">ast_odbc_request_obj2()</a>, <a class="el" href="indications_8c_source.html#l00567">ast_register_indication()</a>, <a class="el" href="taskprocessor_8c_source.html#l00407">ast_taskprocessor_get()</a>, <a class="el" href="tcptls_8c_source.html#l00376">ast_tcptls_client_create()</a>, <a class="el" href="tcptls_8c_source.html#l00233">ast_tcptls_server_root()</a>, <a class="el" href="indications_8c_source.html#l00622">ast_tone_zone_alloc()</a>, <a class="el" href="chan__iax2_8c_source.html#l02278">build_callno_limits()</a>, <a class="el" href="chan__console_8c_source.html#l01323">build_device()</a>, <a class="el" href="chan__iax2_8c_source.html#l11880">build_peer()</a>, <a class="el" href="res__phoneprov_8c_source.html#l00583">build_profile()</a>, <a class="el" href="res__phoneprov_8c_source.html#l00556">build_route()</a>, <a class="el" href="chan__iax2_8c_source.html#l12156">build_user()</a>, <a class="el" href="app__meetme_8c_source.html#l01998">conf_run()</a>, <a class="el" href="chan__iax2_8c_source.html#l02488">create_callno_pools()</a>, <a class="el" href="features_8c_source.html#l03525">create_parkinglot()</a>, <a class="el" href="app__queue_8c_source.html#l01117">create_queue_member()</a>, <a class="el" href="func__dialgroup_8c_source.html#l00193">dialgroup_write()</a>, <a class="el" href="file_8c_source.html#l00339">get_filestream()</a>, <a class="el" href="func__lock_8c_source.html#l00211">get_lock()</a>, <a class="el" href="app__voicemail_8c_source.html#l00855">inprocess_count()</a>, <a class="el" href="app__confbridge_8c_source.html#l00394">join_conference_bridge()</a>, <a class="el" href="res__clialiases_8c_source.html#l00178">load_config()</a>, <a class="el" href="res__odbc_8c_source.html#l00730">load_odbc_config()</a>, <a class="el" href="bridge__multiplexed_8c_source.html#l00094">multiplexed_bridge_create()</a>, <a class="el" href="chan__iax2_8c_source.html#l01763">new_iax()</a>, <a class="el" href="chan__iax2_8c_source.html#l02169">peercnt_add()</a>, <a class="el" href="chan__sip_8c_source.html#l03318">proxy_allocate()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00107">pthread_timer_open()</a>, <a class="el" href="config_8c_source.html#l01520">set_fn()</a>, <a class="el" href="chan__sip_8c_source.html#l22074">sip_prepare_socket()</a>, <a class="el" href="chan__sip_8c_source.html#l02842">sip_tcptls_write()</a>, <a class="el" href="chan__sip_8c_source.html#l02818">sip_threadinfo_create()</a>, <a class="el" href="res__timing__timerfd_8c_source.html#l00095">timerfd_timer_open()</a>, <a class="el" href="app__queue_8c_source.html#l03569">try_calling()</a>, and <a class="el" href="manager_8c_source.html#l03704">xml_translate()</a>.</p>

</div>
</div>
<a class="anchor" id="a47857055118a703ae87ea5ebaf4842ed"></a><!-- doxytag: member="astobj2.h::ao2_callback" ref="a47857055118a703ae87ea5ebaf4842ed" args="(c, flags, cb_fn, arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ao2_callback</td>
          <td>(</td>
          <td class="paramtype">c, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">flags, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cb_fn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;_ao2_callback((c), (flags), (cb_fn), (arg))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l00916">916</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

<p>Referenced by <a class="el" href="event_8c_source.html#l00466">ast_event_dump_cache()</a>, <a class="el" href="event_8c_source.html#l01094">ast_event_queue_and_cache()</a>, <a class="el" href="res__odbc_8c_source.html#l01156">ast_odbc_request_obj2()</a>, <a class="el" href="indications_8c_source.html#l00536">ast_unregister_indication_country()</a>, <a class="el" href="chan__iax2_8c_source.html#l02031">calltoken_required()</a>, <a class="el" href="chan__iax2_8c_source.html#l12414">delete_users()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00449">do_timing()</a>, <a class="el" href="chan__console_8c_source.html#l01384">load_config()</a>, <a class="el" href="indications_8c_source.html#l01030">load_indications()</a>, <a class="el" href="chan__iax2_8c_source.html#l13805">load_module()</a>, <a class="el" href="bridge__multiplexed_8c_source.html#l00094">multiplexed_bridge_create()</a>, <a class="el" href="chan__iax2_8c_source.html#l12947">reload_config()</a>, <a class="el" href="app__queue_8c_source.html#l05964">reload_queues()</a>, <a class="el" href="app__queue_8c_source.html#l05834">reload_single_queue()</a>, <a class="el" href="chan__iax2_8c_source.html#l12474">set_config_destroy()</a>, <a class="el" href="chan__iax2_8c_source.html#l02090">set_peercnt_limit()</a>, and <a class="el" href="chan__sip_8c_source.html#l22061">sip_tcp_locate()</a>.</p>

</div>
</div>
<a class="anchor" id="a8e503755d09d62167c82ca2ed28a18ff"></a><!-- doxytag: member="astobj2.h::ao2_callback_data" ref="a8e503755d09d62167c82ca2ed28a18ff" args="(arg1, arg2, arg3, arg4, arg5)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ao2_callback_data</td>
          <td>(</td>
          <td class="paramtype">arg1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg2, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg3, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg4, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg5&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;_ao2_callback_data((arg1), (arg2), (arg3), (arg4), (arg5))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l00948">948</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

</div>
</div>
<a class="anchor" id="a82534c91be59ec9a3d3318ec85ac5695"></a><!-- doxytag: member="astobj2.h::ao2_container_alloc" ref="a82534c91be59ec9a3d3318ec85ac5695" args="(arg1, arg2, arg3)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ao2_container_alloc</td>
          <td>(</td>
          <td class="paramtype">arg1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg2, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg3&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;_ao2_container_alloc_debug((arg1), (arg2), (arg3), &quot;&quot;,  __FILE__, __LINE__, __PRETTY_FUNCTION__, 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l00727">727</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

<p>Referenced by <a class="el" href="config_8c_source.html#l01591">ast_config_text_file_save()</a>, <a class="el" href="event_8c_source.html#l01289">ast_event_init()</a>, <a class="el" href="features_8c_source.html#l04642">ast_features_init()</a>, <a class="el" href="indications_8c_source.html#l01106">ast_indications_init()</a>, <a class="el" href="taskprocessor_8c_source.html#l00122">ast_tps_init()</a>, <a class="el" href="chan__iax2_8c_source.html#l02488">create_callno_pools()</a>, <a class="el" href="func__dialgroup_8c_source.html#l00193">dialgroup_write()</a>, <a class="el" href="func__lock_8c_source.html#l00211">get_lock()</a>, <a class="el" href="app__queue_8c_source.html#l01174">init_queue()</a>, <a class="el" href="app__confbridge_8c_source.html#l00799">load_module()</a>, <a class="el" href="chan__iax2_8c_source.html#l13746">load_objects()</a>, <a class="el" href="res__odbc_8c_source.html#l00730">load_odbc_config()</a>, and <a class="el" href="manager_8c_source.html#l03704">xml_translate()</a>.</p>

</div>
</div>
<a class="anchor" id="a618587b42226725315b96db394b13673"></a><!-- doxytag: member="astobj2.h::ao2_find" ref="a618587b42226725315b96db394b13673" args="(arg1, arg2, arg3)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ao2_find</td>
          <td>(</td>
          <td class="paramtype">arg1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg2, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg3&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;_ao2_find((arg1), (arg2), (arg3))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l00968">968</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

<p>Referenced by <a class="el" href="chan__iax2_8c_source.html#l02580">__find_callno()</a>, <a class="el" href="chan__iax2_8c_source.html#l02333">add_calltoken_ignore()</a>, <a class="el" href="event_8c_source.html#l00991">ast_event_get_cached()</a>, <a class="el" href="indications_8c_source.html#l00430">ast_get_indication_zone()</a>, <a class="el" href="taskprocessor_8c_source.html#l00407">ast_taskprocessor_get()</a>, <a class="el" href="indications_8c_source.html#l00536">ast_unregister_indication_country()</a>, <a class="el" href="chan__iax2_8c_source.html#l07462">authenticate_request()</a>, <a class="el" href="chan__iax2_8c_source.html#l07515">authenticate_verify()</a>, <a class="el" href="chan__iax2_8c_source.html#l02278">build_callno_limits()</a>, <a class="el" href="chan__iax2_8c_source.html#l11880">build_peer()</a>, <a class="el" href="chan__iax2_8c_source.html#l12156">build_user()</a>, <a class="el" href="res__clialiases_8c_source.html#l00080">cli_alias_passthrough()</a>, <a class="el" href="app__queue_8c_source.html#l02371">compare_weight()</a>, <a class="el" href="indications_8c_source.html#l00712">complete_indications()</a>, <a class="el" href="func__dialgroup_8c_source.html#l00125">dialgroup_read()</a>, <a class="el" href="func__dialgroup_8c_source.html#l00193">dialgroup_write()</a>, <a class="el" href="features_8c_source.html#l03224">find_parkinglot()</a>, <a class="el" href="chan__iax2_8c_source.html#l01542">find_peer()</a>, <a class="el" href="res__phoneprov_8c_source.html#l00234">find_profile()</a>, <a class="el" href="chan__console_8c_source.html#l00242">find_pvt()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00272">find_timer()</a>, <a class="el" href="chan__iax2_8c_source.html#l01570">find_user()</a>, <a class="el" href="chan__iax2_8c_source.html#l02421">get_unused_callno()</a>, <a class="el" href="chan__iax2_8c_source.html#l06523">handle_cli_iax2_unregister()</a>, <a class="el" href="indications_8c_source.html#l00793">handle_cli_indication_show()</a>, <a class="el" href="chan__iax2_8c_source.html#l01623">iax2_destroy_helper()</a>, <a class="el" href="app__voicemail_8c_source.html#l00855">inprocess_count()</a>, <a class="el" href="app__confbridge_8c_source.html#l00394">join_conference_bridge()</a>, <a class="el" href="indications_8c_source.html#l00943">parse_tone_zone()</a>, <a class="el" href="chan__iax2_8c_source.html#l02169">peercnt_add()</a>, <a class="el" href="chan__iax2_8c_source.html#l02141">peercnt_modify()</a>, <a class="el" href="chan__iax2_8c_source.html#l02260">peercnt_remove_by_addr()</a>, <a class="el" href="res__phoneprov_8c_source.html#l00401">phoneprov_callback()</a>, <a class="el" href="app__queue_8c_source.html#l05728">reload_single_member()</a>, <a class="el" href="app__queue_8c_source.html#l04403">remove_from_queue()</a>, <a class="el" href="chan__iax2_8c_source.html#l02530">sched_delay_remove()</a>, <a class="el" href="config_8c_source.html#l01520">set_fn()</a>, <a class="el" href="res__timing__timerfd_8c_source.html#l00117">timerfd_timer_close()</a>, <a class="el" href="res__timing__timerfd_8c_source.html#l00209">timerfd_timer_disable_continuous()</a>, <a class="el" href="res__timing__timerfd_8c_source.html#l00180">timerfd_timer_enable_continuous()</a>, <a class="el" href="res__timing__timerfd_8c_source.html#l00236">timerfd_timer_get_event()</a>, <a class="el" href="res__timing__timerfd_8c_source.html#l00132">timerfd_timer_set_rate()</a>, <a class="el" href="app__queue_8c_source.html#l03271">update_queue()</a>, and <a class="el" href="manager_8c_source.html#l03704">xml_translate()</a>.</p>

</div>
</div>
<a class="anchor" id="a1cf2fe1aafd3cb9e613eb48535a37ad5"></a><!-- doxytag: member="astobj2.h::ao2_iterator_next" ref="a1cf2fe1aafd3cb9e613eb48535a37ad5" args="(arg1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ao2_iterator_next</td>
          <td>(</td>
          <td class="paramtype">arg1&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;_ao2_iterator_next((arg1))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l01120">1120</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

<p>Referenced by <a class="el" href="chan__iax2_8c_source.html#l06324">__iax2_show_peers()</a>, <a class="el" href="app__queue_8c_source.html#l06083">__queues_show()</a>, <a class="el" href="res__clialiases_8c_source.html#l00137">alias_show()</a>, <a class="el" href="agent_8c_source.html#l00643">ast_var_indications()</a>, <a class="el" href="agent_8c_source.html#l00684">ast_var_indications_table()</a>, <a class="el" href="chan__iax2_8c_source.html#l07812">authenticate_reply()</a>, <a class="el" href="chan__iax2_8c_source.html#l07197">check_access()</a>, <a class="el" href="app__queue_8c_source.html#l01243">clear_queue()</a>, <a class="el" href="chan__console_8c_source.html#l01146">cli_console_active()</a>, <a class="el" href="chan__console_8c_source.html#l00965">cli_list_devices()</a>, <a class="el" href="taskprocessor_8c_source.html#l00235">cli_tps_report()</a>, <a class="el" href="indications_8c_source.html#l00627">complete_country()</a>, <a class="el" href="chan__iax2_8c_source.html#l03647">complete_iax2_peers()</a>, <a class="el" href="chan__iax2_8c_source.html#l06566">complete_iax2_unregister()</a>, <a class="el" href="app__queue_8c_source.html#l06773">complete_queue_remove_member()</a>, <a class="el" href="chan__sip_8c_source.html#l15594">complete_sip_user()</a>, <a class="el" href="res__phoneprov_8c_source.html#l01074">delete_profiles()</a>, <a class="el" href="res__phoneprov_8c_source.html#l01060">delete_routes()</a>, <a class="el" href="res__phoneprov_8c_source.html#l00824">delete_users()</a>, <a class="el" href="chan__console_8c_source.html#l01359">destroy_pvts()</a>, <a class="el" href="func__dialgroup_8c_source.html#l00125">dialgroup_read()</a>, <a class="el" href="features_8c_source.html#l03189">do_parking_thread()</a>, <a class="el" href="app__queue_8c_source.html#l04356">dump_queue_members()</a>, <a class="el" href="app__queue_8c_source.html#l01696">find_queue_by_name_rt()</a>, <a class="el" href="app__queue_8c_source.html#l01641">free_members()</a>, <a class="el" href="app__queue_8c_source.html#l00951">get_member_status()</a>, <a class="el" href="chan__iax2_8c_source.html#l02374">handle_cli_iax2_show_callno_limits()</a>, <a class="el" href="chan__iax2_8c_source.html#l06250">handle_cli_iax2_show_users()</a>, <a class="el" href="indications_8c_source.html#l00793">handle_cli_indication_show()</a>, <a class="el" href="res__odbc_8c_source.html#l00871">handle_cli_odbc_show()</a>, <a class="el" href="features_8c_source.html#l04019">handle_feature_show()</a>, <a class="el" href="features_8c_source.html#l04276">handle_parkedcalls()</a>, <a class="el" href="res__phoneprov_8c_source.html#l01193">handle_show_routes()</a>, <a class="el" href="app__queue_8c_source.html#l01046">handle_statechange()</a>, <a class="el" href="chan__iax2_8c_source.html#l01590">iax2_getpeername()</a>, <a class="el" href="chan__iax2_8c_source.html#l05393">iax2_getpeertrunk()</a>, <a class="el" href="app__queue_8c_source.html#l04330">interface_exists()</a>, <a class="el" href="chan__iax2_8c_source.html#l06668">manager_iax2_show_peer_list()</a>, <a class="el" href="features_8c_source.html#l04340">manager_parking_status()</a>, <a class="el" href="app__queue_8c_source.html#l06369">manager_queues_status()</a>, <a class="el" href="app__queue_8c_source.html#l06294">manager_queues_summary()</a>, <a class="el" href="app__queue_8c_source.html#l02328">num_available_members()</a>, <a class="el" href="chan__iax2_8c_source.html#l12935">poke_all_peers()</a>, <a class="el" href="res__phoneprov_8c_source.html#l01088">pp_each_user_exec()</a>, <a class="el" href="chan__iax2_8c_source.html#l12459">prune_peers()</a>, <a class="el" href="chan__iax2_8c_source.html#l12443">prune_users()</a>, <a class="el" href="app__queue_8c_source.html#l05365">queue_function_qac()</a>, <a class="el" href="app__queue_8c_source.html#l05421">queue_function_qac_dep()</a>, <a class="el" href="app__queue_8c_source.html#l05497">queue_function_queuememberlist()</a>, <a class="el" href="res__odbc_8c_source.html#l01604">reload()</a>, <a class="el" href="app__queue_8c_source.html#l01580">rt_handle_member_record()</a>, <a class="el" href="chan__sip_8c_source.html#l14488">sip_show_users()</a>, <a class="el" href="chan__console_8c_source.html#l01438">stop_streams()</a>, <a class="el" href="taskprocessor_8c_source.html#l00156">tps_taskprocessor_tab_complete()</a>, <a class="el" href="app__queue_8c_source.html#l03569">try_calling()</a>, and <a class="el" href="app__queue_8c_source.html#l01906">update_realtime_members()</a>.</p>

</div>
</div>
<a class="anchor" id="a210544bdcc5afe0601d01d6e529c22d8"></a><!-- doxytag: member="astobj2.h::ao2_link" ref="a210544bdcc5afe0601d01d6e529c22d8" args="(arg1, arg2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ao2_link</td>
          <td>(</td>
          <td class="paramtype">arg1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg2&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;_ao2_link((arg1), (arg2))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l00782">782</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

<p>Referenced by <a class="el" href="chan__iax2_8c_source.html#l02333">add_calltoken_ignore()</a>, <a class="el" href="app__queue_8c_source.html#l04455">add_to_queue()</a>, <a class="el" href="event_8c_source.html#l01071">ast_event_dup_and_cache()</a>, <a class="el" href="res__odbc_8c_source.html#l01156">ast_odbc_request_obj2()</a>, <a class="el" href="indications_8c_source.html#l00520">ast_register_indication_country()</a>, <a class="el" href="taskprocessor_8c_source.html#l00407">ast_taskprocessor_get()</a>, <a class="el" href="taskprocessor_8c_source.html#l00468">ast_taskprocessor_unreference()</a>, <a class="el" href="chan__iax2_8c_source.html#l02278">build_callno_limits()</a>, <a class="el" href="chan__console_8c_source.html#l01323">build_device()</a>, <a class="el" href="features_8c_source.html#l03554">build_parkinglot()</a>, <a class="el" href="res__phoneprov_8c_source.html#l00583">build_profile()</a>, <a class="el" href="res__phoneprov_8c_source.html#l00556">build_route()</a>, <a class="el" href="chan__iax2_8c_source.html#l02488">create_callno_pools()</a>, <a class="el" href="func__dialgroup_8c_source.html#l00193">dialgroup_write()</a>, <a class="el" href="func__lock_8c_source.html#l00211">get_lock()</a>, <a class="el" href="app__voicemail_8c_source.html#l00855">inprocess_count()</a>, <a class="el" href="app__confbridge_8c_source.html#l00394">join_conference_bridge()</a>, <a class="el" href="res__clialiases_8c_source.html#l00178">load_config()</a>, <a class="el" href="bridge__multiplexed_8c_source.html#l00094">multiplexed_bridge_create()</a>, <a class="el" href="res__odbc_8c_source.html#l00960">odbc_register_class()</a>, <a class="el" href="chan__iax2_8c_source.html#l02169">peercnt_add()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00107">pthread_timer_open()</a>, <a class="el" href="chan__iax2_8c_source.html#l04115">realtime_peer()</a>, <a class="el" href="chan__iax2_8c_source.html#l04235">realtime_user()</a>, <a class="el" href="app__queue_8c_source.html#l05728">reload_single_member()</a>, <a class="el" href="chan__iax2_8c_source.html#l02458">replace_callno()</a>, <a class="el" href="app__queue_8c_source.html#l01580">rt_handle_member_record()</a>, <a class="el" href="chan__iax2_8c_source.html#l12493">set_config()</a>, <a class="el" href="config_8c_source.html#l01520">set_fn()</a>, <a class="el" href="chan__iax2_8c_source.html#l01962">store_by_peercallno()</a>, <a class="el" href="chan__iax2_8c_source.html#l01943">store_by_transfercallno()</a>, <a class="el" href="res__timing__timerfd_8c_source.html#l00095">timerfd_timer_open()</a>, and <a class="el" href="manager_8c_source.html#l03704">xml_translate()</a>.</p>

</div>
</div>
<a class="anchor" id="aaca5e8eac39a22f9da1c36fc6c922270"></a><!-- doxytag: member="astobj2.h::ao2_ref" ref="aaca5e8eac39a22f9da1c36fc6c922270" args="(o, delta)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ao2_ref</td>
          <td>(</td>
          <td class="paramtype">o, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">delta&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;_ao2_ref((o), (delta))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l00459">459</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

<p>Referenced by <a class="el" href="chan__iax2_8c_source.html#l02580">__find_callno()</a>, <a class="el" href="app__queue_8c_source.html#l06083">__queues_show()</a>, <a class="el" href="chan__sip_8c_source.html#l05498">__sip_destroy()</a>, <a class="el" href="chan__iax2_8c_source.html#l13611">__unload_module()</a>, <a class="el" href="chan__sip_8c_source.html#l02910">_sip_tcp_helper_thread()</a>, <a class="el" href="chan__iax2_8c_source.html#l02333">add_calltoken_ignore()</a>, <a class="el" href="app__queue_8c_source.html#l04455">add_to_queue()</a>, <a class="el" href="res__clialiases_8c_source.html#l00137">alias_show()</a>, <a class="el" href="app__meetme_8c_source.html#l01907">announce_thread()</a>, <a class="el" href="astobj2_8c_source.html#l00795">ao2_iterator_destroy()</a>, <a class="el" href="astobj2_8c_source.html#l00780">ao2_iterator_init()</a>, <a class="el" href="app__externalivr_8c_source.html#l00314">app_exec()</a>, <a class="el" href="bridging_8c_source.html#l00514">ast_bridge_destroy()</a>, <a class="el" href="bridging_8c_source.html#l01030">ast_bridge_impart()</a>, <a class="el" href="bridging_8c_source.html#l00980">ast_bridge_join()</a>, <a class="el" href="bridging_8c_source.html#l01106">ast_bridge_merge()</a>, <a class="el" href="bridging_8c_source.html#l00448">ast_bridge_new()</a>, <a class="el" href="file_8c_source.html#l00887">ast_closestream()</a>, <a class="el" href="config_8c_source.html#l01591">ast_config_text_file_save()</a>, <a class="el" href="event_8c_source.html#l01071">ast_event_dup_and_cache()</a>, <a class="el" href="event_8c_source.html#l00991">ast_event_get_cached()</a>, <a class="el" href="res__odbc_8c_source.html#l01156">ast_odbc_request_obj2()</a>, <a class="el" href="taskprocessor_8c_source.html#l00407">ast_taskprocessor_get()</a>, <a class="el" href="taskprocessor_8c_source.html#l00468">ast_taskprocessor_unreference()</a>, <a class="el" href="tcptls_8c_source.html#l00376">ast_tcptls_client_create()</a>, <a class="el" href="tcptls_8c_source.html#l00339">ast_tcptls_client_start()</a>, <a class="el" href="tcptls_8c_source.html#l00233">ast_tcptls_server_root()</a>, <a class="el" href="indications_8h_source.html#l00212">ast_tone_zone_ref()</a>, <a class="el" href="indications_8h_source.html#l00234">ast_tone_zone_sound_ref()</a>, <a class="el" href="indications_8h_source.html#l00223">ast_tone_zone_sound_unref()</a>, <a class="el" href="indications_8h_source.html#l00201">ast_tone_zone_unref()</a>, <a class="el" href="bridging_8c_source.html#l00860">bridge_channel_join()</a>, <a class="el" href="bridging_8c_source.html#l01008">bridge_channel_thread()</a>, <a class="el" href="bridging_8c_source.html#l00353">bridge_thread()</a>, <a class="el" href="chan__iax2_8c_source.html#l02278">build_callno_limits()</a>, <a class="el" href="chan__iax2_8c_source.html#l02031">calltoken_required()</a>, <a class="el" href="app__queue_8c_source.html#l01243">clear_queue()</a>, <a class="el" href="res__clialiases_8c_source.html#l00080">cli_alias_passthrough()</a>, <a class="el" href="taskprocessor_8c_source.html#l00189">cli_tps_ping()</a>, <a class="el" href="taskprocessor_8c_source.html#l00235">cli_tps_report()</a>, <a class="el" href="app__queue_8c_source.html#l02371">compare_weight()</a>, <a class="el" href="app__queue_8c_source.html#l06773">complete_queue_remove_member()</a>, <a class="el" href="app__meetme_8c_source.html#l01648">conf_free()</a>, <a class="el" href="app__meetme_8c_source.html#l01998">conf_run()</a>, <a class="el" href="chan__sip_8c_source.html#l05081">copy_socket_data()</a>, <a class="el" href="chan__iax2_8c_source.html#l02488">create_callno_pools()</a>, <a class="el" href="app__queue_8c_source.html#l01658">destroy_queue()</a>, <a class="el" href="func__dialgroup_8c_source.html#l00125">dialgroup_read()</a>, <a class="el" href="func__dialgroup_8c_source.html#l00193">dialgroup_write()</a>, <a class="el" href="chan__sip_8c_source.html#l01759">dialog_ref()</a>, <a class="el" href="chan__sip_8c_source.html#l01768">dialog_unref()</a>, <a class="el" href="features_8c_source.html#l03189">do_parking_thread()</a>, <a class="el" href="app__queue_8c_source.html#l04356">dump_queue_members()</a>, <a class="el" href="app__queue_8c_source.html#l03527">end_bridge_callback()</a>, <a class="el" href="app__queue_8c_source.html#l03520">end_bridge_callback_data_fixup()</a>, <a class="el" href="chan__sip_8c_source.html#l12018">expire_register()</a>, <a class="el" href="app__queue_8c_source.html#l01696">find_queue_by_name_rt()</a>, <a class="el" href="app__queue_8c_source.html#l01641">free_members()</a>, <a class="el" href="func__lock_8c_source.html#l00211">get_lock()</a>, <a class="el" href="app__queue_8c_source.html#l04635">get_member_penalty()</a>, <a class="el" href="app__queue_8c_source.html#l00951">get_member_status()</a>, <a class="el" href="func__dialgroup_8c_source.html#l00087">group_destroy()</a>, <a class="el" href="chan__iax2_8c_source.html#l06998">handle_cli_iax2_set_debug()</a>, <a class="el" href="chan__iax2_8c_source.html#l02374">handle_cli_iax2_show_callno_limits()</a>, <a class="el" href="res__odbc_8c_source.html#l00871">handle_cli_odbc_show()</a>, <a class="el" href="event_8c_source.html#l01117">handle_event()</a>, <a class="el" href="features_8c_source.html#l04019">handle_feature_show()</a>, <a class="el" href="features_8c_source.html#l04276">handle_parkedcalls()</a>, <a class="el" href="app__queue_8c_source.html#l01046">handle_statechange()</a>, <a class="el" href="tcptls_8c_source.html#l00128">handle_tcptls_connection()</a>, <a class="el" href="app__queue_8c_source.html#l02300">hangupcalls()</a>, <a class="el" href="http_8c_source.html#l00659">httpd_helper_thread()</a>, <a class="el" href="chan__iax2_8c_source.html#l03223">iax2_destroy()</a>, <a class="el" href="app__voicemail_8c_source.html#l00855">inprocess_count()</a>, <a class="el" href="app__queue_8c_source.html#l04330">interface_exists()</a>, <a class="el" href="app__confbridge_8c_source.html#l00394">join_conference_bridge()</a>, <a class="el" href="app__confbridge_8c_source.html#l00485">leave_conference_bridge()</a>, <a class="el" href="res__clialiases_8c_source.html#l00178">load_config()</a>, <a class="el" href="app__confbridge_8c_source.html#l00799">load_module()</a>, <a class="el" href="chan__iax2_8c_source.html#l13746">load_objects()</a>, <a class="el" href="res__odbc_8c_source.html#l00730">load_odbc_config()</a>, <a class="el" href="features_8c_source.html#l04340">manager_parking_status()</a>, <a class="el" href="app__queue_8c_source.html#l06369">manager_queues_status()</a>, <a class="el" href="app__queue_8c_source.html#l06294">manager_queues_summary()</a>, <a class="el" href="bridge__multiplexed_8c_source.html#l00248">multiplexed_add_or_remove()</a>, <a class="el" href="bridge__multiplexed_8c_source.html#l00094">multiplexed_bridge_create()</a>, <a class="el" href="bridge__multiplexed_8c_source.html#l00177">multiplexed_bridge_destroy()</a>, <a class="el" href="bridge__multiplexed_8c_source.html#l00200">multiplexed_thread_function()</a>, <a class="el" href="chan__iax2_8c_source.html#l01763">new_iax()</a>, <a class="el" href="app__queue_8c_source.html#l02328">num_available_members()</a>, <a class="el" href="res__odbc_8c_source.html#l00370">odbc_class_destructor()</a>, <a class="el" href="res__odbc_8c_source.html#l00394">odbc_obj_destructor()</a>, <a class="el" href="res__odbc_8c_source.html#l00982">odbc_release_obj2()</a>, <a class="el" href="features_8c_source.html#l03516">parkinglot_addref()</a>, <a class="el" href="features_8c_source.html#l03509">parkinglot_unref()</a>, <a class="el" href="chan__sip_8c_source.html#l17435">parse_moved_contact()</a>, <a class="el" href="chan__iax2_8c_source.html#l01558">peer_ref()</a>, <a class="el" href="chan__iax2_8c_source.html#l01564">peer_unref()</a>, <a class="el" href="chan__iax2_8c_source.html#l02169">peercnt_add()</a>, <a class="el" href="chan__iax2_8c_source.html#l02141">peercnt_modify()</a>, <a class="el" href="chan__iax2_8c_source.html#l02260">peercnt_remove_by_addr()</a>, <a class="el" href="chan__iax2_8c_source.html#l02246">peercnt_remove_cb()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00188">pthread_timer_ack()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00141">pthread_timer_close()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00226">pthread_timer_disable_continuous()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00205">pthread_timer_enable_continuous()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00247">pthread_timer_get_event()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00107">pthread_timer_open()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00152">pthread_timer_set_rate()</a>, <a class="el" href="app__queue_8c_source.html#l05365">queue_function_qac()</a>, <a class="el" href="app__queue_8c_source.html#l05421">queue_function_qac_dep()</a>, <a class="el" href="app__queue_8c_source.html#l05497">queue_function_queuememberlist()</a>, <a class="el" href="app__queue_8c_source.html#l00888">queue_ref()</a>, <a class="el" href="app__queue_8c_source.html#l00894">queue_unref()</a>, <a class="el" href="chan__sip_8c_source.html#l03139">ref_proxy()</a>, <a class="el" href="chan__console_8c_source.html#l00229">ref_pvt()</a>, <a class="el" href="res__odbc_8c_source.html#l01604">reload()</a>, <a class="el" href="app__queue_8c_source.html#l05728">reload_single_member()</a>, <a class="el" href="app__queue_8c_source.html#l04403">remove_from_queue()</a>, <a class="el" href="chan__iax2_8c_source.html#l02458">replace_callno()</a>, <a class="el" href="app__queue_8c_source.html#l01580">rt_handle_member_record()</a>, <a class="el" href="chan__iax2_8c_source.html#l02530">sched_delay_remove()</a>, <a class="el" href="manager_8c_source.html#l03169">session_do()</a>, <a class="el" href="app__queue_8c_source.html#l04509">set_member_paused()</a>, <a class="el" href="app__queue_8c_source.html#l04586">set_member_penalty()</a>, <a class="el" href="chan__iax2_8c_source.html#l02090">set_peercnt_limit()</a>, <a class="el" href="chan__sip_8c_source.html#l12004">set_socket_transport()</a>, <a class="el" href="chan__sip_8c_source.html#l04649">sip_destroy_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l22074">sip_prepare_socket()</a>, <a class="el" href="chan__sip_8c_source.html#l22061">sip_tcp_locate()</a>, <a class="el" href="res__timing__timerfd_8c_source.html#l00117">timerfd_timer_close()</a>, <a class="el" href="res__timing__timerfd_8c_source.html#l00209">timerfd_timer_disable_continuous()</a>, <a class="el" href="res__timing__timerfd_8c_source.html#l00180">timerfd_timer_enable_continuous()</a>, <a class="el" href="res__timing__timerfd_8c_source.html#l00236">timerfd_timer_get_event()</a>, <a class="el" href="res__timing__timerfd_8c_source.html#l00095">timerfd_timer_open()</a>, <a class="el" href="res__timing__timerfd_8c_source.html#l00132">timerfd_timer_set_rate()</a>, <a class="el" href="taskprocessor_8c_source.html#l00156">tps_taskprocessor_tab_complete()</a>, <a class="el" href="app__queue_8c_source.html#l03569">try_calling()</a>, <a class="el" href="app__confbridge_8c_source.html#l00788">unload_module()</a>, <a class="el" href="res__phoneprov_8c_source.html#l00226">unref_profile()</a>, <a class="el" href="chan__console_8c_source.html#l00236">unref_pvt()</a>, <a class="el" href="res__phoneprov_8c_source.html#l00282">unref_route()</a>, <a class="el" href="res__phoneprov_8c_source.html#l00775">unref_user()</a>, <a class="el" href="app__queue_8c_source.html#l03271">update_queue()</a>, <a class="el" href="app__queue_8c_source.html#l01906">update_realtime_members()</a>, <a class="el" href="chan__iax2_8c_source.html#l01578">user_ref()</a>, <a class="el" href="chan__iax2_8c_source.html#l01584">user_unref()</a>, and <a class="el" href="manager_8c_source.html#l03704">xml_translate()</a>.</p>

</div>
</div>
<a class="anchor" id="ad57326008c326db88dc36779741622b8"></a><!-- doxytag: member="astobj2.h::ao2_t_alloc" ref="ad57326008c326db88dc36779741622b8" args="(data_size, destructor_fn, debug_msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ao2_t_alloc</td>
          <td>(</td>
          <td class="paramtype">data_size, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">destructor_fn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">debug_msg&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;_ao2_alloc_debug((data_size), (destructor_fn), (debug_msg),  __FILE__, __LINE__, __PRETTY_FUNCTION__, 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allocate and initialize an object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data_size</em>&nbsp;</td><td>The sizeof() of the user-defined structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destructor_fn</em>&nbsp;</td><td>The destructor function (can be NULL) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>debug_msg</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to user-data.</dd></dl>
<p>Allocates a struct <a class="el" href="structastobj2.html">astobj2</a> with sufficient space for the user-defined structure. </p>
<dl class="note"><dt><b>Note:</b></dt><dd><ul>
<li>storage is zeroed; XXX maybe we want a flag to enable/disable this.</li>
<li>the refcount of the object just created is 1</li>
<li>the returned pointer cannot be <a class="el" href="astmm_8h.html#aa7157aa9480bb73f090dca36776419bf">free()</a>'d or <a class="el" href="astmm_8h.html#a40bca1270eac14ea5da81c924c02c3b7">realloc()</a>'ed; rather, we just call ao2_ref(o, -1); </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l00412">412</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

<p>Referenced by <a class="el" href="app__queue_8c_source.html#l01672">alloc_queue()</a>, <a class="el" href="chan__sip_8c_source.html#l23690">build_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l07151">sip_alloc()</a>, and <a class="el" href="chan__sip_8c_source.html#l23639">temp_peer()</a>.</p>

</div>
</div>
<a class="anchor" id="aeca960ec22a1d0384f6e285b25df8501"></a><!-- doxytag: member="astobj2.h::ao2_t_callback" ref="aeca960ec22a1d0384f6e285b25df8501" args="(c, flags, cb_fn, arg, tag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ao2_t_callback</td>
          <td>(</td>
          <td class="paramtype">c, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">flags, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cb_fn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tag&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;_ao2_callback((c), (flags), (cb_fn), (arg))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback()</a> is a generic function that applies cb_fn() to all objects in a container, as described below. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>A pointer to the container to operate on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>A set of flags specifying the operation to perform, partially used by the container code, but also passed to the callback.</p>
<ul>
<li>If OBJ_NODATA is set, ao2_callback will return NULL. No refcounts of any of the traversed objects will be incremented. On the converse, if it is NOT set (the default), The ref count of each object for which CMP_MATCH was set will be incremented, and you will have no way of knowing which those are, until the multiple-object-return functionality is implemented.</li>
<li>If OBJ_POINTER is set, the traversed items will be restricted to the objects in the <a class="el" href="structbucket.html">bucket</a> that the object key hashes to. </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cb_fn</em>&nbsp;</td><td>A function pointer, that will be called on all objects, to see if they match. This function returns CMP_MATCH if the object is matches the criteria; CMP_STOP if the traversal should immediately stop, or both (via bitwise ORing), if you find a match and want to end the traversal, and 0 if the object is not a match, but the traversal should continue. This is the function that is applied to each object traversed. It's arguments are: (void *obj, void *arg, int flags), where: obj is an object arg is the same as arg passed into ao2_callback flags is the same as flags passed into ao2_callback (flags are also used by ao2_callback). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>arg</em>&nbsp;</td><td>passed to the callback. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to the object found/marked, a pointer to a list of objects matching comparison function, NULL if not found.</dd></dl>
<p>If the function returns any objects, their refcount is incremented, and the caller is in charge of decrementing them once done. Also, in case of multiple <a class="el" href="structvalues.html">values</a> returned, the list used to store the objects must be freed by the caller.</p>
<p>Typically, <a class="el" href="astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback()</a> is used for two purposes:</p>
<ul>
<li>to perform some action (including removal from the container) on one or more objects; in this case, cb_fn() can modify the object itself, and to perform deletion should set CMP_MATCH on the matching objects, and have OBJ_UNLINK set in flags.</li>
<li>to look for a specific object in a container; in this case, cb_fn() should not modify the object, but just return a combination of CMP_MATCH and CMP_STOP on the desired object. Other usages are also possible, of course.</li>
</ul>
<p>This function searches through a container and performs operations on objects according on flags passed. XXX describe better The comparison is done calling the compare function set implicitly. The p pointer can be a pointer to an object or to a key, we can say this looking at flags value. If p points to an object we will search for the object pointed by this value, otherwise we serch for a key value. If the key is not uniq we only find the first matching valued. If we use the OBJ_MARK flags, we mark all the objects matching the condition.</p>
<p>The use of flags argument is the follow:</p>
<p>OBJ_UNLINK unlinks the object found OBJ_NODATA on match, do return an object Callbacks use OBJ_NODATA as a default functions such as find() do OBJ_MULTIPLE return multiple matches Default for _find() is no. to a key (not yet supported) OBJ_POINTER the pointer is an object pointer</p>
<p>In case we return a list, the callee must take care to destroy that list when no longer used.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>When the returned object is no longer in use, <a class="el" href="astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref()</a> should be used to free the additional reference possibly created by this function. </dd></dl>

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l00915">915</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

<p>Referenced by <a class="el" href="res__musiconhold_8c_source.html#l01651">ast_moh_destroy()</a>, <a class="el" href="chan__sip_8c_source.html#l22415">do_monitor()</a>, <a class="el" href="chan__sip_8c_source.html#l07348">find_call()</a>, <a class="el" href="res__musiconhold_8c_source.html#l00395">get_mohbydigit()</a>, <a class="el" href="res__musiconhold_8c_source.html#l01549">load_moh_classes()</a>, <a class="el" href="chan__sip_8c_source.html#l24245">reload_config()</a>, <a class="el" href="chan__sip_8c_source.html#l25641">sip_do_reload()</a>, <a class="el" href="chan__sip_8c_source.html#l15021">sip_prune_realtime()</a>, <a class="el" href="chan__sip_8c_source.html#l16236">sip_show_channels()</a>, <a class="el" href="chan__sip_8c_source.html#l15890">sip_show_channelstats()</a>, <a class="el" href="chan__sip_8c_source.html#l14862">sip_show_objects()</a>, and <a class="el" href="res__musiconhold_8c_source.html#l01823">unload_module()</a>.</p>

</div>
</div>
<a class="anchor" id="a4e3309bf4c23b24972065ea81a26eee1"></a><!-- doxytag: member="astobj2.h::ao2_t_callback_data" ref="a4e3309bf4c23b24972065ea81a26eee1" args="(arg1, arg2, arg3, arg4, arg5, arg6)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ao2_t_callback_data</td>
          <td>(</td>
          <td class="paramtype">arg1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg2, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg3, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg4, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg5, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg6&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;_ao2_callback_data((arg1), (arg2), (arg3), (arg4), (arg5))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="astobj2_8h.html#a8e503755d09d62167c82ca2ed28a18ff">ao2_callback_data()</a> is a generic function that applies cb_fn() to all objects in a container. It is functionally identical to <a class="el" href="astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback()</a> except that instead of taking an ao2_callback_fn *, it takes an ao2_callback_data_fn *, and allows the caller to pass in arbitrary data. </p>
<p>This call would be used instead of <a class="el" href="astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback()</a> when the caller needs to pass OBJ_POINTER as part of the flags argument (which in turn requires passing in a prototype ao2 object for 'arg') and also needs access to other non-global data to complete it's comparison or task.</p>
<p>See the documentation for <a class="el" href="astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback()</a> for argument descriptions.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback()</a> </dd></dl>

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l00947">947</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

<p>Referenced by <a class="el" href="chan__sip_8c_source.html#l04965">find_peer()</a>.</p>

</div>
</div>
<a class="anchor" id="a0963146a7af29455f2540e5654daa5f7"></a><!-- doxytag: member="astobj2.h::ao2_t_container_alloc" ref="a0963146a7af29455f2540e5654daa5f7" args="(arg1, arg2, arg3, arg4)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ao2_t_container_alloc</td>
          <td>(</td>
          <td class="paramtype">arg1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg2, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg3, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg4&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;_ao2_container_alloc_debug((arg1), (arg2), (arg3), (arg4),  __FILE__, __LINE__, __PRETTY_FUNCTION__, 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allocate and initialize a container with the desired <a class="el" href="structnumber.html" title="Number structure.">number</a> of buckets. </p>
<p>We allocate space for a struct astobj_container, struct container and the buckets[] array.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>n_buckets</em>&nbsp;</td><td>Number of buckets for hash </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hash_fn</em>&nbsp;</td><td>Pointer to a function computing a hash value. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cmp_fn</em>&nbsp;</td><td>Pointer to a function comparating key-value with a string. (can be NULL) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to a struct container.</dd></dl>
<p>destructor is set implicitly. </p>

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l00726">726</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

<p>Referenced by <a class="el" href="chan__sip_8c_source.html#l25736">load_module()</a>.</p>

</div>
</div>
<a class="anchor" id="a804bb959fec31c062b3848316b8e80b1"></a><!-- doxytag: member="astobj2.h::ao2_t_find" ref="a804bb959fec31c062b3848316b8e80b1" args="(arg1, arg2, arg3, arg4)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ao2_t_find</td>
          <td>(</td>
          <td class="paramtype">arg1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg2, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg3, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg4&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;_ao2_find((arg1), (arg2), (arg3))</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="astobj2_8h.html#a618587b42226725315b96db394b13673">ao2_find()</a> is a short hand for ao2_callback(c, flags, c-&gt;cmp_fn, arg) XXX possibly change order of arguments ? </p>

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l00967">967</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

<p>Referenced by <a class="el" href="chan__sip_8c_source.html#l02910">_sip_tcp_helper_thread()</a>, <a class="el" href="chan__sip_8c_source.html#l23690">build_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l07348">find_call()</a>, <a class="el" href="chan__sip_8c_source.html#l04965">find_peer()</a>, <a class="el" href="app__queue_8c_source.html#l01696">find_queue_by_name_rt()</a>, <a class="el" href="app__queue_8c_source.html#l04635">get_member_penalty()</a>, <a class="el" href="chan__sip_8c_source.html#l13401">get_sip_pvt_byid_locked()</a>, <a class="el" href="app__queue_8c_source.html#l01830">load_realtime_queue()</a>, <a class="el" href="app__queue_8c_source.html#l05497">queue_function_queuememberlist()</a>, <a class="el" href="app__queue_8c_source.html#l05461">queue_function_queuewaitingcount()</a>, <a class="el" href="app__queue_8c_source.html#l05317">queue_function_var()</a>, <a class="el" href="app__queue_8c_source.html#l04667">reload_queue_members()</a>, <a class="el" href="app__queue_8c_source.html#l05834">reload_single_queue()</a>, <a class="el" href="app__queue_8c_source.html#l04403">remove_from_queue()</a>, <a class="el" href="chan__sip_8c_source.html#l15021">sip_prune_realtime()</a>, and <a class="el" href="chan__sip_8c_source.html#l02842">sip_tcptls_write()</a>.</p>

</div>
</div>
<a class="anchor" id="aace7c75c12ac954ed78d72eb84ea0477"></a><!-- doxytag: member="astobj2.h::ao2_t_iterator_next" ref="aace7c75c12ac954ed78d72eb84ea0477" args="(arg1, arg2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ao2_t_iterator_next</td>
          <td>(</td>
          <td class="paramtype">arg1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg2&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;_ao2_iterator_next((arg1))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l01119">1119</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

<p>Referenced by <a class="el" href="app__queue_8c_source.html#l06083">__queues_show()</a>, <a class="el" href="chan__sip_8c_source.html#l14666">_sip_show_peers()</a>, <a class="el" href="app__queue_8c_source.html#l06024">clear_stats()</a>, <a class="el" href="app__queue_8c_source.html#l02371">compare_weight()</a>, <a class="el" href="app__queue_8c_source.html#l06211">complete_queue()</a>, <a class="el" href="app__queue_8c_source.html#l06773">complete_queue_remove_member()</a>, <a class="el" href="chan__sip_8c_source.html#l16308">complete_sip_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l16332">complete_sip_registered_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l16278">complete_sipch()</a>, <a class="el" href="res__musiconhold_8c_source.html#l01717">handle_cli_moh_show_classes()</a>, <a class="el" href="res__musiconhold_8c_source.html#l01679">handle_cli_moh_show_files()</a>, <a class="el" href="chan__sip_8c_source.html#l21175">handle_request_subscribe()</a>, <a class="el" href="app__queue_8c_source.html#l01046">handle_statechange()</a>, <a class="el" href="app__queue_8c_source.html#l06369">manager_queues_status()</a>, <a class="el" href="app__queue_8c_source.html#l06294">manager_queues_summary()</a>, <a class="el" href="app__queue_8c_source.html#l04509">set_member_paused()</a>, <a class="el" href="app__queue_8c_source.html#l04586">set_member_penalty()</a>, <a class="el" href="chan__sip_8c_source.html#l25576">sip_poke_all_peers()</a>, <a class="el" href="chan__sip_8c_source.html#l15021">sip_prune_realtime()</a>, <a class="el" href="chan__sip_8c_source.html#l16415">sip_show_channel()</a>, <a class="el" href="chan__sip_8c_source.html#l16526">sip_show_history()</a>, <a class="el" href="chan__sip_8c_source.html#l14279">sip_show_inuse()</a>, <a class="el" href="chan__sip_8c_source.html#l14450">sip_show_tcp()</a>, <a class="el" href="app__queue_8c_source.html#l07170">unload_module()</a>, and <a class="el" href="app__queue_8c_source.html#l03271">update_queue()</a>.</p>

</div>
</div>
<a class="anchor" id="adc3c0db3563654f7f71244961a4479dd"></a><!-- doxytag: member="astobj2.h::ao2_t_link" ref="adc3c0db3563654f7f71244961a4479dd" args="(arg1, arg2, arg3)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ao2_t_link</td>
          <td>(</td>
          <td class="paramtype">arg1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg2, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg3&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;_ao2_link((arg1), (arg2))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add an object to a container. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>the container to operate on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>newobj</em>&nbsp;</td><td>the object to be added.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>NULL</em>&nbsp;</td><td>on errors </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>newobj</em>&nbsp;</td><td>on success.</td></tr>
  </table>
  </dd>
</dl>
<p>This function inserts an object in a container according its key.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Remember to set the key before calling this function.</dd>
<dd>
This function automatically increases the reference count to account for the reference that the container now holds to the object. </dd></dl>

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l00781">781</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

<p>Referenced by <a class="el" href="res__musiconhold_8c_source.html#l01133">_moh_register()</a>, <a class="el" href="chan__sip_8c_source.html#l05102">create_addr_from_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l11366">manager_sipnotify()</a>, <a class="el" href="chan__sip_8c_source.html#l12222">parse_register_contact()</a>, <a class="el" href="chan__sip_8c_source.html#l04739">realtime_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l12942">register_verify()</a>, <a class="el" href="chan__sip_8c_source.html#l24245">reload_config()</a>, <a class="el" href="chan__sip_8c_source.html#l07151">sip_alloc()</a>, <a class="el" href="chan__sip_8c_source.html#l16891">sip_cli_notify()</a>, <a class="el" href="chan__sip_8c_source.html#l22876">sip_poke_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l15021">sip_prune_realtime()</a>, <a class="el" href="chan__sip_8c_source.html#l23066">sip_request_call()</a>, <a class="el" href="chan__sip_8c_source.html#l22279">sip_send_mwi_to_peer()</a>, and <a class="el" href="chan__sip_8c_source.html#l02818">sip_threadinfo_create()</a>.</p>

</div>
</div>
<a class="anchor" id="a14c61bcab109a520a96d30c56ba5fcde"></a><!-- doxytag: member="astobj2.h::ao2_t_ref" ref="a14c61bcab109a520a96d30c56ba5fcde" args="(o, delta, tag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ao2_t_ref</td>
          <td>(</td>
          <td class="paramtype">o, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">delta, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tag&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;_ao2_ref((o), (delta))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reference/unreference an object and return the old refcount. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>o</em>&nbsp;</td><td>A pointer to the object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>delta</em>&nbsp;</td><td>Value to add to the reference counter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The value of the reference counter before the operation.</dd></dl>
<p>Increase/decrease the reference counter according the value of delta.</p>
<p>If the refcount goes to zero, the object is destroyed.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>The object must not be locked by the caller of this function, as it is invalid to try to unlock it after releasing the reference.</dd>
<dd>
if we know the pointer to an object, it is because we have a reference count to it, so the only case when the object can go away is when we release our reference, and it is the last one in existence. </dd></dl>

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l00458">458</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

<p>Referenced by <a class="el" href="chan__sip_8c_source.html#l02910">_sip_tcp_helper_thread()</a>, <a class="el" href="chan__sip_8c_source.html#l23690">build_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l13923">check_peer_ok()</a>, <a class="el" href="chan__sip_8c_source.html#l14849">dialog_dump_func()</a>, <a class="el" href="chan__sip_8c_source.html#l21921">handle_request_do()</a>, <a class="el" href="chan__sip_8c_source.html#l21175">handle_request_subscribe()</a>, <a class="el" href="chan__sip_8c_source.html#l20405">local_attended_transfer()</a>, <a class="el" href="chan__sip_8c_source.html#l14838">peer_dump_func()</a>, <a class="el" href="chan__sip_8c_source.html#l03122">ref_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l07151">sip_alloc()</a>, <a class="el" href="chan__sip_8c_source.html#l22074">sip_prepare_socket()</a>, <a class="el" href="chan__sip_8c_source.html#l16415">sip_show_channel()</a>, <a class="el" href="chan__sip_8c_source.html#l16526">sip_show_history()</a>, <a class="el" href="chan__sip_8c_source.html#l14450">sip_show_tcp()</a>, <a class="el" href="chan__sip_8c_source.html#l22061">sip_tcp_locate()</a>, <a class="el" href="chan__sip_8c_source.html#l02842">sip_tcptls_write()</a>, <a class="el" href="chan__sip_8c_source.html#l02818">sip_threadinfo_create()</a>, <a class="el" href="chan__sip_8c_source.html#l02796">sip_threadinfo_destructor()</a>, <a class="el" href="chan__sip_8c_source.html#l23639">temp_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l25834">unload_module()</a>, and <a class="el" href="chan__sip_8c_source.html#l03116">unref_peer()</a>.</p>

</div>
</div>
<a class="anchor" id="a483ff2b4557a1f0f9031ac85ce1d2004"></a><!-- doxytag: member="astobj2.h::ao2_t_unlink" ref="a483ff2b4557a1f0f9031ac85ce1d2004" args="(arg1, arg2, arg3)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ao2_t_unlink</td>
          <td>(</td>
          <td class="paramtype">arg1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg2, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg3&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;_ao2_unlink((arg1), (arg2))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove an object from a container. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>the container </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>the object to unlink</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>NULL,always</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>The object requested to be unlinked must be valid. However, if it turns out that it is not in the container, this function is still safe to be called.</dd>
<dd>
If the object gets unlinked from the container, the container's reference to the object will be automatically released. (The refcount will be decremented). </dd></dl>

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l00812">812</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

<p>Referenced by <a class="el" href="chan__sip_8c_source.html#l02910">_sip_tcp_helper_thread()</a>, <a class="el" href="chan__sip_8c_source.html#l05102">create_addr_from_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l03161">dialog_unlink_all()</a>, <a class="el" href="chan__sip_8c_source.html#l12018">expire_register()</a>, <a class="el" href="chan__sip_8c_source.html#l11366">manager_sipnotify()</a>, <a class="el" href="chan__sip_8c_source.html#l12222">parse_register_contact()</a>, <a class="el" href="chan__sip_8c_source.html#l16891">sip_cli_notify()</a>, <a class="el" href="chan__sip_8c_source.html#l22876">sip_poke_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l22074">sip_prepare_socket()</a>, <a class="el" href="chan__sip_8c_source.html#l15021">sip_prune_realtime()</a>, <a class="el" href="chan__sip_8c_source.html#l23066">sip_request_call()</a>, and <a class="el" href="chan__sip_8c_source.html#l22279">sip_send_mwi_to_peer()</a>.</p>

</div>
</div>
<a class="anchor" id="a1bd301bcff8b41c07adbecf93eb7dce7"></a><!-- doxytag: member="astobj2.h::ao2_unlink" ref="a1bd301bcff8b41c07adbecf93eb7dce7" args="(arg1, arg2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ao2_unlink</td>
          <td>(</td>
          <td class="paramtype">arg1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arg2&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;_ao2_unlink((arg1), (arg2))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l00813">813</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

<p>Referenced by <a class="el" href="taskprocessor_8c_source.html#l00468">ast_taskprocessor_unreference()</a>, <a class="el" href="indications_8c_source.html#l00536">ast_unregister_indication_country()</a>, <a class="el" href="chan__iax2_8c_source.html#l12156">build_user()</a>, <a class="el" href="res__phoneprov_8c_source.html#l01074">delete_profiles()</a>, <a class="el" href="res__phoneprov_8c_source.html#l01060">delete_routes()</a>, <a class="el" href="res__phoneprov_8c_source.html#l00824">delete_users()</a>, <a class="el" href="chan__console_8c_source.html#l01359">destroy_pvts()</a>, <a class="el" href="func__dialgroup_8c_source.html#l00193">dialgroup_write()</a>, <a class="el" href="app__queue_8c_source.html#l01696">find_queue_by_name_rt()</a>, <a class="el" href="app__queue_8c_source.html#l01641">free_members()</a>, <a class="el" href="func__lock_8c_source.html#l00211">get_lock()</a>, <a class="el" href="chan__iax2_8c_source.html#l03393">handle_cli_iax2_prune_realtime()</a>, <a class="el" href="app__confbridge_8c_source.html#l00485">leave_conference_bridge()</a>, <a class="el" href="bridge__multiplexed_8c_source.html#l00177">multiplexed_bridge_destroy()</a>, <a class="el" href="features_8c_source.html#l03543">parkinglot_destroy()</a>, <a class="el" href="chan__iax2_8c_source.html#l02221">peercnt_remove()</a>, <a class="el" href="chan__iax2_8c_source.html#l12443">prune_users()</a>, <a class="el" href="res__odbc_8c_source.html#l01604">reload()</a>, <a class="el" href="chan__iax2_8c_source.html#l01972">remove_by_peercallno()</a>, <a class="el" href="chan__iax2_8c_source.html#l01953">remove_by_transfercallno()</a>, <a class="el" href="app__queue_8c_source.html#l04403">remove_from_queue()</a>, <a class="el" href="res__timing__timerfd_8c_source.html#l00117">timerfd_timer_close()</a>, <a class="el" href="chan__iax2_8c_source.html#l08235">unlink_peer()</a>, and <a class="el" href="app__queue_8c_source.html#l01906">update_realtime_members()</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ae472805461071323e68cba1f441081f3"></a><!-- doxytag: member="astobj2.h::ao2_callback_data_fn" ref="ae472805461071323e68cba1f441081f3" args=")(void *obj, void *arg, void *data, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int( <a class="el" href="astobj2_8h.html#ae472805461071323e68cba1f441081f3">ao2_callback_data_fn</a>)(void *obj, void *arg, void *data, int flags)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Type of a generic callback function. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>pointer to the (user-defined part) of an object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>arg</em>&nbsp;</td><td>callback argument from <a class="el" href="astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback()</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>arbitrary data from <a class="el" href="astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback()</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>flags from <a class="el" href="astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback()</a></td></tr>
  </table>
  </dd>
</dl>
<p>The return <a class="el" href="structvalues.html">values</a> are a combination of enum _cb_results. Callback functions are used to search or manipulate objects in a container. </p>

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l00643">643</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4de0d949b2c7e11310c21ad64a83cf72"></a><!-- doxytag: member="astobj2.h::ao2_callback_fn" ref="a4de0d949b2c7e11310c21ad64a83cf72" args=")(void *obj, void *arg, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int( <a class="el" href="astobj2_8h.html#a4de0d949b2c7e11310c21ad64a83cf72">ao2_callback_fn</a>)(void *obj, void *arg, int flags)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Type of a generic callback function. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>pointer to the (user-defined part) of an object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>arg</em>&nbsp;</td><td>callback argument from <a class="el" href="astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback()</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>flags from <a class="el" href="astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback()</a></td></tr>
  </table>
  </dd>
</dl>
<p>The return <a class="el" href="structvalues.html">values</a> are a combination of enum _cb_results. Callback functions are used to search or manipulate objects in a container. </p>

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l00631">631</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2ded496320c49a7b1420647373ec3e32"></a><!-- doxytag: member="astobj2.h::ao2_destructor_fn" ref="a2ded496320c49a7b1420647373ec3e32" args=")(void *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="astobj2_8h.html#a2ded496320c49a7b1420647373ec3e32">ao2_destructor_fn</a>)(void *)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Typedef for an object destructor. This is called just before freeing the memory for the object. It is passed a pointer to the user-defined data of the object. </p>

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l00383">383</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab29eb962131d79590e1ee1f07ba41818"></a><!-- doxytag: member="astobj2.h::ao2_hash_fn" ref="ab29eb962131d79590e1ee1f07ba41818" args=")(const void *obj, const int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int( <a class="el" href="astobj2_8h.html#ab29eb962131d79590e1ee1f07ba41818">ao2_hash_fn</a>)(const void *obj, const int flags)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Type of a generic function to generate a hash value from an object. flags is ignored at the moment. Eventually, it will include the value of OBJ_POINTER passed to <a class="el" href="astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback()</a>. </p>

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l00695">695</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a1f8b41308be4c47de8ff89a3b9c7e7d1"></a><!-- doxytag: member="astobj2.h::_cb_results" ref="a1f8b41308be4c47de8ff89a3b9c7e7d1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1">_cb_results</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A callback function will return a combination of CMP_MATCH and CMP_STOP. The latter will terminate the search in a container. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"></a><!-- doxytag: member="CMP_MATCH" ref="a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf" args="" -->CMP_MATCH</em>&nbsp;</td><td>
<p>the object matches the request </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df"></a><!-- doxytag: member="CMP_STOP" ref="a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df" args="" -->CMP_STOP</em>&nbsp;</td><td>
<p>stop the search now </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l00652">652</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00652"></a>00652                  {
<a name="l00653"></a>00653    <a class="code" href="astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a>   = 0x1,   <span class="comment">/*!&lt; the object matches the request */</span>
<a name="l00654"></a>00654    <a class="code" href="astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df">CMP_STOP</a> = 0x2,   <span class="comment">/*!&lt; stop the search now */</span>
<a name="l00655"></a>00655 };
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7b5de2aa80f528d3dc554caadb8dc6ab"></a><!-- doxytag: member="astobj2.h::ao2_iterator_flags" ref="a7b5de2aa80f528d3dc554caadb8dc6ab" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6ab">ao2_iterator_flags</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Flags that can be passed to <a class="el" href="astobj2_8h.html#a288075de687152d297308ea1ea963edb" title="Create an iterator for a container.">ao2_iterator_init()</a> to modify the behavior of the iterator. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a7b5de2aa80f528d3dc554caadb8dc6aba42e2c6aadc44e4259a058a6675b7e7e4"></a><!-- doxytag: member="AO2_ITERATOR_DONTLOCK" ref="a7b5de2aa80f528d3dc554caadb8dc6aba42e2c6aadc44e4259a058a6675b7e7e4" args="" -->AO2_ITERATOR_DONTLOCK</em>&nbsp;</td><td>
<p>Prevents <a class="el" href="astobj2_8h.html#a1cf2fe1aafd3cb9e613eb48535a37ad5">ao2_iterator_next()</a> from locking the container while retrieving the next object from it. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l01074">1074</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01074"></a>01074                         {<span class="comment"></span>
<a name="l01075"></a>01075 <span class="comment">   /*! Prevents ao2_iterator_next() from locking the container</span>
<a name="l01076"></a>01076 <span class="comment">    * while retrieving the next object from it.</span>
<a name="l01077"></a>01077 <span class="comment">    */</span>
<a name="l01078"></a>01078    <a class="code" href="astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6aba42e2c6aadc44e4259a058a6675b7e7e4">AO2_ITERATOR_DONTLOCK</a> = (1 &lt;&lt; 0),
<a name="l01079"></a>01079 };
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad9d009e87e737af900825b36db55a35c"></a><!-- doxytag: member="astobj2.h::search_flags" ref="ad9d009e87e737af900825b36db55a35c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35c">search_flags</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Flags passed to <a class="el" href="astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback()</a> and <a class="el" href="astobj2_8h.html#ab29eb962131d79590e1ee1f07ba41818">ao2_hash_fn()</a> to modify its behaviour. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"></a><!-- doxytag: member="OBJ_UNLINK" ref="ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45" args="" -->OBJ_UNLINK</em>&nbsp;</td><td>
<p>Unlink the object for which the callback function returned CMP_MATCH . This is the only way to extract objects from a container. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"></a><!-- doxytag: member="OBJ_NODATA" ref="ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d" args="" -->OBJ_NODATA</em>&nbsp;</td><td>
<p>On match, don't return the object hence do not increase its refcount. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47"></a><!-- doxytag: member="OBJ_MULTIPLE" ref="ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47" args="" -->OBJ_MULTIPLE</em>&nbsp;</td><td>
<p>Don't stop at the first match in <a class="el" href="astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback()</a> </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This is not fully implemented. Using OBJ_MULTIME with OBJ_NODATA is perfectly fine. The part that is not implemented is the case where multiple objects should be returned by <a class="el" href="astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback()</a>. </dd></dl>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad9d009e87e737af900825b36db55a35ca32d49976aaebc093266f0b080f9c9a73"></a><!-- doxytag: member="OBJ_POINTER" ref="ad9d009e87e737af900825b36db55a35ca32d49976aaebc093266f0b080f9c9a73" args="" -->OBJ_POINTER</em>&nbsp;</td><td>
<p>obj is an object of the same type as the one being searched for, so use the object's hash function for optimized searching. The search function is unaffected (i.e. use the one passed as argument, or match_by_addr if none specified). </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad9d009e87e737af900825b36db55a35ca94dc57035c55d676cdbf9762c582b8aa"></a><!-- doxytag: member="OBJ_CONTINUE" ref="ad9d009e87e737af900825b36db55a35ca94dc57035c55d676cdbf9762c582b8aa" args="" -->OBJ_CONTINUE</em>&nbsp;</td><td>
<p>Continue if a match is not found in the hashed out <a class="el" href="structbucket.html">bucket</a>. </p>
<p>This flag is to be used in combination with OBJ_POINTER. This tells the <a class="el" href="astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback()</a> core to keep searching through the rest of the buckets if a match is not found in the starting <a class="el" href="structbucket.html">bucket</a> defined by the hash value on the argument. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l00660">660</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00660"></a>00660                   {<span class="comment"></span>
<a name="l00661"></a>00661 <span class="comment">   /*! Unlink the object for which the callback function</span>
<a name="l00662"></a>00662 <span class="comment">    *  returned CMP_MATCH . This is the only way to extract</span>
<a name="l00663"></a>00663 <span class="comment">    *  objects from a container. */</span>
<a name="l00664"></a>00664    <a class="code" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a>   = (1 &lt;&lt; 0),<span class="comment"></span>
<a name="l00665"></a>00665 <span class="comment">   /*! On match, don&apos;t return the object hence do not increase</span>
<a name="l00666"></a>00666 <span class="comment">    *  its refcount. */</span>
<a name="l00667"></a>00667    <a class="code" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a>   = (1 &lt;&lt; 1),<span class="comment"></span>
<a name="l00668"></a>00668 <span class="comment">   /*! Don&apos;t stop at the first match in ao2_callback()</span>
<a name="l00669"></a>00669 <span class="comment">    *  \note This is not fully implemented.   Using OBJ_MULTIME with OBJ_NODATA</span>
<a name="l00670"></a>00670 <span class="comment">    *  is perfectly fine.  The part that is not implemented is the case where</span>
<a name="l00671"></a>00671 <span class="comment">    *  multiple objects should be returned by ao2_callback().</span>
<a name="l00672"></a>00672 <span class="comment">    */</span>
<a name="l00673"></a>00673    <a class="code" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a> = (1 &lt;&lt; 2),<span class="comment"></span>
<a name="l00674"></a>00674 <span class="comment">   /*! obj is an object of the same type as the one being searched for,</span>
<a name="l00675"></a>00675 <span class="comment">    *  so use the object&apos;s hash function for optimized searching.</span>
<a name="l00676"></a>00676 <span class="comment">    *  The search function is unaffected (i.e. use the one passed as</span>
<a name="l00677"></a>00677 <span class="comment">    *  argument, or match_by_addr if none specified). */</span>
<a name="l00678"></a>00678    <a class="code" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca32d49976aaebc093266f0b080f9c9a73">OBJ_POINTER</a>  = (1 &lt;&lt; 3),<span class="comment"></span>
<a name="l00679"></a>00679 <span class="comment">   /*! </span>
<a name="l00680"></a>00680 <span class="comment">    * \brief Continue if a match is not found in the hashed out bucket</span>
<a name="l00681"></a>00681 <span class="comment">    *</span>
<a name="l00682"></a>00682 <span class="comment">    * This flag is to be used in combination with OBJ_POINTER.  This tells</span>
<a name="l00683"></a>00683 <span class="comment">    * the ao2_callback() core to keep searching through the rest of the</span>
<a name="l00684"></a>00684 <span class="comment">    * buckets if a match is not found in the starting bucket defined by</span>
<a name="l00685"></a>00685 <span class="comment">    * the hash value on the argument.</span>
<a name="l00686"></a>00686 <span class="comment">    */</span>
<a name="l00687"></a>00687    <a class="code" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca94dc57035c55d676cdbf9762c582b8aa" title="Continue if a match is not found in the hashed out bucket.">OBJ_CONTINUE</a>     = (1 &lt;&lt; 4),
<a name="l00688"></a>00688 };
</pre></div></p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="abbdf3f8df491fe56536e0fdd4c35b17a"></a><!-- doxytag: member="astobj2.h::_ao2_alloc" ref="abbdf3f8df491fe56536e0fdd4c35b17a" args="(const size_t data_size, ao2_destructor_fn destructor_fn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* _ao2_alloc </td>
          <td>(</td>
          <td class="paramtype">const size_t&nbsp;</td>
          <td class="paramname"> <em>data_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="astobj2_8h.html#a2ded496320c49a7b1420647373ec3e32">ao2_destructor_fn</a>&nbsp;</td>
          <td class="paramname"> <em>destructor_fn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00359">359</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="astobj2_8c_source.html#l00305">__ao2_alloc()</a>.</p>

<p>Referenced by <a class="el" href="astobj2_8c_source.html#l00459">_ao2_container_alloc()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00360"></a>00360 {
<a name="l00361"></a>00361    <span class="keywordflow">return</span> <a class="code" href="astobj2_8c.html#a6fd8b58e973dd78ebb267970ab69d096">__ao2_alloc</a>(data_size, destructor_fn, __FILE__, __LINE__, __FUNCTION__);
<a name="l00362"></a>00362 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acaa3595d4023693e24ae4b5bb5fe1372"></a><!-- doxytag: member="astobj2.h::_ao2_alloc_debug" ref="acaa3595d4023693e24ae4b5bb5fe1372" args="(const size_t data_size, ao2_destructor_fn destructor_fn, char *tag, const char *file, int line, const char *funcname, int ref_debug)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* _ao2_alloc_debug </td>
          <td>(</td>
          <td class="paramtype">const size_t&nbsp;</td>
          <td class="paramname"> <em>data_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="astobj2_8h.html#a2ded496320c49a7b1420647373ec3e32">ao2_destructor_fn</a>&nbsp;</td>
          <td class="paramname"> <em>destructor_fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>funcname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ref_debug</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00338">338</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="astobj2_8c_source.html#l00305">__ao2_alloc()</a>, and <a class="el" href="astobj2_8c_source.html#l00028">REF_FILE</a>.</p>

<p>Referenced by <a class="el" href="astobj2_8c_source.html#l00446">_ao2_container_alloc_debug()</a>, and <a class="el" href="res__musiconhold_8c_source.html#l01204">_moh_class_malloc()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00340"></a>00340 {
<a name="l00341"></a>00341    <span class="comment">/* allocation */</span>
<a name="l00342"></a>00342    <span class="keywordtype">void</span> *obj;
<a name="l00343"></a>00343    FILE *refo = ref_debug ? fopen(<a class="code" href="astobj2_8c.html#ae41fbd2d091df3dd2a32b937827c2474">REF_FILE</a>,<span class="stringliteral">&quot;a&quot;</span>) : NULL;
<a name="l00344"></a>00344 
<a name="l00345"></a>00345    obj = <a class="code" href="astobj2_8c.html#a6fd8b58e973dd78ebb267970ab69d096">__ao2_alloc</a>(data_size, destructor_fn, file, line, funcname);
<a name="l00346"></a>00346 
<a name="l00347"></a>00347    <span class="keywordflow">if</span> (obj == NULL)
<a name="l00348"></a>00348       <span class="keywordflow">return</span> NULL;
<a name="l00349"></a>00349    
<a name="l00350"></a>00350    <span class="keywordflow">if</span> (refo) {
<a name="l00351"></a>00351       fprintf(refo, <span class="stringliteral">&quot;%p =1   %s:%d:%s (%s)\n&quot;</span>, obj, file, line, funcname, tag);
<a name="l00352"></a>00352       fclose(refo);
<a name="l00353"></a>00353    }
<a name="l00354"></a>00354 
<a name="l00355"></a>00355    <span class="comment">/* return a pointer to the user data */</span>
<a name="l00356"></a>00356    <span class="keywordflow">return</span> obj;
<a name="l00357"></a>00357 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a30b201eaf8b1b0ac4a3fa50077f9c7ce"></a><!-- doxytag: member="astobj2.h::_ao2_callback" ref="a30b201eaf8b1b0ac4a3fa50077f9c7ce" args="(struct ao2_container *c, enum search_flags flags, ao2_callback_fn *cb_fn, void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* _ao2_callback </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structao2__container.html">ao2_container</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35c">search_flags</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="astobj2_8h.html#a4de0d949b2c7e11310c21ad64a83cf72">ao2_callback_fn</a> *&nbsp;</td>
          <td class="paramname"> <em>cb_fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00744">744</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="astobj2_8c_source.html#l00603">__ao2_callback()</a>, and <a class="el" href="astobj2_8c_source.html#l00124">DEFAULT</a>.</p>

<p>Referenced by <a class="el" href="astobj2_8c_source.html#l00772">_ao2_find()</a>, <a class="el" href="astobj2_8c_source.html#l00569">_ao2_unlink()</a>, and <a class="el" href="astobj2_8c_source.html#l00910">container_destruct()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00746"></a>00746 {
<a name="l00747"></a>00747    <span class="keywordflow">return</span> <a class="code" href="astobj2_8c.html#aa19e8e1b882437b9b2d84126ed829eb7">__ao2_callback</a>(c,flags, cb_fn, arg, NULL, <a class="code" href="astobj2_8c.html#a022a436822026a8dd39d892e8056aa44a88ec7d5086d2469ba843c7fcceade8a6">DEFAULT</a>, NULL, NULL, 0, NULL);
<a name="l00748"></a>00748 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab950909059ac21e01244919265d1922a"></a><!-- doxytag: member="astobj2.h::_ao2_callback_data" ref="ab950909059ac21e01244919265d1922a" args="(struct ao2_container *c, enum search_flags flags, ao2_callback_data_fn *cb_fn, void *arg, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* _ao2_callback_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structao2__container.html">ao2_container</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35c">search_flags</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="astobj2_8h.html#ae472805461071323e68cba1f441081f3">ao2_callback_data_fn</a> *&nbsp;</td>
          <td class="paramname"> <em>cb_fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00758">758</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="astobj2_8c_source.html#l00603">__ao2_callback()</a>, and <a class="el" href="astobj2_8c_source.html#l00125">WITH_DATA</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00760"></a>00760 {
<a name="l00761"></a>00761    <span class="keywordflow">return</span> <a class="code" href="astobj2_8c.html#aa19e8e1b882437b9b2d84126ed829eb7">__ao2_callback</a>(c, flags, cb_fn, arg, data, <a class="code" href="astobj2_8c.html#a022a436822026a8dd39d892e8056aa44a681ab33b32890847d54f7f76f29d050a">WITH_DATA</a>, NULL, NULL, 0, NULL);
<a name="l00762"></a>00762 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3dfc8ce69ff853de11f8f5cadc1e4ba5"></a><!-- doxytag: member="astobj2.h::_ao2_callback_data_debug" ref="a3dfc8ce69ff853de11f8f5cadc1e4ba5" args="(struct ao2_container *c, enum search_flags flags, ao2_callback_data_fn *cb_fn, void *arg, void *data, char *tag, char *file, int line, const char *funcname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* _ao2_callback_data_debug </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structao2__container.html">ao2_container</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35c">search_flags</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="astobj2_8h.html#ae472805461071323e68cba1f441081f3">ao2_callback_data_fn</a> *&nbsp;</td>
          <td class="paramname"> <em>cb_fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>funcname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00750">750</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="astobj2_8c_source.html#l00603">__ao2_callback()</a>, and <a class="el" href="astobj2_8c_source.html#l00125">WITH_DATA</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00754"></a>00754 {
<a name="l00755"></a>00755    <span class="keywordflow">return</span> <a class="code" href="astobj2_8c.html#aa19e8e1b882437b9b2d84126ed829eb7">__ao2_callback</a>(c, flags, cb_fn, arg, data, <a class="code" href="astobj2_8c.html#a022a436822026a8dd39d892e8056aa44a681ab33b32890847d54f7f76f29d050a">WITH_DATA</a>, tag, file, line, funcname);
<a name="l00756"></a>00756 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af2131d6b7aa8aa592b86de680087b529"></a><!-- doxytag: member="astobj2.h::_ao2_callback_debug" ref="af2131d6b7aa8aa592b86de680087b529" args="(struct ao2_container *c, enum search_flags flags, ao2_callback_fn *cb_fn, void *arg, char *tag, char *file, int line, const char *funcname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* _ao2_callback_debug </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structao2__container.html">ao2_container</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35c">search_flags</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="astobj2_8h.html#a4de0d949b2c7e11310c21ad64a83cf72">ao2_callback_fn</a> *&nbsp;</td>
          <td class="paramname"> <em>cb_fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>funcname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00736">736</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="astobj2_8c_source.html#l00603">__ao2_callback()</a>, and <a class="el" href="astobj2_8c_source.html#l00124">DEFAULT</a>.</p>

<p>Referenced by <a class="el" href="astobj2_8c_source.html#l00767">_ao2_find_debug()</a>, <a class="el" href="astobj2_8c_source.html#l00558">_ao2_unlink_debug()</a>, and <a class="el" href="astobj2_8c_source.html#l00930">container_destruct_debug()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00740"></a>00740 {
<a name="l00741"></a>00741    <span class="keywordflow">return</span> <a class="code" href="astobj2_8c.html#aa19e8e1b882437b9b2d84126ed829eb7">__ao2_callback</a>(c,flags, cb_fn, arg, NULL, <a class="code" href="astobj2_8c.html#a022a436822026a8dd39d892e8056aa44a88ec7d5086d2469ba843c7fcceade8a6">DEFAULT</a>, tag, file, line, funcname);
<a name="l00742"></a>00742 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac98471c354880632e2ef7869a53b4e5d"></a><!-- doxytag: member="astobj2.h::_ao2_container_alloc" ref="ac98471c354880632e2ef7869a53b4e5d" args="(const unsigned int n_buckets, ao2_hash_fn *hash_fn, ao2_callback_fn *cmp_fn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structao2__container.html">ao2_container</a>* _ao2_container_alloc </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&nbsp;</td>
          <td class="paramname"> <em>n_buckets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="astobj2_8h.html#ab29eb962131d79590e1ee1f07ba41818">ao2_hash_fn</a> *&nbsp;</td>
          <td class="paramname"> <em>hash_fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="astobj2_8h.html#a4de0d949b2c7e11310c21ad64a83cf72">ao2_callback_fn</a> *&nbsp;</td>
          <td class="paramname"> <em>cmp_fn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00459">459</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="astobj2_8c.html#a99e4376ad163aa10cfb453bce7bb09ee">__ao2_container_alloc()</a>, <a class="el" href="astobj2_8c_source.html#l00359">_ao2_alloc()</a>, and <a class="el" href="astobj2_8c_source.html#l00910">container_destruct()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00461"></a>00461 {
<a name="l00462"></a>00462    <span class="comment">/* XXX maybe consistency check on arguments ? */</span>
<a name="l00463"></a>00463    <span class="comment">/* compute the container size */</span>
<a name="l00464"></a>00464 
<a name="l00465"></a>00465    <span class="keywordtype">size_t</span> container_size = <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structao2__container.html">ao2_container</a>) + <a class="code" href="structao2__container.html#a8f8a111ea93855d31480f7a4408a5be2">n_buckets</a> * <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structbucket.html">bucket</a>);
<a name="l00466"></a>00466    <span class="keyword">struct </span><a class="code" href="structao2__container.html">ao2_container</a> *c = <a class="code" href="astobj2_8h.html#abbdf3f8df491fe56536e0fdd4c35b17a">_ao2_alloc</a>(container_size, <a class="code" href="astobj2_8c.html#ac85276b83b4a68241c5ed7e8b49b70d3">container_destruct</a>);
<a name="l00467"></a>00467 
<a name="l00468"></a>00468    <span class="keywordflow">return</span> <a class="code" href="astobj2_8c.html#a99e4376ad163aa10cfb453bce7bb09ee">__ao2_container_alloc</a>(c, <a class="code" href="structao2__container.html#a8f8a111ea93855d31480f7a4408a5be2">n_buckets</a>, <a class="code" href="event_8c.html#affe6d185cf034f97d9e746dbfc8fb11c" title="Event type specific hash function.">hash_fn</a>, <a class="code" href="structao2__container.html#ab243d099d50c44002e75e91b0f077deb">cmp_fn</a>);
<a name="l00469"></a>00469 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a96b9708f9b7fa0d87ce611d275380779"></a><!-- doxytag: member="astobj2.h::_ao2_container_alloc_debug" ref="a96b9708f9b7fa0d87ce611d275380779" args="(const unsigned int n_buckets, ao2_hash_fn *hash_fn, ao2_callback_fn *cmp_fn, char *tag, char *file, int line, const char *funcname, int ref_debug)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structao2__container.html">ao2_container</a>* _ao2_container_alloc_debug </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&nbsp;</td>
          <td class="paramname"> <em>n_buckets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="astobj2_8h.html#ab29eb962131d79590e1ee1f07ba41818">ao2_hash_fn</a> *&nbsp;</td>
          <td class="paramname"> <em>hash_fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="astobj2_8h.html#a4de0d949b2c7e11310c21ad64a83cf72">ao2_callback_fn</a> *&nbsp;</td>
          <td class="paramname"> <em>cmp_fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>funcname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ref_debug</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00446">446</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="astobj2_8c.html#a99e4376ad163aa10cfb453bce7bb09ee">__ao2_container_alloc()</a>, <a class="el" href="astobj2_8c_source.html#l00338">_ao2_alloc_debug()</a>, and <a class="el" href="astobj2_8c_source.html#l00930">container_destruct_debug()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00449"></a>00449 {
<a name="l00450"></a>00450    <span class="comment">/* XXX maybe consistency check on arguments ? */</span>
<a name="l00451"></a>00451    <span class="comment">/* compute the container size */</span>
<a name="l00452"></a>00452    <span class="keywordtype">size_t</span> container_size = <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structao2__container.html">ao2_container</a>) + <a class="code" href="structao2__container.html#a8f8a111ea93855d31480f7a4408a5be2">n_buckets</a> * <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structbucket.html">bucket</a>);
<a name="l00453"></a>00453    <span class="keyword">struct </span><a class="code" href="structao2__container.html">ao2_container</a> *c = <a class="code" href="astobj2_8h.html#acaa3595d4023693e24ae4b5bb5fe1372">_ao2_alloc_debug</a>(container_size, <a class="code" href="astobj2_8c.html#aa1ab405ac51cdcc6b73a563e3864bfba">container_destruct_debug</a>, tag, file, line, funcname, ref_debug);
<a name="l00454"></a>00454 
<a name="l00455"></a>00455    <span class="keywordflow">return</span> <a class="code" href="astobj2_8c.html#a99e4376ad163aa10cfb453bce7bb09ee">__ao2_container_alloc</a>(c, <a class="code" href="structao2__container.html#a8f8a111ea93855d31480f7a4408a5be2">n_buckets</a>, <a class="code" href="event_8c.html#affe6d185cf034f97d9e746dbfc8fb11c" title="Event type specific hash function.">hash_fn</a>, <a class="code" href="structao2__container.html#ab243d099d50c44002e75e91b0f077deb">cmp_fn</a>);
<a name="l00456"></a>00456 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1fbe06cf1b054fe94d7ff6b06343e7d0"></a><!-- doxytag: member="astobj2.h::_ao2_find" ref="a1fbe06cf1b054fe94d7ff6b06343e7d0" args="(struct ao2_container *c, void *arg, enum search_flags flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* _ao2_find </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structao2__container.html">ao2_container</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35c">search_flags</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00772">772</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="astobj2_8c_source.html#l00744">_ao2_callback()</a>, and <a class="el" href="astobj2_8c_source.html#l00398">ao2_container::cmp_fn</a>.</p>

<p>Referenced by <a class="el" href="res__musiconhold_8c_source.html#l00775">_get_mohbyname()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00773"></a>00773 {
<a name="l00774"></a>00774    <span class="keywordflow">return</span> <a class="code" href="astobj2_8h.html#a30b201eaf8b1b0ac4a3fa50077f9c7ce">_ao2_callback</a>(c, flags, c-&gt;<a class="code" href="structao2__container.html#ab243d099d50c44002e75e91b0f077deb">cmp_fn</a>, arg);
<a name="l00775"></a>00775 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5dbd3b81ca89a8474950a7e44ad8adc5"></a><!-- doxytag: member="astobj2.h::_ao2_find_debug" ref="a5dbd3b81ca89a8474950a7e44ad8adc5" args="(struct ao2_container *c, void *arg, enum search_flags flags, char *tag, char *file, int line, const char *funcname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* _ao2_find_debug </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structao2__container.html">ao2_container</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35c">search_flags</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>funcname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the find function just invokes the default callback with some reasonable flags. </p>

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00767">767</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="astobj2_8c_source.html#l00736">_ao2_callback_debug()</a>, and <a class="el" href="astobj2_8c_source.html#l00398">ao2_container::cmp_fn</a>.</p>

<p>Referenced by <a class="el" href="res__musiconhold_8c_source.html#l00775">_get_mohbyname()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00768"></a>00768 {
<a name="l00769"></a>00769    <span class="keywordflow">return</span> <a class="code" href="astobj2_8h.html#af2131d6b7aa8aa592b86de680087b529">_ao2_callback_debug</a>(c, flags, c-&gt;<a class="code" href="structao2__container.html#ab243d099d50c44002e75e91b0f077deb">cmp_fn</a>, arg, tag, file, line, funcname);
<a name="l00770"></a>00770 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5ac650a7e344398ffff27fbbf2025a9d"></a><!-- doxytag: member="astobj2.h::_ao2_iterator_next" ref="a5ac650a7e344398ffff27fbbf2025a9d" args="(struct ao2_iterator *a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* _ao2_iterator_next </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structao2__iterator.html">ao2_iterator</a> *&nbsp;</td>
          <td class="paramname"> <em>a</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00877">877</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="astobj2_8c_source.html#l00804">__ao2_iterator_next()</a>, <a class="el" href="astobj2_8c_source.html#l00249">_ao2_ref()</a>, <a class="el" href="astobj2_8h_source.html#l01078">AO2_ITERATOR_DONTLOCK</a>, <a class="el" href="astobj2_8c_source.html#l00169">ao2_unlock()</a>, <a class="el" href="astobj2_8h_source.html#l01058">ao2_iterator::c</a>, and <a class="el" href="astobj2_8h_source.html#l01060">ao2_iterator::flags</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00878"></a>00878 {
<a name="l00879"></a>00879    <span class="keyword">struct </span><a class="code" href="structbucket__list.html">bucket_list</a> *p = NULL;
<a name="l00880"></a>00880    <span class="keywordtype">void</span> *ret = NULL;
<a name="l00881"></a>00881 
<a name="l00882"></a>00882    ret = <a class="code" href="astobj2_8c.html#a24c32a5916b1d03c1c0ce3e14dd999c1">__ao2_iterator_next</a>(a, &amp;p);
<a name="l00883"></a>00883    
<a name="l00884"></a>00884    <span class="keywordflow">if</span> (p) {
<a name="l00885"></a>00885       <span class="comment">/* inc refcount of returned object */</span>
<a name="l00886"></a>00886       <a class="code" href="astobj2_8h.html#a601e8d270ad5a16144370908e0a64233">_ao2_ref</a>(ret, 1);
<a name="l00887"></a>00887    }
<a name="l00888"></a>00888 
<a name="l00889"></a>00889    <span class="keywordflow">if</span> (!(a-&gt;<a class="code" href="structao2__iterator.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a> &amp; <a class="code" href="astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6aba42e2c6aadc44e4259a058a6675b7e7e4">AO2_ITERATOR_DONTLOCK</a>))
<a name="l00890"></a>00890       <a class="code" href="astobj2_8h.html#a379cc936a320f2179f7beb422dc15230" title="Unlock an object.">ao2_unlock</a>(a-&gt;<a class="code" href="structao2__iterator.html#add66ef9875bb0ff1bd4747707d6f3333">c</a>);
<a name="l00891"></a>00891 
<a name="l00892"></a>00892    <span class="keywordflow">return</span> ret;
<a name="l00893"></a>00893 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac092231df7591e0517dbc9e05b38abde"></a><!-- doxytag: member="astobj2.h::_ao2_iterator_next_debug" ref="ac092231df7591e0517dbc9e05b38abde" args="(struct ao2_iterator *a, char *tag, char *file, int line, const char *funcname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* _ao2_iterator_next_debug </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structao2__iterator.html">ao2_iterator</a> *&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>funcname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00859">859</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="astobj2_8c_source.html#l00804">__ao2_iterator_next()</a>, <a class="el" href="astobj2_8c_source.html#l00229">_ao2_ref_debug()</a>, <a class="el" href="astobj2_8h_source.html#l01078">AO2_ITERATOR_DONTLOCK</a>, <a class="el" href="astobj2_8c_source.html#l00169">ao2_unlock()</a>, <a class="el" href="astobj2_8h_source.html#l01058">ao2_iterator::c</a>, and <a class="el" href="astobj2_8h_source.html#l01060">ao2_iterator::flags</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00860"></a>00860 {
<a name="l00861"></a>00861    <span class="keyword">struct </span><a class="code" href="structbucket__list.html">bucket_list</a> *p;
<a name="l00862"></a>00862    <span class="keywordtype">void</span> *ret = NULL;
<a name="l00863"></a>00863 
<a name="l00864"></a>00864    ret = <a class="code" href="astobj2_8c.html#a24c32a5916b1d03c1c0ce3e14dd999c1">__ao2_iterator_next</a>(a, &amp;p);
<a name="l00865"></a>00865    
<a name="l00866"></a>00866    <span class="keywordflow">if</span> (p) {
<a name="l00867"></a>00867       <span class="comment">/* inc refcount of returned object */</span>
<a name="l00868"></a>00868       <a class="code" href="astobj2_8h.html#a8edbc54a8389a1d173305dd79af77873">_ao2_ref_debug</a>(ret, 1, tag, file, line, funcname);
<a name="l00869"></a>00869    }
<a name="l00870"></a>00870 
<a name="l00871"></a>00871    <span class="keywordflow">if</span> (!(a-&gt;<a class="code" href="structao2__iterator.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a> &amp; <a class="code" href="astobj2_8h.html#a7b5de2aa80f528d3dc554caadb8dc6aba42e2c6aadc44e4259a058a6675b7e7e4">AO2_ITERATOR_DONTLOCK</a>))
<a name="l00872"></a>00872       <a class="code" href="astobj2_8h.html#a379cc936a320f2179f7beb422dc15230" title="Unlock an object.">ao2_unlock</a>(a-&gt;<a class="code" href="structao2__iterator.html#add66ef9875bb0ff1bd4747707d6f3333">c</a>);
<a name="l00873"></a>00873 
<a name="l00874"></a>00874    <span class="keywordflow">return</span> ret;
<a name="l00875"></a>00875 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa51c4e23ee87405f06a5f436216e9b5b"></a><!-- doxytag: member="astobj2.h::_ao2_link" ref="aa51c4e23ee87405f06a5f436216e9b5b" args="(struct ao2_container *c, void *newobj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* _ao2_link </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structao2__container.html">ao2_container</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>newobj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00535">535</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="astobj2_8c_source.html#l00494">__ao2_link()</a>, <a class="el" href="astobj2_8c_source.html#l00249">_ao2_ref()</a>, and <a class="el" href="astobj2_8c_source.html#l00169">ao2_unlock()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00536"></a>00536 {
<a name="l00537"></a>00537    <span class="keyword">struct </span><a class="code" href="structbucket__list.html">bucket_list</a> *p = <a class="code" href="astobj2_8c.html#a48b84512736a0d793ca6d50717efe6e2">__ao2_link</a>(c, user_data, __FILE__, __LINE__, __PRETTY_FUNCTION__);
<a name="l00538"></a>00538 
<a name="l00539"></a>00539    <span class="keywordflow">if</span> (p) {
<a name="l00540"></a>00540       <a class="code" href="astobj2_8h.html#a601e8d270ad5a16144370908e0a64233">_ao2_ref</a>(user_data, +1);
<a name="l00541"></a>00541       <a class="code" href="astobj2_8h.html#a379cc936a320f2179f7beb422dc15230" title="Unlock an object.">ao2_unlock</a>(c);
<a name="l00542"></a>00542    }
<a name="l00543"></a>00543    <span class="keywordflow">return</span> p;
<a name="l00544"></a>00544 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac26df7b597bacc7320e1e6a46aeae9a3"></a><!-- doxytag: member="astobj2.h::_ao2_link_debug" ref="ac26df7b597bacc7320e1e6a46aeae9a3" args="(struct ao2_container *c, void *new_obj, char *tag, char *file, int line, const char *funcname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* _ao2_link_debug </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structao2__container.html">ao2_container</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>new_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>funcname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00524">524</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="astobj2_8c_source.html#l00494">__ao2_link()</a>, <a class="el" href="astobj2_8c_source.html#l00229">_ao2_ref_debug()</a>, and <a class="el" href="astobj2_8c_source.html#l00169">ao2_unlock()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00525"></a>00525 {
<a name="l00526"></a>00526    <span class="keyword">struct </span><a class="code" href="structbucket__list.html">bucket_list</a> *p = <a class="code" href="astobj2_8c.html#a48b84512736a0d793ca6d50717efe6e2">__ao2_link</a>(c, user_data, file, line, funcname);
<a name="l00527"></a>00527 
<a name="l00528"></a>00528    <span class="keywordflow">if</span> (p) {
<a name="l00529"></a>00529       <a class="code" href="astobj2_8h.html#a8edbc54a8389a1d173305dd79af77873">_ao2_ref_debug</a>(user_data, +1, tag, file, line, funcname);
<a name="l00530"></a>00530       <a class="code" href="astobj2_8h.html#a379cc936a320f2179f7beb422dc15230" title="Unlock an object.">ao2_unlock</a>(c);
<a name="l00531"></a>00531    }
<a name="l00532"></a>00532    <span class="keywordflow">return</span> p;
<a name="l00533"></a>00533 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a601e8d270ad5a16144370908e0a64233"></a><!-- doxytag: member="astobj2.h::_ao2_ref" ref="a601e8d270ad5a16144370908e0a64233" args="(void *o, int delta)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _ao2_ref </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>delta</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00249">249</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="astobj2_8c_source.html#l00259">__ao2_ref()</a>, and <a class="el" href="astobj2_8c_source.html#l00105">INTERNAL_OBJ()</a>.</p>

<p>Referenced by <a class="el" href="astobj2_8c_source.html#l00603">__ao2_callback()</a>, <a class="el" href="astobj2_8c_source.html#l00877">_ao2_iterator_next()</a>, <a class="el" href="astobj2_8c_source.html#l00535">_ao2_link()</a>, and <a class="el" href="astobj2_8c_source.html#l00898">cd_cb()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00250"></a>00250 {
<a name="l00251"></a>00251    <span class="keyword">struct </span><a class="code" href="structastobj2.html">astobj2</a> *obj = <a class="code" href="astobj2_8c.html#a2b7e81d19a8c47d3ac54fbfa57a72d73" title="convert from a pointer _p to a user-defined object">INTERNAL_OBJ</a>(<a class="code" href="structastobj2.html#acbf942163aac2ac896c79b9206f3186d">user_data</a>);
<a name="l00252"></a>00252 
<a name="l00253"></a>00253    <span class="keywordflow">if</span> (obj == NULL)
<a name="l00254"></a>00254       <span class="keywordflow">return</span> -1;
<a name="l00255"></a>00255 
<a name="l00256"></a>00256    <span class="keywordflow">return</span> <a class="code" href="astobj2_8c.html#aaee41516b37f1370772c4a7185ffd576">__ao2_ref</a>(<a class="code" href="structastobj2.html#acbf942163aac2ac896c79b9206f3186d">user_data</a>, delta);
<a name="l00257"></a>00257 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8edbc54a8389a1d173305dd79af77873"></a><!-- doxytag: member="astobj2.h::_ao2_ref_debug" ref="a8edbc54a8389a1d173305dd79af77873" args="(void *o, int delta, char *tag, char *file, int line, const char *funcname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _ao2_ref_debug </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>delta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>funcname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00229">229</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="astobj2_8c_source.html#l00259">__ao2_ref()</a>, <a class="el" href="astobj2_8c_source.html#l00043">__priv_data::destructor_fn</a>, <a class="el" href="astobj2_8c_source.html#l00105">INTERNAL_OBJ()</a>, <a class="el" href="astobj2_8c_source.html#l00058">astobj2::priv_data</a>, <a class="el" href="astobj2_8c_source.html#l00042">__priv_data::ref_counter</a>, and <a class="el" href="astobj2_8c_source.html#l00028">REF_FILE</a>.</p>

<p>Referenced by <a class="el" href="astobj2_8c_source.html#l00603">__ao2_callback()</a>, <a class="el" href="astobj2_8c_source.html#l00859">_ao2_iterator_next_debug()</a>, <a class="el" href="astobj2_8c_source.html#l00524">_ao2_link_debug()</a>, and <a class="el" href="astobj2_8c_source.html#l00904">cd_cb_debug()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00230"></a>00230 {
<a name="l00231"></a>00231    <span class="keyword">struct </span><a class="code" href="structastobj2.html">astobj2</a> *obj = <a class="code" href="astobj2_8c.html#a2b7e81d19a8c47d3ac54fbfa57a72d73" title="convert from a pointer _p to a user-defined object">INTERNAL_OBJ</a>(<a class="code" href="structastobj2.html#acbf942163aac2ac896c79b9206f3186d">user_data</a>);
<a name="l00232"></a>00232    
<a name="l00233"></a>00233    <span class="keywordflow">if</span> (obj == NULL)
<a name="l00234"></a>00234       <span class="keywordflow">return</span> -1;
<a name="l00235"></a>00235 
<a name="l00236"></a>00236    <span class="keywordflow">if</span> (delta != 0) {
<a name="l00237"></a>00237       FILE *refo = fopen(<a class="code" href="astobj2_8c.html#ae41fbd2d091df3dd2a32b937827c2474">REF_FILE</a>,<span class="stringliteral">&quot;a&quot;</span>);
<a name="l00238"></a>00238       fprintf(refo, <span class="stringliteral">&quot;%p %s%d   %s:%d:%s (%s) [@%d]\n&quot;</span>, <a class="code" href="structastobj2.html#acbf942163aac2ac896c79b9206f3186d">user_data</a>, (delta&lt;0? <span class="stringliteral">&quot;&quot;</span>:<span class="stringliteral">&quot;+&quot;</span>), delta, file, line, funcname, tag, obj-&gt;<a class="code" href="structastobj2.html#a7ff59707b93fb7bbf2f89fc2c48c121b">priv_data</a>.<a class="code" href="struct____priv__data.html#a5e93b6ff1241a8ea952f207d5fbc5eba">ref_counter</a>);
<a name="l00239"></a>00239       fclose(refo);
<a name="l00240"></a>00240    }
<a name="l00241"></a>00241    <span class="keywordflow">if</span> (obj-&gt;<a class="code" href="structastobj2.html#a7ff59707b93fb7bbf2f89fc2c48c121b">priv_data</a>.<a class="code" href="struct____priv__data.html#a5e93b6ff1241a8ea952f207d5fbc5eba">ref_counter</a> + delta == 0 &amp;&amp; obj-&gt;<a class="code" href="structastobj2.html#a7ff59707b93fb7bbf2f89fc2c48c121b">priv_data</a>.<a class="code" href="struct____priv__data.html#aa9f86bdebceaa59845b5f7b66df54d9f">destructor_fn</a> != NULL) { <span class="comment">/* this isn&apos;t protected with lock; just for o/p */</span>
<a name="l00242"></a>00242          FILE *refo = fopen(<a class="code" href="astobj2_8c.html#ae41fbd2d091df3dd2a32b937827c2474">REF_FILE</a>,<span class="stringliteral">&quot;a&quot;</span>);    
<a name="l00243"></a>00243          fprintf(refo, <span class="stringliteral">&quot;%p **call destructor** %s:%d:%s (%s)\n&quot;</span>, <a class="code" href="structastobj2.html#acbf942163aac2ac896c79b9206f3186d">user_data</a>, file, line, funcname, tag);   
<a name="l00244"></a>00244          fclose(refo);
<a name="l00245"></a>00245    }
<a name="l00246"></a>00246    <span class="keywordflow">return</span> <a class="code" href="astobj2_8c.html#aaee41516b37f1370772c4a7185ffd576">__ao2_ref</a>(<a class="code" href="structastobj2.html#acbf942163aac2ac896c79b9206f3186d">user_data</a>, delta);
<a name="l00247"></a>00247 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a433e9ffdffae0842c144a75bc8fda81d"></a><!-- doxytag: member="astobj2.h::_ao2_unlink" ref="a433e9ffdffae0842c144a75bc8fda81d" args="(struct ao2_container *c, void *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* _ao2_unlink </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structao2__container.html">ao2_container</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00569">569</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="astobj2_8c_source.html#l00744">_ao2_callback()</a>, <a class="el" href="astobj2_8h_source.html#l00646">ao2_match_by_addr</a>, <a class="el" href="astobj2_8c_source.html#l00105">INTERNAL_OBJ()</a>, <a class="el" href="astobj2_8h_source.html#l00667">OBJ_NODATA</a>, <a class="el" href="astobj2_8h_source.html#l00678">OBJ_POINTER</a>, and <a class="el" href="astobj2_8h_source.html#l00664">OBJ_UNLINK</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00570"></a>00570 {
<a name="l00571"></a>00571    <span class="keywordflow">if</span> (<a class="code" href="astobj2_8c.html#a2b7e81d19a8c47d3ac54fbfa57a72d73" title="convert from a pointer _p to a user-defined object">INTERNAL_OBJ</a>(<a class="code" href="structastobj2.html#acbf942163aac2ac896c79b9206f3186d">user_data</a>) == NULL)   <span class="comment">/* safety check on the argument */</span>
<a name="l00572"></a>00572       <span class="keywordflow">return</span> NULL;
<a name="l00573"></a>00573 
<a name="l00574"></a>00574    <a class="code" href="astobj2_8h.html#a30b201eaf8b1b0ac4a3fa50077f9c7ce">_ao2_callback</a>(c, <a class="code" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a> | <a class="code" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca32d49976aaebc093266f0b080f9c9a73">OBJ_POINTER</a> | <a class="code" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a>, <a class="code" href="astobj2_8h.html#ad3cdef7b57f55d9f43407ab7c15c3422" title="a very common callback is one that matches by address.">ao2_match_by_addr</a>, <a class="code" href="structastobj2.html#acbf942163aac2ac896c79b9206f3186d">user_data</a>);
<a name="l00575"></a>00575 
<a name="l00576"></a>00576    <span class="keywordflow">return</span> NULL;
<a name="l00577"></a>00577 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a67726b01484280efb644a29114ca00b9"></a><!-- doxytag: member="astobj2.h::_ao2_unlink_debug" ref="a67726b01484280efb644a29114ca00b9" args="(struct ao2_container *c, void *obj, char *tag, char *file, int line, const char *funcname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* _ao2_unlink_debug </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structao2__container.html">ao2_container</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>funcname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00558">558</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="astobj2_8c_source.html#l00736">_ao2_callback_debug()</a>, <a class="el" href="astobj2_8h_source.html#l00646">ao2_match_by_addr</a>, <a class="el" href="astobj2_8c_source.html#l00105">INTERNAL_OBJ()</a>, <a class="el" href="astobj2_8h_source.html#l00667">OBJ_NODATA</a>, <a class="el" href="astobj2_8h_source.html#l00678">OBJ_POINTER</a>, and <a class="el" href="astobj2_8h_source.html#l00664">OBJ_UNLINK</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00560"></a>00560 {
<a name="l00561"></a>00561    <span class="keywordflow">if</span> (<a class="code" href="astobj2_8c.html#a2b7e81d19a8c47d3ac54fbfa57a72d73" title="convert from a pointer _p to a user-defined object">INTERNAL_OBJ</a>(<a class="code" href="structastobj2.html#acbf942163aac2ac896c79b9206f3186d">user_data</a>) == NULL)   <span class="comment">/* safety check on the argument */</span>
<a name="l00562"></a>00562       <span class="keywordflow">return</span> NULL;
<a name="l00563"></a>00563 
<a name="l00564"></a>00564    <a class="code" href="astobj2_8h.html#af2131d6b7aa8aa592b86de680087b529">_ao2_callback_debug</a>(c, <a class="code" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a> | <a class="code" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca32d49976aaebc093266f0b080f9c9a73">OBJ_POINTER</a> | <a class="code" href="astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a>, <a class="code" href="astobj2_8h.html#ad3cdef7b57f55d9f43407ab7c15c3422" title="a very common callback is one that matches by address.">ao2_match_by_addr</a>, <a class="code" href="structastobj2.html#acbf942163aac2ac896c79b9206f3186d">user_data</a>, tag, file, line, funcname);
<a name="l00565"></a>00565 
<a name="l00566"></a>00566    <span class="keywordflow">return</span> NULL;
<a name="l00567"></a>00567 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a96dd2bfd0e6c27a4deaa8356e7821ec5"></a><!-- doxytag: member="astobj2.h::ao2_bt" ref="a96dd2bfd0e6c27a4deaa8356e7821ec5" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ao2_bt </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00079">79</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00079"></a>00079 {}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a512cc40ce96c63b3d5c78040baa4c9cd"></a><!-- doxytag: member="astobj2.h::ao2_container_count" ref="a512cc40ce96c63b3d5c78040baa4c9cd" args="(struct ao2_container *c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ao2_container_count </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structao2__container.html">ao2_container</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the <a class="el" href="structnumber.html" title="Number structure.">number</a> of elements in a container. </p>
<p>return the <a class="el" href="structnumber.html" title="Number structure.">number</a> of elements in the container </p>

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00474">474</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="astobj2_8c_source.html#l00401">ao2_container::elements</a>.</p>

<p>Referenced by <a class="el" href="app__queue_8c_source.html#l06083">__queues_show()</a>, <a class="el" href="chan__sip_8c_source.html#l14666">_sip_show_peers()</a>, <a class="el" href="indications_8c_source.html#l00395">ast_tone_zone_count()</a>, <a class="el" href="taskprocessor_8c_source.html#l00235">cli_tps_report()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00449">do_timing()</a>, <a class="el" href="chan__iax2_8c_source.html#l02421">get_unused_callno()</a>, <a class="el" href="func__lock_8c_source.html#l00165">lock_broker()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00107">pthread_timer_open()</a>, and <a class="el" href="func__lock_8c_source.html#l00449">unload_module()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00475"></a>00475 {
<a name="l00476"></a>00476    <span class="keywordflow">return</span> c-&gt;<a class="code" href="structao2__container.html#a3c5df9c474b82fd6fbb560987c2492c8">elements</a>;
<a name="l00477"></a>00477 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a62d5d9e9d0fa281168e6a08ef4a52450"></a><!-- doxytag: member="astobj2.h::ao2_iterator_destroy" ref="a62d5d9e9d0fa281168e6a08ef4a52450" args="(struct ao2_iterator *i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ao2_iterator_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structao2__iterator.html">ao2_iterator</a> *&nbsp;</td>
          <td class="paramname"> <em>i</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destroy a container iterator. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>the iterator to destroy</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>none</em>&nbsp;</td><td>This function will release the container reference held by the iterator and any other resources it may be holding.</td></tr>
  </table>
  </dd>
</dl>
<p>destroy an iterator </p>

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00795">795</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="astobj2_8h_source.html#l00459">ao2_ref</a>, and <a class="el" href="astobj2_8h_source.html#l01058">ao2_iterator::c</a>.</p>

<p>Referenced by <a class="el" href="chan__iax2_8c_source.html#l06324">__iax2_show_peers()</a>, <a class="el" href="app__queue_8c_source.html#l06083">__queues_show()</a>, <a class="el" href="chan__sip_8c_source.html#l14666">_sip_show_peers()</a>, <a class="el" href="res__clialiases_8c_source.html#l00137">alias_show()</a>, <a class="el" href="chan__iax2_8c_source.html#l07812">authenticate_reply()</a>, <a class="el" href="chan__iax2_8c_source.html#l07197">check_access()</a>, <a class="el" href="app__queue_8c_source.html#l01243">clear_queue()</a>, <a class="el" href="app__queue_8c_source.html#l06024">clear_stats()</a>, <a class="el" href="chan__console_8c_source.html#l01146">cli_console_active()</a>, <a class="el" href="chan__console_8c_source.html#l00965">cli_list_devices()</a>, <a class="el" href="app__queue_8c_source.html#l02371">compare_weight()</a>, <a class="el" href="chan__iax2_8c_source.html#l03647">complete_iax2_peers()</a>, <a class="el" href="chan__iax2_8c_source.html#l06566">complete_iax2_unregister()</a>, <a class="el" href="app__queue_8c_source.html#l06211">complete_queue()</a>, <a class="el" href="app__queue_8c_source.html#l06773">complete_queue_remove_member()</a>, <a class="el" href="chan__sip_8c_source.html#l16308">complete_sip_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l16332">complete_sip_registered_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l15594">complete_sip_user()</a>, <a class="el" href="chan__sip_8c_source.html#l16278">complete_sipch()</a>, <a class="el" href="res__phoneprov_8c_source.html#l01074">delete_profiles()</a>, <a class="el" href="res__phoneprov_8c_source.html#l01060">delete_routes()</a>, <a class="el" href="res__phoneprov_8c_source.html#l00824">delete_users()</a>, <a class="el" href="chan__console_8c_source.html#l01359">destroy_pvts()</a>, <a class="el" href="func__dialgroup_8c_source.html#l00125">dialgroup_read()</a>, <a class="el" href="app__queue_8c_source.html#l04356">dump_queue_members()</a>, <a class="el" href="app__queue_8c_source.html#l01696">find_queue_by_name_rt()</a>, <a class="el" href="app__queue_8c_source.html#l01641">free_members()</a>, <a class="el" href="app__queue_8c_source.html#l00951">get_member_status()</a>, <a class="el" href="chan__iax2_8c_source.html#l02374">handle_cli_iax2_show_callno_limits()</a>, <a class="el" href="chan__iax2_8c_source.html#l06250">handle_cli_iax2_show_users()</a>, <a class="el" href="res__musiconhold_8c_source.html#l01717">handle_cli_moh_show_classes()</a>, <a class="el" href="res__musiconhold_8c_source.html#l01679">handle_cli_moh_show_files()</a>, <a class="el" href="res__odbc_8c_source.html#l00871">handle_cli_odbc_show()</a>, <a class="el" href="chan__sip_8c_source.html#l21175">handle_request_subscribe()</a>, <a class="el" href="res__phoneprov_8c_source.html#l01193">handle_show_routes()</a>, <a class="el" href="app__queue_8c_source.html#l01046">handle_statechange()</a>, <a class="el" href="chan__iax2_8c_source.html#l01590">iax2_getpeername()</a>, <a class="el" href="chan__iax2_8c_source.html#l05393">iax2_getpeertrunk()</a>, <a class="el" href="app__queue_8c_source.html#l04330">interface_exists()</a>, <a class="el" href="chan__iax2_8c_source.html#l06668">manager_iax2_show_peer_list()</a>, <a class="el" href="app__queue_8c_source.html#l06369">manager_queues_status()</a>, <a class="el" href="app__queue_8c_source.html#l06294">manager_queues_summary()</a>, <a class="el" href="app__queue_8c_source.html#l02328">num_available_members()</a>, <a class="el" href="chan__iax2_8c_source.html#l12935">poke_all_peers()</a>, <a class="el" href="res__phoneprov_8c_source.html#l01088">pp_each_user_exec()</a>, <a class="el" href="chan__iax2_8c_source.html#l12459">prune_peers()</a>, <a class="el" href="chan__iax2_8c_source.html#l12443">prune_users()</a>, <a class="el" href="app__queue_8c_source.html#l05365">queue_function_qac()</a>, <a class="el" href="app__queue_8c_source.html#l05421">queue_function_qac_dep()</a>, <a class="el" href="app__queue_8c_source.html#l05497">queue_function_queuememberlist()</a>, <a class="el" href="res__odbc_8c_source.html#l01604">reload()</a>, <a class="el" href="app__queue_8c_source.html#l01580">rt_handle_member_record()</a>, <a class="el" href="app__queue_8c_source.html#l04509">set_member_paused()</a>, <a class="el" href="app__queue_8c_source.html#l04586">set_member_penalty()</a>, <a class="el" href="chan__sip_8c_source.html#l25576">sip_poke_all_peers()</a>, <a class="el" href="chan__sip_8c_source.html#l15021">sip_prune_realtime()</a>, <a class="el" href="chan__sip_8c_source.html#l16415">sip_show_channel()</a>, <a class="el" href="chan__sip_8c_source.html#l16526">sip_show_history()</a>, <a class="el" href="chan__sip_8c_source.html#l14279">sip_show_inuse()</a>, <a class="el" href="chan__sip_8c_source.html#l14450">sip_show_tcp()</a>, <a class="el" href="chan__sip_8c_source.html#l14488">sip_show_users()</a>, <a class="el" href="chan__console_8c_source.html#l01438">stop_streams()</a>, <a class="el" href="app__queue_8c_source.html#l03569">try_calling()</a>, <a class="el" href="app__queue_8c_source.html#l07170">unload_module()</a>, <a class="el" href="app__queue_8c_source.html#l03271">update_queue()</a>, and <a class="el" href="app__queue_8c_source.html#l01906">update_realtime_members()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00796"></a>00796 {
<a name="l00797"></a>00797    <a class="code" href="astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(i-&gt;<a class="code" href="structao2__iterator.html#add66ef9875bb0ff1bd4747707d6f3333">c</a>, -1);
<a name="l00798"></a>00798    i-&gt;<a class="code" href="structao2__iterator.html#add66ef9875bb0ff1bd4747707d6f3333">c</a> = NULL;
<a name="l00799"></a>00799 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a288075de687152d297308ea1ea963edb"></a><!-- doxytag: member="astobj2.h::ao2_iterator_init" ref="a288075de687152d297308ea1ea963edb" args="(struct ao2_container *c, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structao2__iterator.html">ao2_iterator</a> ao2_iterator_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structao2__container.html">ao2_container</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create an iterator for a container. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>the container </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>one or more flags from ao2_iterator_flags</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>the</em>&nbsp;</td><td>constructed iterator</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This function does <b>not</b> take a pointer to an iterator; rather, it returns an iterator structure that should be assigned to (overwriting) an existing iterator structure allocated on the stack or on the heap.</dd></dl>
<p>This function will take a reference on the container being iterated.</p>
<p>initialize an iterator so we start from the first object </p>

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00780">780</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="astobj2_8h_source.html#l00459">ao2_ref</a>, <a class="el" href="astobj2_8h_source.html#l01058">ao2_iterator::c</a>, and <a class="el" href="astobj2_8h_source.html#l01060">ao2_iterator::flags</a>.</p>

<p>Referenced by <a class="el" href="chan__iax2_8c_source.html#l06324">__iax2_show_peers()</a>, <a class="el" href="app__queue_8c_source.html#l06083">__queues_show()</a>, <a class="el" href="chan__sip_8c_source.html#l14666">_sip_show_peers()</a>, <a class="el" href="res__clialiases_8c_source.html#l00137">alias_show()</a>, <a class="el" href="indications_8c_source.html#l00400">ast_tone_zone_iterator_init()</a>, <a class="el" href="chan__iax2_8c_source.html#l07812">authenticate_reply()</a>, <a class="el" href="chan__iax2_8c_source.html#l07197">check_access()</a>, <a class="el" href="app__queue_8c_source.html#l01243">clear_queue()</a>, <a class="el" href="app__queue_8c_source.html#l06024">clear_stats()</a>, <a class="el" href="chan__console_8c_source.html#l01146">cli_console_active()</a>, <a class="el" href="chan__console_8c_source.html#l00965">cli_list_devices()</a>, <a class="el" href="taskprocessor_8c_source.html#l00235">cli_tps_report()</a>, <a class="el" href="app__queue_8c_source.html#l02371">compare_weight()</a>, <a class="el" href="indications_8c_source.html#l00627">complete_country()</a>, <a class="el" href="chan__iax2_8c_source.html#l03647">complete_iax2_peers()</a>, <a class="el" href="chan__iax2_8c_source.html#l06566">complete_iax2_unregister()</a>, <a class="el" href="app__queue_8c_source.html#l06211">complete_queue()</a>, <a class="el" href="app__queue_8c_source.html#l06773">complete_queue_remove_member()</a>, <a class="el" href="chan__sip_8c_source.html#l16308">complete_sip_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l16332">complete_sip_registered_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l15594">complete_sip_user()</a>, <a class="el" href="chan__sip_8c_source.html#l16278">complete_sipch()</a>, <a class="el" href="res__phoneprov_8c_source.html#l01074">delete_profiles()</a>, <a class="el" href="res__phoneprov_8c_source.html#l01060">delete_routes()</a>, <a class="el" href="res__phoneprov_8c_source.html#l00824">delete_users()</a>, <a class="el" href="chan__console_8c_source.html#l01359">destroy_pvts()</a>, <a class="el" href="func__dialgroup_8c_source.html#l00125">dialgroup_read()</a>, <a class="el" href="features_8c_source.html#l03189">do_parking_thread()</a>, <a class="el" href="app__queue_8c_source.html#l04356">dump_queue_members()</a>, <a class="el" href="app__queue_8c_source.html#l01696">find_queue_by_name_rt()</a>, <a class="el" href="app__queue_8c_source.html#l01641">free_members()</a>, <a class="el" href="app__queue_8c_source.html#l00951">get_member_status()</a>, <a class="el" href="chan__iax2_8c_source.html#l02374">handle_cli_iax2_show_callno_limits()</a>, <a class="el" href="chan__iax2_8c_source.html#l06250">handle_cli_iax2_show_users()</a>, <a class="el" href="res__musiconhold_8c_source.html#l01717">handle_cli_moh_show_classes()</a>, <a class="el" href="res__musiconhold_8c_source.html#l01679">handle_cli_moh_show_files()</a>, <a class="el" href="res__odbc_8c_source.html#l00871">handle_cli_odbc_show()</a>, <a class="el" href="features_8c_source.html#l04019">handle_feature_show()</a>, <a class="el" href="features_8c_source.html#l04276">handle_parkedcalls()</a>, <a class="el" href="chan__sip_8c_source.html#l21175">handle_request_subscribe()</a>, <a class="el" href="res__phoneprov_8c_source.html#l01193">handle_show_routes()</a>, <a class="el" href="app__queue_8c_source.html#l01046">handle_statechange()</a>, <a class="el" href="chan__iax2_8c_source.html#l01590">iax2_getpeername()</a>, <a class="el" href="chan__iax2_8c_source.html#l05393">iax2_getpeertrunk()</a>, <a class="el" href="app__queue_8c_source.html#l04330">interface_exists()</a>, <a class="el" href="chan__iax2_8c_source.html#l06668">manager_iax2_show_peer_list()</a>, <a class="el" href="features_8c_source.html#l04340">manager_parking_status()</a>, <a class="el" href="app__queue_8c_source.html#l06369">manager_queues_status()</a>, <a class="el" href="app__queue_8c_source.html#l06294">manager_queues_summary()</a>, <a class="el" href="app__queue_8c_source.html#l02328">num_available_members()</a>, <a class="el" href="chan__iax2_8c_source.html#l12935">poke_all_peers()</a>, <a class="el" href="res__phoneprov_8c_source.html#l01088">pp_each_user_exec()</a>, <a class="el" href="chan__iax2_8c_source.html#l12459">prune_peers()</a>, <a class="el" href="chan__iax2_8c_source.html#l12443">prune_users()</a>, <a class="el" href="app__queue_8c_source.html#l05365">queue_function_qac()</a>, <a class="el" href="app__queue_8c_source.html#l05421">queue_function_qac_dep()</a>, <a class="el" href="app__queue_8c_source.html#l05497">queue_function_queuememberlist()</a>, <a class="el" href="res__odbc_8c_source.html#l01604">reload()</a>, <a class="el" href="app__queue_8c_source.html#l01580">rt_handle_member_record()</a>, <a class="el" href="app__queue_8c_source.html#l04509">set_member_paused()</a>, <a class="el" href="app__queue_8c_source.html#l04586">set_member_penalty()</a>, <a class="el" href="chan__sip_8c_source.html#l25576">sip_poke_all_peers()</a>, <a class="el" href="chan__sip_8c_source.html#l15021">sip_prune_realtime()</a>, <a class="el" href="chan__sip_8c_source.html#l16415">sip_show_channel()</a>, <a class="el" href="chan__sip_8c_source.html#l16526">sip_show_history()</a>, <a class="el" href="chan__sip_8c_source.html#l14279">sip_show_inuse()</a>, <a class="el" href="chan__sip_8c_source.html#l14450">sip_show_tcp()</a>, <a class="el" href="chan__sip_8c_source.html#l14488">sip_show_users()</a>, <a class="el" href="chan__console_8c_source.html#l01438">stop_streams()</a>, <a class="el" href="taskprocessor_8c_source.html#l00156">tps_taskprocessor_tab_complete()</a>, <a class="el" href="app__queue_8c_source.html#l03569">try_calling()</a>, <a class="el" href="app__queue_8c_source.html#l07170">unload_module()</a>, <a class="el" href="app__queue_8c_source.html#l03271">update_queue()</a>, and <a class="el" href="app__queue_8c_source.html#l01906">update_realtime_members()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00781"></a>00781 {
<a name="l00782"></a>00782    <span class="keyword">struct </span><a class="code" href="structao2__iterator.html" title="When we need to walk through a container, we use an ao2_iterator to keep track of...">ao2_iterator</a> a = {
<a name="l00783"></a>00783       .c = c,
<a name="l00784"></a>00784       .flags = <a class="code" href="structao2__iterator.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a>
<a name="l00785"></a>00785    };
<a name="l00786"></a>00786 
<a name="l00787"></a>00787    <a class="code" href="astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(c, +1);
<a name="l00788"></a>00788    
<a name="l00789"></a>00789    <span class="keywordflow">return</span> a;
<a name="l00790"></a>00790 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3077056d07f6f9e348a54a743769bad5"></a><!-- doxytag: member="astobj2.h::ao2_lock" ref="a3077056d07f6f9e348a54a743769bad5" args="(void *a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ao2_lock </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>a</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Lock an object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>a</em>&nbsp;</td><td>A pointer to the object we want to lock. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, other <a class="el" href="structvalues.html">values</a> on error. </dd></dl>

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00147">147</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="lock_8h_source.html#l01964">ast_atomic_fetchadd_int()</a>, <a class="el" href="lock_8h_source.html#l01717">ast_mutex_lock()</a>, <a class="el" href="astobj2_8c_source.html#l00105">INTERNAL_OBJ()</a>, <a class="el" href="astobj2_8c_source.html#l00041">__priv_data::lock</a>, and <a class="el" href="astobj2_8c_source.html#l00058">astobj2::priv_data</a>.</p>

<p>Referenced by <a class="el" href="astobj2_8c_source.html#l00603">__ao2_callback()</a>, <a class="el" href="astobj2_8c_source.html#l00804">__ao2_iterator_next()</a>, <a class="el" href="astobj2_8c_source.html#l00494">__ao2_link()</a>, <a class="el" href="app__queue_8c_source.html#l06083">__queues_show()</a>, <a class="el" href="chan__sip_8c_source.html#l14666">_sip_show_peers()</a>, <a class="el" href="chan__sip_8c_source.html#l02910">_sip_tcp_helper_thread()</a>, <a class="el" href="chan__iax2_8c_source.html#l02333">add_calltoken_ignore()</a>, <a class="el" href="app__queue_8c_source.html#l04455">add_to_queue()</a>, <a class="el" href="bridging_8c_source.html#l01064">ast_bridge_depart()</a>, <a class="el" href="bridging_8c_source.html#l00514">ast_bridge_destroy()</a>, <a class="el" href="bridging_8c_source.html#l01332">ast_bridge_dtmf_stream()</a>, <a class="el" href="bridging_8c_source.html#l01106">ast_bridge_merge()</a>, <a class="el" href="bridging_8c_source.html#l01087">ast_bridge_remove()</a>, <a class="el" href="bridging_8c_source.html#l01187">ast_bridge_suspend()</a>, <a class="el" href="bridging_8c_source.html#l01205">ast_bridge_unsuspend()</a>, <a class="el" href="indications_8c_source.html#l00452">ast_get_indication_tone()</a>, <a class="el" href="indications_8c_source.html#l00430">ast_get_indication_zone()</a>, <a class="el" href="indications_8c_source.html#l00520">ast_register_indication_country()</a>, <a class="el" href="indications_8c_source.html#l00406">ast_set_indication_country()</a>, <a class="el" href="taskprocessor_8c_source.html#l00407">ast_taskprocessor_get()</a>, <a class="el" href="taskprocessor_8c_source.html#l00468">ast_taskprocessor_unreference()</a>, <a class="el" href="indications_8c_source.html#l00536">ast_unregister_indication_country()</a>, <a class="el" href="bridge__builtin__features_8c_source.html#l00131">attended_abort_transfer()</a>, <a class="el" href="bridging_8c_source.html#l00860">bridge_channel_join()</a>, <a class="el" href="bridging_8c_source.html#l00698">bridge_channel_join_multithreaded()</a>, <a class="el" href="bridging_8c_source.html#l00735">bridge_channel_join_singlethreaded()</a>, <a class="el" href="bridging_8c_source.html#l00353">bridge_thread()</a>, <a class="el" href="chan__iax2_8c_source.html#l02278">build_callno_limits()</a>, <a class="el" href="features_8c_source.html#l03554">build_parkinglot()</a>, <a class="el" href="app__queue_8c_source.html#l06024">clear_stats()</a>, <a class="el" href="app__queue_8c_source.html#l02371">compare_weight()</a>, <a class="el" href="app__queue_8c_source.html#l06773">complete_queue_remove_member()</a>, <a class="el" href="chan__sip_8c_source.html#l15594">complete_sip_user()</a>, <a class="el" href="app__queue_8c_source.html#l03527">end_bridge_callback()</a>, <a class="el" href="chan__sip_8c_source.html#l07348">find_call()</a>, <a class="el" href="app__queue_8c_source.html#l01696">find_queue_by_name_rt()</a>, <a class="el" href="bridging_8c_source.html#l00325">generic_thread_loop()</a>, <a class="el" href="app__queue_8c_source.html#l04635">get_member_penalty()</a>, <a class="el" href="app__queue_8c_source.html#l00951">get_member_status()</a>, <a class="el" href="chan__iax2_8c_source.html#l02421">get_unused_callno()</a>, <a class="el" href="chan__sip_8c_source.html#l21175">handle_request_subscribe()</a>, <a class="el" href="app__queue_8c_source.html#l01046">handle_statechange()</a>, <a class="el" href="app__voicemail_8c_source.html#l00855">inprocess_count()</a>, <a class="el" href="app__queue_8c_source.html#l03120">is_our_turn()</a>, <a class="el" href="app__confbridge_8c_source.html#l00394">join_conference_bridge()</a>, <a class="el" href="app__queue_8c_source.html#l01956">join_queue()</a>, <a class="el" href="app__confbridge_8c_source.html#l00485">leave_conference_bridge()</a>, <a class="el" href="app__queue_8c_source.html#l02243">leave_queue()</a>, <a class="el" href="features_8c_source.html#l03672">load_config()</a>, <a class="el" href="indications_8c_source.html#l01030">load_indications()</a>, <a class="el" href="app__queue_8c_source.html#l01830">load_realtime_queue()</a>, <a class="el" href="app__queue_8c_source.html#l06369">manager_queues_status()</a>, <a class="el" href="app__queue_8c_source.html#l06294">manager_queues_summary()</a>, <a class="el" href="app__confbridge_8c_source.html#l00607">menu_callback()</a>, <a class="el" href="res__musiconhold_8c_source.html#l00830">moh_release()</a>, <a class="el" href="res__musiconhold_8c_source.html#l00797">mohalloc()</a>, <a class="el" href="res__musiconhold_8c_source.html#l00563">monmp3thread()</a>, <a class="el" href="bridge__multiplexed_8c_source.html#l00248">multiplexed_add_or_remove()</a>, <a class="el" href="bridge__multiplexed_8c_source.html#l00094">multiplexed_bridge_create()</a>, <a class="el" href="bridge__multiplexed_8c_source.html#l00177">multiplexed_bridge_destroy()</a>, <a class="el" href="bridge__multiplexed_8c_source.html#l00200">multiplexed_thread_function()</a>, <a class="el" href="chan__sip_8c_source.html#l12769">mwi_event_cb()</a>, <a class="el" href="chan__iax2_8c_source.html#l02169">peercnt_add()</a>, <a class="el" href="chan__iax2_8c_source.html#l02221">peercnt_remove()</a>, <a class="el" href="app__confbridge_8c_source.html#l00238">play_prompt_to_channel()</a>, <a class="el" href="app__confbridge_8c_source.html#l00253">post_join_marked()</a>, <a class="el" href="app__confbridge_8c_source.html#l00320">post_join_unmarked()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00188">pthread_timer_ack()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00226">pthread_timer_disable_continuous()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00205">pthread_timer_enable_continuous()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00247">pthread_timer_get_event()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00107">pthread_timer_open()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00152">pthread_timer_set_rate()</a>, <a class="el" href="app__queue_8c_source.html#l05365">queue_function_qac()</a>, <a class="el" href="app__queue_8c_source.html#l05421">queue_function_qac_dep()</a>, <a class="el" href="app__queue_8c_source.html#l05497">queue_function_queuememberlist()</a>, <a class="el" href="app__queue_8c_source.html#l05461">queue_function_queuewaitingcount()</a>, <a class="el" href="app__queue_8c_source.html#l05317">queue_function_var()</a>, <a class="el" href="app__queue_8c_source.html#l02224">recalc_holdtime()</a>, <a class="el" href="app__queue_8c_source.html#l02784">record_abandoned()</a>, <a class="el" href="app__queue_8c_source.html#l04667">reload_queue_members()</a>, <a class="el" href="app__queue_8c_source.html#l05964">reload_queues()</a>, <a class="el" href="app__queue_8c_source.html#l05834">reload_single_queue()</a>, <a class="el" href="app__queue_8c_source.html#l04403">remove_from_queue()</a>, <a class="el" href="chan__iax2_8c_source.html#l02458">replace_callno()</a>, <a class="el" href="app__queue_8c_source.html#l02467">ring_entry()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00432">run_timer()</a>, <a class="el" href="app__queue_8c_source.html#l04509">set_member_paused()</a>, <a class="el" href="app__queue_8c_source.html#l04586">set_member_penalty()</a>, <a class="el" href="chan__sip_8c_source.html#l25576">sip_poke_all_peers()</a>, <a class="el" href="chan__sip_8c_source.html#l15021">sip_prune_realtime()</a>, <a class="el" href="chan__sip_8c_source.html#l14279">sip_show_inuse()</a>, <a class="el" href="chan__sip_8c_source.html#l15630">sip_show_user()</a>, <a class="el" href="chan__sip_8c_source.html#l14488">sip_show_users()</a>, <a class="el" href="chan__sip_8c_source.html#l02842">sip_tcptls_write()</a>, <a class="el" href="bridge__softmix_8c_source.html#l00211">softmix_bridge_thread()</a>, <a class="el" href="app__queue_8c_source.html#l03569">try_calling()</a>, <a class="el" href="chan__sip_8c_source.html#l05634">update_call_counter()</a>, <a class="el" href="app__queue_8c_source.html#l03271">update_queue()</a>, and <a class="el" href="app__queue_8c_source.html#l01906">update_realtime_members()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00151"></a>00151 {
<a name="l00152"></a>00152    <span class="keyword">struct </span><a class="code" href="structastobj2.html">astobj2</a> *p = <a class="code" href="astobj2_8c.html#a2b7e81d19a8c47d3ac54fbfa57a72d73" title="convert from a pointer _p to a user-defined object">INTERNAL_OBJ</a>(<a class="code" href="structastobj2.html#acbf942163aac2ac896c79b9206f3186d">user_data</a>);
<a name="l00153"></a>00153 
<a name="l00154"></a>00154    <span class="keywordflow">if</span> (p == NULL)
<a name="l00155"></a>00155       <span class="keywordflow">return</span> -1;
<a name="l00156"></a>00156 
<a name="l00157"></a>00157 <span class="preprocessor">#ifdef AO2_DEBUG</span>
<a name="l00158"></a>00158 <span class="preprocessor"></span>   <a class="code" href="lock_8h.html#a30df186a6f53f66621e88fae2e7adaf9" title="Atomically add v to *p and return * the previous value of *p. This can be used to...">ast_atomic_fetchadd_int</a>(&amp;ao2.total_locked, 1);
<a name="l00159"></a>00159 <span class="preprocessor">#endif</span>
<a name="l00160"></a>00160 <span class="preprocessor"></span>
<a name="l00161"></a>00161 <span class="preprocessor">#ifndef DEBUG_THREADS</span>
<a name="l00162"></a>00162 <span class="preprocessor"></span>   <span class="keywordflow">return</span> <a class="code" href="lock_8h.html#ad941566de4050aa7358493af94d2ba4d">ast_mutex_lock</a>(&amp;p-&gt;<a class="code" href="structastobj2.html#a7ff59707b93fb7bbf2f89fc2c48c121b">priv_data</a>.<a class="code" href="struct____priv__data.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);
<a name="l00163"></a>00163 <span class="preprocessor">#else</span>
<a name="l00164"></a>00164 <span class="preprocessor"></span>   <span class="keywordflow">return</span> __ast_pthread_mutex_lock(file, line, func, <a class="code" href="ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, &amp;p-&gt;<a class="code" href="structastobj2.html#a7ff59707b93fb7bbf2f89fc2c48c121b">priv_data</a>.<a class="code" href="struct____priv__data.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);
<a name="l00165"></a>00165 <span class="preprocessor">#endif</span>
<a name="l00166"></a>00166 <span class="preprocessor"></span>}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a503b6c7ced96f9b56ec59c115cbeb29a"></a><!-- doxytag: member="astobj2.h::ao2_object_get_lockaddr" ref="a503b6c7ced96f9b56ec59c115cbeb29a" args="(void *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ao2_object_get_lockaddr </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the lock address of an object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>obj</em>&nbsp;</td><td>A pointer to the object we want. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the address of the lock, else NULL.</dd></dl>
<p>This function comes in handy mainly for debugging locking situations, where the locking trace code reports the lock address, this allows you to correlate against object address, to match objects to reported locks.</p>
<dl class="since"><dt><b>Since:</b></dt><dd>1.6.1 </dd></dl>

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00214">214</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="astobj2_8c_source.html#l00105">INTERNAL_OBJ()</a>, <a class="el" href="astobj2_8c_source.html#l00041">__priv_data::lock</a>, and <a class="el" href="astobj2_8c_source.html#l00058">astobj2::priv_data</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00215"></a>00215 {
<a name="l00216"></a>00216    <span class="keyword">struct </span><a class="code" href="structastobj2.html">astobj2</a> *p = <a class="code" href="astobj2_8c.html#a2b7e81d19a8c47d3ac54fbfa57a72d73" title="convert from a pointer _p to a user-defined object">INTERNAL_OBJ</a>(obj);
<a name="l00217"></a>00217    
<a name="l00218"></a>00218    <span class="keywordflow">if</span> (p == NULL)
<a name="l00219"></a>00219       <span class="keywordflow">return</span> NULL;
<a name="l00220"></a>00220 
<a name="l00221"></a>00221    <span class="keywordflow">return</span> &amp;p-&gt;<a class="code" href="structastobj2.html#a7ff59707b93fb7bbf2f89fc2c48c121b">priv_data</a>.<a class="code" href="struct____priv__data.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>;
<a name="l00222"></a>00222 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a54c54e4aa6dd4a45f2445f67b3ed6e83"></a><!-- doxytag: member="astobj2.h::ao2_trylock" ref="a54c54e4aa6dd4a45f2445f67b3ed6e83" args="(void *a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ao2_trylock </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>a</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Try locking-- (don't block if fail). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>a</em>&nbsp;</td><td>A pointer to the object we want to lock. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, other <a class="el" href="structvalues.html">values</a> on error. </dd></dl>

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00191">191</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="lock_8h_source.html#l01964">ast_atomic_fetchadd_int()</a>, <a class="el" href="lock_8h_source.html#l01722">ast_mutex_trylock()</a>, <a class="el" href="astobj2_8c_source.html#l00105">INTERNAL_OBJ()</a>, <a class="el" href="astobj2_8c_source.html#l00041">__priv_data::lock</a>, and <a class="el" href="astobj2_8c_source.html#l00058">astobj2::priv_data</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00195"></a>00195 {
<a name="l00196"></a>00196    <span class="keyword">struct </span><a class="code" href="structastobj2.html">astobj2</a> *p = <a class="code" href="astobj2_8c.html#a2b7e81d19a8c47d3ac54fbfa57a72d73" title="convert from a pointer _p to a user-defined object">INTERNAL_OBJ</a>(<a class="code" href="structastobj2.html#acbf942163aac2ac896c79b9206f3186d">user_data</a>);
<a name="l00197"></a>00197    <span class="keywordtype">int</span> ret;
<a name="l00198"></a>00198    
<a name="l00199"></a>00199    <span class="keywordflow">if</span> (p == NULL)
<a name="l00200"></a>00200       <span class="keywordflow">return</span> -1;
<a name="l00201"></a>00201 <span class="preprocessor">#ifndef DEBUG_THREADS</span>
<a name="l00202"></a>00202 <span class="preprocessor"></span>   ret = <a class="code" href="lock_8h.html#a036ccafa2339f674a46bc269bbd48c5f">ast_mutex_trylock</a>(&amp;p-&gt;<a class="code" href="structastobj2.html#a7ff59707b93fb7bbf2f89fc2c48c121b">priv_data</a>.<a class="code" href="struct____priv__data.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);
<a name="l00203"></a>00203 <span class="preprocessor">#else</span>
<a name="l00204"></a>00204 <span class="preprocessor"></span>   ret = __ast_pthread_mutex_trylock(file, line, func, <a class="code" href="ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, &amp;p-&gt;<a class="code" href="structastobj2.html#a7ff59707b93fb7bbf2f89fc2c48c121b">priv_data</a>.<a class="code" href="struct____priv__data.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);
<a name="l00205"></a>00205 <span class="preprocessor">#endif</span>
<a name="l00206"></a>00206 <span class="preprocessor"></span>
<a name="l00207"></a>00207 <span class="preprocessor">#ifdef AO2_DEBUG</span>
<a name="l00208"></a>00208 <span class="preprocessor"></span>   <span class="keywordflow">if</span> (!ret)
<a name="l00209"></a>00209       <a class="code" href="lock_8h.html#a30df186a6f53f66621e88fae2e7adaf9" title="Atomically add v to *p and return * the previous value of *p. This can be used to...">ast_atomic_fetchadd_int</a>(&amp;ao2.total_locked, 1);
<a name="l00210"></a>00210 <span class="preprocessor">#endif</span>
<a name="l00211"></a>00211 <span class="preprocessor"></span>   <span class="keywordflow">return</span> ret;
<a name="l00212"></a>00212 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a379cc936a320f2179f7beb422dc15230"></a><!-- doxytag: member="astobj2.h::ao2_unlock" ref="a379cc936a320f2179f7beb422dc15230" args="(void *a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ao2_unlock </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>a</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Unlock an object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>a</em>&nbsp;</td><td>A pointer to the object we want unlock. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, other <a class="el" href="structvalues.html">values</a> on error. </dd></dl>

<p>Definition at line <a class="el" href="astobj2_8c_source.html#l00169">169</a> of file <a class="el" href="astobj2_8c_source.html">astobj2.c</a>.</p>

<p>References <a class="el" href="lock_8h_source.html#l01964">ast_atomic_fetchadd_int()</a>, <a class="el" href="lock_8h_source.html#l01707">ast_mutex_unlock()</a>, <a class="el" href="astobj2_8c_source.html#l00105">INTERNAL_OBJ()</a>, <a class="el" href="astobj2_8c_source.html#l00041">__priv_data::lock</a>, and <a class="el" href="astobj2_8c_source.html#l00058">astobj2::priv_data</a>.</p>

<p>Referenced by <a class="el" href="astobj2_8c_source.html#l00603">__ao2_callback()</a>, <a class="el" href="app__queue_8c_source.html#l06083">__queues_show()</a>, <a class="el" href="astobj2_8c_source.html#l00877">_ao2_iterator_next()</a>, <a class="el" href="astobj2_8c_source.html#l00859">_ao2_iterator_next_debug()</a>, <a class="el" href="astobj2_8c_source.html#l00535">_ao2_link()</a>, <a class="el" href="astobj2_8c_source.html#l00524">_ao2_link_debug()</a>, <a class="el" href="chan__sip_8c_source.html#l14666">_sip_show_peers()</a>, <a class="el" href="chan__sip_8c_source.html#l02910">_sip_tcp_helper_thread()</a>, <a class="el" href="chan__iax2_8c_source.html#l02333">add_calltoken_ignore()</a>, <a class="el" href="app__queue_8c_source.html#l04455">add_to_queue()</a>, <a class="el" href="bridging_8c_source.html#l01064">ast_bridge_depart()</a>, <a class="el" href="bridging_8c_source.html#l00514">ast_bridge_destroy()</a>, <a class="el" href="bridging_8c_source.html#l01332">ast_bridge_dtmf_stream()</a>, <a class="el" href="bridging_8c_source.html#l01106">ast_bridge_merge()</a>, <a class="el" href="bridging_8c_source.html#l01087">ast_bridge_remove()</a>, <a class="el" href="bridging_8c_source.html#l01187">ast_bridge_suspend()</a>, <a class="el" href="bridging_8c_source.html#l01205">ast_bridge_unsuspend()</a>, <a class="el" href="indications_8c_source.html#l00452">ast_get_indication_tone()</a>, <a class="el" href="indications_8c_source.html#l00430">ast_get_indication_zone()</a>, <a class="el" href="indications_8c_source.html#l00520">ast_register_indication_country()</a>, <a class="el" href="indications_8c_source.html#l00406">ast_set_indication_country()</a>, <a class="el" href="taskprocessor_8c_source.html#l00407">ast_taskprocessor_get()</a>, <a class="el" href="taskprocessor_8c_source.html#l00468">ast_taskprocessor_unreference()</a>, <a class="el" href="indications_8c_source.html#l00536">ast_unregister_indication_country()</a>, <a class="el" href="bridge__builtin__features_8c_source.html#l00131">attended_abort_transfer()</a>, <a class="el" href="bridging_8c_source.html#l00860">bridge_channel_join()</a>, <a class="el" href="bridging_8c_source.html#l00698">bridge_channel_join_multithreaded()</a>, <a class="el" href="bridging_8c_source.html#l00735">bridge_channel_join_singlethreaded()</a>, <a class="el" href="bridging_8c_source.html#l00353">bridge_thread()</a>, <a class="el" href="chan__iax2_8c_source.html#l02278">build_callno_limits()</a>, <a class="el" href="features_8c_source.html#l03554">build_parkinglot()</a>, <a class="el" href="app__queue_8c_source.html#l06024">clear_stats()</a>, <a class="el" href="app__queue_8c_source.html#l02371">compare_weight()</a>, <a class="el" href="app__queue_8c_source.html#l06773">complete_queue_remove_member()</a>, <a class="el" href="chan__sip_8c_source.html#l15594">complete_sip_user()</a>, <a class="el" href="app__queue_8c_source.html#l03527">end_bridge_callback()</a>, <a class="el" href="chan__sip_8c_source.html#l07348">find_call()</a>, <a class="el" href="app__queue_8c_source.html#l01696">find_queue_by_name_rt()</a>, <a class="el" href="bridging_8c_source.html#l00325">generic_thread_loop()</a>, <a class="el" href="app__queue_8c_source.html#l04635">get_member_penalty()</a>, <a class="el" href="app__queue_8c_source.html#l00951">get_member_status()</a>, <a class="el" href="chan__iax2_8c_source.html#l02421">get_unused_callno()</a>, <a class="el" href="chan__sip_8c_source.html#l21175">handle_request_subscribe()</a>, <a class="el" href="app__queue_8c_source.html#l01046">handle_statechange()</a>, <a class="el" href="app__voicemail_8c_source.html#l00855">inprocess_count()</a>, <a class="el" href="app__queue_8c_source.html#l03120">is_our_turn()</a>, <a class="el" href="app__confbridge_8c_source.html#l00394">join_conference_bridge()</a>, <a class="el" href="app__queue_8c_source.html#l01956">join_queue()</a>, <a class="el" href="app__confbridge_8c_source.html#l00485">leave_conference_bridge()</a>, <a class="el" href="app__queue_8c_source.html#l02243">leave_queue()</a>, <a class="el" href="features_8c_source.html#l03672">load_config()</a>, <a class="el" href="indications_8c_source.html#l01030">load_indications()</a>, <a class="el" href="app__queue_8c_source.html#l01830">load_realtime_queue()</a>, <a class="el" href="app__queue_8c_source.html#l06369">manager_queues_status()</a>, <a class="el" href="app__queue_8c_source.html#l06294">manager_queues_summary()</a>, <a class="el" href="app__confbridge_8c_source.html#l00607">menu_callback()</a>, <a class="el" href="res__musiconhold_8c_source.html#l00830">moh_release()</a>, <a class="el" href="res__musiconhold_8c_source.html#l00797">mohalloc()</a>, <a class="el" href="res__musiconhold_8c_source.html#l00563">monmp3thread()</a>, <a class="el" href="bridge__multiplexed_8c_source.html#l00248">multiplexed_add_or_remove()</a>, <a class="el" href="bridge__multiplexed_8c_source.html#l00094">multiplexed_bridge_create()</a>, <a class="el" href="bridge__multiplexed_8c_source.html#l00177">multiplexed_bridge_destroy()</a>, <a class="el" href="bridge__multiplexed_8c_source.html#l00200">multiplexed_thread_function()</a>, <a class="el" href="chan__sip_8c_source.html#l12769">mwi_event_cb()</a>, <a class="el" href="chan__iax2_8c_source.html#l02169">peercnt_add()</a>, <a class="el" href="chan__iax2_8c_source.html#l02221">peercnt_remove()</a>, <a class="el" href="app__confbridge_8c_source.html#l00238">play_prompt_to_channel()</a>, <a class="el" href="app__confbridge_8c_source.html#l00253">post_join_marked()</a>, <a class="el" href="app__confbridge_8c_source.html#l00320">post_join_unmarked()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00188">pthread_timer_ack()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00226">pthread_timer_disable_continuous()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00205">pthread_timer_enable_continuous()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00247">pthread_timer_get_event()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00107">pthread_timer_open()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00152">pthread_timer_set_rate()</a>, <a class="el" href="app__queue_8c_source.html#l05365">queue_function_qac()</a>, <a class="el" href="app__queue_8c_source.html#l05421">queue_function_qac_dep()</a>, <a class="el" href="app__queue_8c_source.html#l05497">queue_function_queuememberlist()</a>, <a class="el" href="app__queue_8c_source.html#l05461">queue_function_queuewaitingcount()</a>, <a class="el" href="app__queue_8c_source.html#l05317">queue_function_var()</a>, <a class="el" href="app__queue_8c_source.html#l02224">recalc_holdtime()</a>, <a class="el" href="app__queue_8c_source.html#l02784">record_abandoned()</a>, <a class="el" href="app__queue_8c_source.html#l04667">reload_queue_members()</a>, <a class="el" href="app__queue_8c_source.html#l05964">reload_queues()</a>, <a class="el" href="app__queue_8c_source.html#l05834">reload_single_queue()</a>, <a class="el" href="app__queue_8c_source.html#l04403">remove_from_queue()</a>, <a class="el" href="chan__iax2_8c_source.html#l02458">replace_callno()</a>, <a class="el" href="app__queue_8c_source.html#l02467">ring_entry()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00432">run_timer()</a>, <a class="el" href="app__queue_8c_source.html#l04509">set_member_paused()</a>, <a class="el" href="app__queue_8c_source.html#l04586">set_member_penalty()</a>, <a class="el" href="chan__sip_8c_source.html#l25576">sip_poke_all_peers()</a>, <a class="el" href="chan__sip_8c_source.html#l15021">sip_prune_realtime()</a>, <a class="el" href="chan__sip_8c_source.html#l14279">sip_show_inuse()</a>, <a class="el" href="chan__sip_8c_source.html#l15630">sip_show_user()</a>, <a class="el" href="chan__sip_8c_source.html#l14488">sip_show_users()</a>, <a class="el" href="chan__sip_8c_source.html#l02842">sip_tcptls_write()</a>, <a class="el" href="bridge__softmix_8c_source.html#l00211">softmix_bridge_thread()</a>, <a class="el" href="app__queue_8c_source.html#l03569">try_calling()</a>, <a class="el" href="chan__sip_8c_source.html#l05634">update_call_counter()</a>, <a class="el" href="app__queue_8c_source.html#l03271">update_queue()</a>, and <a class="el" href="app__queue_8c_source.html#l01906">update_realtime_members()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00173"></a>00173 {
<a name="l00174"></a>00174    <span class="keyword">struct </span><a class="code" href="structastobj2.html">astobj2</a> *p = <a class="code" href="astobj2_8c.html#a2b7e81d19a8c47d3ac54fbfa57a72d73" title="convert from a pointer _p to a user-defined object">INTERNAL_OBJ</a>(<a class="code" href="structastobj2.html#acbf942163aac2ac896c79b9206f3186d">user_data</a>);
<a name="l00175"></a>00175 
<a name="l00176"></a>00176    <span class="keywordflow">if</span> (p == NULL)
<a name="l00177"></a>00177       <span class="keywordflow">return</span> -1;
<a name="l00178"></a>00178 
<a name="l00179"></a>00179 <span class="preprocessor">#ifdef AO2_DEBUG</span>
<a name="l00180"></a>00180 <span class="preprocessor"></span>   <a class="code" href="lock_8h.html#a30df186a6f53f66621e88fae2e7adaf9" title="Atomically add v to *p and return * the previous value of *p. This can be used to...">ast_atomic_fetchadd_int</a>(&amp;ao2.total_locked, -1);
<a name="l00181"></a>00181 <span class="preprocessor">#endif</span>
<a name="l00182"></a>00182 <span class="preprocessor"></span>
<a name="l00183"></a>00183 <span class="preprocessor">#ifndef DEBUG_THREADS</span>
<a name="l00184"></a>00184 <span class="preprocessor"></span>   <span class="keywordflow">return</span> <a class="code" href="lock_8h.html#aa9b39f0e22f44a7e7f587d4252e41a0b">ast_mutex_unlock</a>(&amp;p-&gt;<a class="code" href="structastobj2.html#a7ff59707b93fb7bbf2f89fc2c48c121b">priv_data</a>.<a class="code" href="struct____priv__data.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);
<a name="l00185"></a>00185 <span class="preprocessor">#else</span>
<a name="l00186"></a>00186 <span class="preprocessor"></span>   <span class="keywordflow">return</span> __ast_pthread_mutex_unlock(file, line, func, <a class="code" href="ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, &amp;p-&gt;<a class="code" href="structastobj2.html#a7ff59707b93fb7bbf2f89fc2c48c121b">priv_data</a>.<a class="code" href="struct____priv__data.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);
<a name="l00187"></a>00187 <span class="preprocessor">#endif</span>
<a name="l00188"></a>00188 <span class="preprocessor"></span>}
</pre></div></p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ad3cdef7b57f55d9f43407ab7c15c3422"></a><!-- doxytag: member="astobj2.h::ao2_match_by_addr" ref="ad3cdef7b57f55d9f43407ab7c15c3422" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="astobj2_8h.html#a4de0d949b2c7e11310c21ad64a83cf72">ao2_callback_fn</a> ao2_match_by_addr</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>a very common callback is one that matches by address. </p>

<p>Definition at line <a class="el" href="astobj2_8h_source.html#l00646">646</a> of file <a class="el" href="astobj2_8h_source.html">astobj2.h</a>.</p>

<p>Referenced by <a class="el" href="astobj2_8c_source.html#l00569">_ao2_unlink()</a>, <a class="el" href="astobj2_8c_source.html#l00558">_ao2_unlink_debug()</a>, <a class="el" href="res__odbc_8c_source.html#l01684">load_module()</a>, and <a class="el" href="res__odbc_8c_source.html#l00730">load_odbc_config()</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed May 5 15:19:39 2010 for Asterisk - the Open Source PBX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
