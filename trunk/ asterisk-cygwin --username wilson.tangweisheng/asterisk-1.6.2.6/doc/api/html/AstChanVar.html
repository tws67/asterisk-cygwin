<HTML>
    <HEAD>
      <TITLE>Asterisk.org: Developer Documentation (5 May 2010)</TITLE>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<div><font size="2" align="right">Wed May 5 15:23:36 2010</font></div>

<h2>Asterisk developer's documentation</h2>
<hr/>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="AstChanVar">Asterisk Dialplan Variables </a></h1><p>Asterisk Dialplan variables are divided into three <a class="el" href="structgroups.html">groups</a>:</p>
<ul>
<li>Predefined global variables, handled by the PBX core</li>
<li>Global variables, that exist for the duration of the pbx execution</li>
<li>Channel variables, that exist during a channel</li>
</ul>
<p>Global variables are reachable in all <a class="el" href="structchannels.html" title="the list of channels we have. Note that the lock for this list is used for both the...">channels</a>, all of the time. Channel variables are only reachable within the channel.</p>
<p>For more information on the predefined variables, see <a class="el" href="AstVar.html">Globally predefined channel variables</a></p>
<p>Global and Channel variables:</p>
<ul>
<li>Names are Case insensitive</li>
<li>Names that start with a character, but are alphanumeric</li>
<li>Global variables are defined and reached with the GLOBAL() dialplan function and the set application, like</li>
</ul>
<p>exten =&gt; 1234,1,set(GLOBAL(myvariable)=tomteluva)</p>
<ul>
<li><a class="el" href="func__global_8c.html">func_global.c</a></li>
</ul>
<ul>
<li>Channel variables are defined with the <a class="el" href="func__logic_8c.html#a867815a5c8c20dd78c8a14baf645414a">set()</a> dialplan application</li>
</ul>
<p>exten =&gt; 1234,1,set(xmasattribute=tomtegr√∂t)</p>
<ul>
<li>Some <a class="el" href="structchannels.html" title="the list of channels we have. Note that the lock for this list is used for both the...">channels</a> also supports setting channel variables with the <b>setvar=</b> configuraiton option for a device or line.</li>
</ul>
<h2><a class="anchor" id="AstChanVar_globalvars">
Global Variables</a></h2>
<p>Global variables can also be set in the [globals] section of extensions.conf. The setting <b>clearglobalvars</b> in extensions.conf [general] section affects whether or not the global variables defined in <b>globals</b> are reset at dialplan reload.</p>
<p>There are CLI commands to change and read global variables. This can be handy to reset counters at midnight from an external script.</p>
<h2><a class="anchor" id="AstChanVar_devnotes">
Developer notes</a></h2>
<p>Variable handling is managed within <a class="el" href="pbx_8c.html">pbx.c</a> You need to include <a class="el" href="pbx_8h.html" title="Core PBX routines and definitions.">pbx.h</a> to reach these functions.</p>
<ul>
<li><a class="el" href="pbx_8h.html#ac74f20f5a5f022a60fdf2db0dc84889c">pbx_builtin_setvar_helper()</a></li>
<li><a class="el" href="pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper()</a></li>
</ul>
<p>The variables is a linked list stored in the channel data structure with the list starting at varshead in struct <a class="el" href="structast__channel.html" title="Main Channel structure associated with a channel. This is the side of it mostly used...">ast_channel</a> </p>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed May 5 15:23:36 2010 for Asterisk - the Open Source PBX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
