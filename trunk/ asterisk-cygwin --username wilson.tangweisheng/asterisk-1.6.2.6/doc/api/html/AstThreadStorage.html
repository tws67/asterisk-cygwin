<HTML>
    <HEAD>
      <TITLE>Asterisk.org: Developer Documentation (5 May 2010)</TITLE>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<div><font size="2" align="right">Wed May 5 15:23:36 2010</font></div>

<h2>Asterisk developer's documentation</h2>
<hr/>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="AstThreadStorage">The Asterisk Thread Storage API </a></h1><p>The POSIX threads (pthreads) API provides the ability to define thread specific data. The functions and structures defined here are intended to centralize the code that is commonly used when using thread local storage.</p>
<p>The motivation for using this code in Asterisk is for situations where storing data on a thread-specific basis can provide some amount of performance benefit. For example, there are some call types in Asterisk where <a class="el" href="structast__frame.html" title="Data structure associated with a single frame of data.">ast_frame</a> structures must be allocated very rapidly (easily 50, 100, 200 times a second). Instead of doing the equivalent of that many calls to <a class="el" href="astmm_8h.html#ab8b25cd8f16d4a6552afe4e65c4f082d">malloc()</a> and <a class="el" href="astmm_8h.html#aa7157aa9480bb73f090dca36776419bf">free()</a> per second, thread local storage is used to keep a list of unused frame structures so that they can be continuously reused.</p>
<ul>
<li><a class="el" href="threadstorage_8h.html">threadstorage.h</a> </li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed May 5 15:23:36 2010 for Asterisk - the Open Source PBX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
