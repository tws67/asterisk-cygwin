<HTML>
    <HEAD>
      <TITLE>Asterisk.org: Developer Documentation (5 May 2010)</TITLE>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<div><font size="2" align="right">Wed May 5 15:22:54 2010</font></div>

<h2>Asterisk developer's documentation</h2>
<hr/>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_6ae6169cd48d88136f0d813c029ee18c.html">pbx</a>
  </div>
</div>
<div class="contents">
<h1>pbx_realtime.c File Reference</h1>
<p>Realtime PBX Module.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="asterisk_8h_source.html">asterisk.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="file_8h_source.html">asterisk/file.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="logger_8h_source.html">asterisk/logger.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="config_8h_source.html">asterisk/config.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="pbx_8h_source.html">asterisk/pbx.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="module_8h_source.html">asterisk/module.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="frame_8h_source.html">asterisk/frame.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="term_8h_source.html">asterisk/term.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="manager_8h_source.html">asterisk/manager.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cli_8h_source.html">asterisk/cli.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="lock_8h_source.html">asterisk/lock.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="md5_8h_source.html">asterisk/md5.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="linkedlists_8h_source.html">asterisk/linkedlists.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="chanvars_8h_source.html">asterisk/chanvars.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="sched_8h_source.html">asterisk/sched.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="io_8h_source.html">asterisk/io.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="utils_8h_source.html">asterisk/utils.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="crypto_8h_source.html">asterisk/crypto.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="astdb_8h_source.html">asterisk/astdb.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="app_8h_source.html">asterisk/app.h</a>&quot;</code><br/>

<p><a href="pbx__realtime_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbx__realtime_8c.html#ab07357218392804a25091a0a5d03d260">EXT_DATA_SIZE</a>&nbsp;&nbsp;&nbsp;256</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbx__realtime_8c.html#a76bc433a331fb4f7c5c3a59901315c4a">MODE_CANMATCH</a>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbx__realtime_8c.html#adc2bbd88393a1df057c454c4af33f3b8">MODE_MATCH</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbx__realtime_8c.html#a7f662961f17da7901510839aa135662c">MODE_MATCHMORE</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="pbx__realtime_8c.html#a2ed332df4696233768771e93d4081c3fa2bcb0a60351042a08df470ac8b1bb65c">OPTION_PATTERNS_DISABLED</a> =  (1 &lt;&lt; 0)
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbx__realtime_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbx__realtime_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbx__realtime_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbx__realtime_8c.html#aa5640599070ed9efdf89d41b602c2cc2">realtime_canmatch</a> (struct <a class="el" href="structast__channel.html">ast_channel</a> *<a class="el" href="adsistub_8c.html#a322af389d034b8f1282da0a853ffb921">chan</a>, const char *<a class="el" href="chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, int priority, const char *callerid, const char *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structast__variable.html">ast_variable</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbx__realtime_8c.html#ac53efdf412bfc23c66d3a6e876805aee">realtime_common</a> (const char *<a class="el" href="chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, int priority, const char *data, int mode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbx__realtime_8c.html#a4b94f44c69c115bf0c29641d02f0a342">realtime_exec</a> (struct <a class="el" href="structast__channel.html">ast_channel</a> *<a class="el" href="adsistub_8c.html#a322af389d034b8f1282da0a853ffb921">chan</a>, const char *<a class="el" href="chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, int priority, const char *callerid, const char *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbx__realtime_8c.html#ac2cb7f8f59abda183a9149be34bfc812">realtime_exists</a> (struct <a class="el" href="structast__channel.html">ast_channel</a> *<a class="el" href="adsistub_8c.html#a322af389d034b8f1282da0a853ffb921">chan</a>, const char *<a class="el" href="chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, int priority, const char *callerid, const char *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbx__realtime_8c.html#ac56d2f2560760483e97bde41fabe896e">realtime_matchmore</a> (struct <a class="el" href="structast__channel.html">ast_channel</a> *<a class="el" href="adsistub_8c.html#a322af389d034b8f1282da0a853ffb921">chan</a>, const char *<a class="el" href="chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, int priority, const char *callerid, const char *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structast__variable.html">ast_variable</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbx__realtime_8c.html#aafcd809aaef83fe34cd72093295ba346">realtime_switch_common</a> (const char *<a class="el" href="cdr__sqlite3__custom_8c.html#aa334abe35e252ebf7a2c7c29572bc60f">table</a>, const char *<a class="el" href="chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, int priority, int mode, struct <a class="el" href="structast__flags.html">ast_flags</a> flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbx__realtime_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structast__module__info.html">ast_module_info</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbx__realtime_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="channel_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = AST_MODULE, .flags = AST_MODFLAG_DEFAULT , .<a class="el" href="callerid_8c.html#a68344fa88cf4e86b5079fd69a5c22d57">description</a> = &quot;Realtime Switch&quot; , .key = &quot;This paragraph is copyright (c) 2006 by Digium, Inc. \In order for your module to load, it must return this \key via a function called \&quot;key\&quot;. Any code which \includes this paragraph must be licensed under the GNU \General Public License <a class="el" href="res__config__pgsql_8c.html#aad880fc4455c253781e8968f2239d56f">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;aefddfaffd51bc118c14a748e96eb9a0&quot; , .load = load_module, .unload = unload_module, }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structast__module__info.html">ast_module_info</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbx__realtime_8c.html#ae25b9f3970870610911f8850897e8ead">ast_module_info</a> = &amp;<a class="el" href="res__timing__timerfd_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum  { ... } &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbx__realtime_8c.html#ad60f14a85401d692f32e9319d27b2f19">option_flags</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structast__switch.html">ast_switch</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbx__realtime_8c.html#a657bc6d3113891210e99922a9906ece8">realtime_switch</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structast__app__option.html">ast_app_option</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbx__realtime_8c.html#a4b0fc5822deb28664e3b5af206285586">switch_opts</a> [128] = { [ 'p' ] = { .flag = OPTION_PATTERNS_DISABLED },}</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Realtime PBX Module. </p>
<ul>
<li>See also: <a class="el" href="AstARA.html">ARA - The Asterisk Realtime Interface</a> </li>
</ul>

<p>Definition in file <a class="el" href="pbx__realtime_8c_source.html">pbx_realtime.c</a>.</p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ab07357218392804a25091a0a5d03d260"></a><!-- doxytag: member="pbx_realtime.c::EXT_DATA_SIZE" ref="ab07357218392804a25091a0a5d03d260" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EXT_DATA_SIZE&nbsp;&nbsp;&nbsp;256</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pbx__realtime_8c_source.html#l00055">55</a> of file <a class="el" href="pbx__realtime_8c_source.html">pbx_realtime.c</a>.</p>

</div>
</div>
<a class="anchor" id="a76bc433a331fb4f7c5c3a59901315c4a"></a><!-- doxytag: member="pbx_realtime.c::MODE_CANMATCH" ref="a76bc433a331fb4f7c5c3a59901315c4a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MODE_CANMATCH&nbsp;&nbsp;&nbsp;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pbx__realtime_8c_source.html#l00053">53</a> of file <a class="el" href="pbx__realtime_8c_source.html">pbx_realtime.c</a>.</p>

<p>Referenced by <a class="el" href="pbx__realtime_8c_source.html#l00176">realtime_canmatch()</a>, and <a class="el" href="pbx__realtime_8c_source.html#l00079">realtime_switch_common()</a>.</p>

</div>
</div>
<a class="anchor" id="adc2bbd88393a1df057c454c4af33f3b8"></a><!-- doxytag: member="pbx_realtime.c::MODE_MATCH" ref="adc2bbd88393a1df057c454c4af33f3b8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MODE_MATCH&nbsp;&nbsp;&nbsp;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pbx__realtime_8c_source.html#l00051">51</a> of file <a class="el" href="pbx__realtime_8c_source.html">pbx_realtime.c</a>.</p>

<p>Referenced by <a class="el" href="pbx__realtime_8c_source.html#l00186">realtime_exec()</a>, <a class="el" href="pbx__realtime_8c_source.html#l00166">realtime_exists()</a>, and <a class="el" href="pbx__realtime_8c_source.html#l00079">realtime_switch_common()</a>.</p>

</div>
</div>
<a class="anchor" id="a7f662961f17da7901510839aa135662c"></a><!-- doxytag: member="pbx_realtime.c::MODE_MATCHMORE" ref="a7f662961f17da7901510839aa135662c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MODE_MATCHMORE&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pbx__realtime_8c_source.html#l00052">52</a> of file <a class="el" href="pbx__realtime_8c_source.html">pbx_realtime.c</a>.</p>

<p>Referenced by <a class="el" href="pbx__realtime_8c_source.html#l00263">realtime_matchmore()</a>, and <a class="el" href="pbx__realtime_8c_source.html#l00079">realtime_switch_common()</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a2ed332df4696233768771e93d4081c3f"></a><!-- doxytag: member="pbx_realtime.c::@234" ref="a2ed332df4696233768771e93d4081c3f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a2ed332df4696233768771e93d4081c3fa2bcb0a60351042a08df470ac8b1bb65c"></a><!-- doxytag: member="OPTION_PATTERNS_DISABLED" ref="a2ed332df4696233768771e93d4081c3fa2bcb0a60351042a08df470ac8b1bb65c" args="" -->OPTION_PATTERNS_DISABLED</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="pbx__realtime_8c_source.html#l00057">57</a> of file <a class="el" href="pbx__realtime_8c_source.html">pbx_realtime.c</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00057"></a>00057      {
<a name="l00058"></a>00058    <a class="code" href="pbx__realtime_8c.html#a2ed332df4696233768771e93d4081c3fa2bcb0a60351042a08df470ac8b1bb65c">OPTION_PATTERNS_DISABLED</a> = (1 &lt;&lt; 0),
<a name="l00059"></a>00059 } <a class="code" href="app__disa_8c.html#af21f56dc78a8ccd7305fbd96d6815ed6">option_flags</a>;
</pre></div></p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a88b7c88fed6b80fd18f34f97757dfc04"></a><!-- doxytag: member="pbx_realtime.c::__reg_module" ref="a88b7c88fed6b80fd18f34f97757dfc04" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pbx__realtime_8c_source.html#l00296">296</a> of file <a class="el" href="pbx__realtime_8c_source.html">pbx_realtime.c</a>.</p>

</div>
</div>
<a class="anchor" id="afeab1257bd17282b95875499393a147a"></a><!-- doxytag: member="pbx_realtime.c::__unreg_module" ref="afeab1257bd17282b95875499393a147a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pbx__realtime_8c_source.html#l00296">296</a> of file <a class="el" href="pbx__realtime_8c_source.html">pbx_realtime.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac3382bf6da54c56b37069bd76bbdf4f9"></a><!-- doxytag: member="pbx_realtime.c::load_module" ref="ac3382bf6da54c56b37069bd76bbdf4f9" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pbx__realtime_8c_source.html#l00289">289</a> of file <a class="el" href="pbx__realtime_8c_source.html">pbx_realtime.c</a>.</p>

<p>References <a class="el" href="module_8h_source.html#l00065">AST_MODULE_LOAD_FAILURE</a>, <a class="el" href="module_8h_source.html#l00061">AST_MODULE_LOAD_SUCCESS</a>, and <a class="el" href="pbx_8c_source.html#l05157">ast_register_switch()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00290"></a>00290 {
<a name="l00291"></a>00291    <span class="keywordflow">if</span> (<a class="code" href="pbx_8h.html#a5297fa9c52ff50da5b08c7217d9251b4" title="Register an alternative dialplan switch.">ast_register_switch</a>(&amp;<a class="code" href="pbx__realtime_8c.html#a657bc6d3113891210e99922a9906ece8">realtime_switch</a>))
<a name="l00292"></a>00292       <span class="keywordflow">return</span> <a class="code" href="module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a>;
<a name="l00293"></a>00293    <span class="keywordflow">return</span> <a class="code" href="module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;
<a name="l00294"></a>00294 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa5640599070ed9efdf89d41b602c2cc2"></a><!-- doxytag: member="pbx_realtime.c::realtime_canmatch" ref="aa5640599070ed9efdf89d41b602c2cc2" args="(struct ast_channel *chan, const char *context, const char *exten, int priority, const char *callerid, const char *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int realtime_canmatch </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structast__channel.html">ast_channel</a> *&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>callerid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pbx__realtime_8c_source.html#l00176">176</a> of file <a class="el" href="pbx__realtime_8c_source.html">pbx_realtime.c</a>.</p>

<p>References <a class="el" href="config_8c_source.html#l00397">ast_variables_destroy()</a>, <a class="el" href="pbx__realtime_8c_source.html#l00053">MODE_CANMATCH</a>, <a class="el" href="pbx__realtime_8c_source.html#l00138">realtime_common()</a>, and <a class="el" href="ast__expr2f_8c_source.html#l00613">var</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00177"></a>00177 {
<a name="l00178"></a>00178    <span class="keyword">struct </span><a class="code" href="structast__variable.html" title="Structure for variables, used for configurations and for channel variables.">ast_variable</a> *<a class="code" href="ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a> = <a class="code" href="pbx__realtime_8c.html#ac53efdf412bfc23c66d3a6e876805aee">realtime_common</a>(<a class="code" href="chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, priority, data, <a class="code" href="pbx__realtime_8c.html#a76bc433a331fb4f7c5c3a59901315c4a">MODE_CANMATCH</a>);
<a name="l00179"></a>00179    <span class="keywordflow">if</span> (var) {
<a name="l00180"></a>00180       <a class="code" href="config_8h.html#ad3d8122172af6f13687a07840411d65d" title="Free variable list.">ast_variables_destroy</a>(var);
<a name="l00181"></a>00181       <span class="keywordflow">return</span> 1;
<a name="l00182"></a>00182    }
<a name="l00183"></a>00183    <span class="keywordflow">return</span> 0;
<a name="l00184"></a>00184 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac53efdf412bfc23c66d3a6e876805aee"></a><!-- doxytag: member="pbx_realtime.c::realtime_common" ref="ac53efdf412bfc23c66d3a6e876805aee" args="(const char *context, const char *exten, int priority, const char *data, int mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structast__variable.html">ast_variable</a>* realtime_common </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pbx__realtime_8c_source.html#l00138">138</a> of file <a class="el" href="pbx__realtime_8c_source.html">pbx_realtime.c</a>.</p>

<p>References <a class="el" href="app_8c_source.html#l01776">ast_app_parse_options()</a>, <a class="el" href="utils_8h_source.html#l00616">ast_strdupa</a>, <a class="el" href="strings_8h_source.html#l00063">ast_strlen_zero()</a>, <a class="el" href="adsistub_8c_source.html#l00059">buf</a>, <a class="el" href="pbx__realtime_8c_source.html#l00079">realtime_switch_common()</a>, <a class="el" href="strings_8h_source.html#l00072">S_OR</a>, <a class="el" href="pbx__realtime_8c_source.html#l00063">switch_opts</a>, <a class="el" href="cdr__odbc_8c_source.html#l00052">table</a>, and <a class="el" href="ast__expr2f_8c_source.html#l00613">var</a>.</p>

<p>Referenced by <a class="el" href="pbx__realtime_8c_source.html#l00176">realtime_canmatch()</a>, <a class="el" href="pbx__realtime_8c_source.html#l00186">realtime_exec()</a>, <a class="el" href="pbx__realtime_8c_source.html#l00166">realtime_exists()</a>, and <a class="el" href="pbx__realtime_8c_source.html#l00263">realtime_matchmore()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00139"></a>00139 {
<a name="l00140"></a>00140    <span class="keyword">const</span> <span class="keywordtype">char</span> *ctx = NULL;
<a name="l00141"></a>00141    <span class="keywordtype">char</span> *<a class="code" href="cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>;
<a name="l00142"></a>00142    <span class="keyword">struct </span><a class="code" href="structast__variable.html" title="Structure for variables, used for configurations and for channel variables.">ast_variable</a> *<a class="code" href="ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>=NULL;
<a name="l00143"></a>00143    <span class="keyword">struct </span><a class="code" href="structast__flags.html" title="Structure used to handle boolean flags.">ast_flags</a> <a class="code" href="structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">flags</a> = { 0, };
<a name="l00144"></a>00144    <span class="keywordtype">char</span> *<a class="code" href="adsistub_8c.html#aa95cbf1d00929438101e64ee5a216d0c">buf</a> = <a class="code" href="utils_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6" title="duplicate a string in memory from the stack">ast_strdupa</a>(data);
<a name="l00145"></a>00145    <span class="keywordflow">if</span> (buf) {
<a name="l00146"></a>00146       <span class="comment">/* &quot;Realtime&quot; prefix is stripped off in the parent engine.  The</span>
<a name="l00147"></a>00147 <span class="comment">       * remaining string is: [[context@]table][/opts] */</span>
<a name="l00148"></a>00148       <span class="keywordtype">char</span> *opts = strchr(buf, <span class="charliteral">&apos;/&apos;</span>);
<a name="l00149"></a>00149       <span class="keywordflow">if</span> (opts)
<a name="l00150"></a>00150          *opts++ = <span class="charliteral">&apos;\0&apos;</span>;
<a name="l00151"></a>00151       table = strchr(buf, <span class="charliteral">&apos;@&apos;</span>);
<a name="l00152"></a>00152       <span class="keywordflow">if</span> (table) {
<a name="l00153"></a>00153          *table++ = <span class="charliteral">&apos;\0&apos;</span>;
<a name="l00154"></a>00154          ctx = buf;
<a name="l00155"></a>00155       }
<a name="l00156"></a>00156       ctx = <a class="code" href="strings_8h.html#a2faaa16929951bfd2802b7829a100ba2" title="returns the equivalent of logic or for strings: first one if not empty, otherwise...">S_OR</a>(ctx, <a class="code" href="chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);
<a name="l00157"></a>00157       table = <a class="code" href="strings_8h.html#a2faaa16929951bfd2802b7829a100ba2" title="returns the equivalent of logic or for strings: first one if not empty, otherwise...">S_OR</a>(table, <span class="stringliteral">&quot;extensions&quot;</span>);
<a name="l00158"></a>00158       <span class="keywordflow">if</span> (!<a class="code" href="strings_8h.html#a5c8aa5212ecb665fb072eac00c799da6">ast_strlen_zero</a>(opts)) {
<a name="l00159"></a>00159          <a class="code" href="app_8h.html#af40039f1c49c16d0f6fa33fe9c43a0cb" title="Parses a string containing application options and sets flags/arguments.">ast_app_parse_options</a>(<a class="code" href="pbx__realtime_8c.html#a4b0fc5822deb28664e3b5af206285586">switch_opts</a>, &amp;flags, NULL, opts);
<a name="l00160"></a>00160       }
<a name="l00161"></a>00161       var = <a class="code" href="pbx__realtime_8c.html#aafcd809aaef83fe34cd72093295ba346">realtime_switch_common</a>(table, ctx, <a class="code" href="chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, priority, mode, flags);
<a name="l00162"></a>00162    }
<a name="l00163"></a>00163    <span class="keywordflow">return</span> var;
<a name="l00164"></a>00164 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4b94f44c69c115bf0c29641d02f0a342"></a><!-- doxytag: member="pbx_realtime.c::realtime_exec" ref="a4b94f44c69c115bf0c29641d02f0a342" args="(struct ast_channel *chan, const char *context, const char *exten, int priority, const char *callerid, const char *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int realtime_exec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structast__channel.html">ast_channel</a> *&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>callerid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pbx__realtime_8c_source.html#l00186">186</a> of file <a class="el" href="pbx__realtime_8c_source.html">pbx_realtime.c</a>.</p>

<p>References <a class="el" href="adsistub_8c_source.html#l00053">app</a>, <a class="el" href="options_8h_source.html#l00134">ast_compat_pbx_realtime</a>, <a class="el" href="logger_8c_source.html#l01090">ast_log()</a>, <a class="el" href="utils_8h_source.html#l00616">ast_strdupa</a>, <a class="el" href="strings_8h_source.html#l00063">ast_strlen_zero()</a>, <a class="el" href="config_8c_source.html#l00397">ast_variables_destroy()</a>, <a class="el" href="logger_8h_source.html#l00220">ast_verb</a>, <a class="el" href="term_8h_source.html#l00060">COLOR_BRCYAN</a>, <a class="el" href="term_8h_source.html#l00058">COLOR_BRMAGENTA</a>, <a class="el" href="channel_8h_source.html#l00503">ast_channel::context</a>, <a class="el" href="manager_8h_source.html#l00072">EVENT_FLAG_DIALPLAN</a>, <a class="el" href="pbx_8c_source.html#l00724">EXT_DATA_SIZE</a>, <a class="el" href="channel_8h_source.html#l00504">ast_channel::exten</a>, <a class="el" href="logger_8h_source.html#l00141">LOG_NOTICE</a>, <a class="el" href="logger_8h_source.html#l00152">LOG_WARNING</a>, <a class="el" href="manager_8h_source.html#l00181">manager_event</a>, <a class="el" href="pbx__realtime_8c_source.html#l00051">MODE_MATCH</a>, <a class="el" href="config_8h_source.html#l00075">ast_variable::name</a>, <a class="el" href="config_8h_source.html#l00077">ast_variable::next</a>, <a class="el" href="pbx_8c_source.html#l01322">pbx_exec()</a>, <a class="el" href="pbx_8c_source.html#l01363">pbx_findapp()</a>, <a class="el" href="pbx_8c_source.html#l03598">pbx_substitute_variables_helper()</a>, <a class="el" href="channel_8h_source.html#l00471">ast_channel::priority</a>, <a class="el" href="pbx__realtime_8c_source.html#l00138">realtime_common()</a>, <a class="el" href="strings_8h_source.html#l00072">S_OR</a>, <a class="el" href="term_8c_source.html#l00168">term_color()</a>, <a class="el" href="config_8h_source.html#l00076">ast_variable::value</a>, and <a class="el" href="ast__expr2f_8c_source.html#l00613">var</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00187"></a>00187 {
<a name="l00188"></a>00188    <span class="keywordtype">int</span> res = -1;
<a name="l00189"></a>00189    <span class="keyword">struct </span><a class="code" href="structast__variable.html" title="Structure for variables, used for configurations and for channel variables.">ast_variable</a> *<a class="code" href="ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a> = <a class="code" href="pbx__realtime_8c.html#ac53efdf412bfc23c66d3a6e876805aee">realtime_common</a>(<a class="code" href="chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, priority, data, <a class="code" href="pbx__realtime_8c.html#adc2bbd88393a1df057c454c4af33f3b8">MODE_MATCH</a>);
<a name="l00190"></a>00190 
<a name="l00191"></a>00191    <span class="keywordflow">if</span> (var) {
<a name="l00192"></a>00192       <span class="keywordtype">char</span> *tmp=<span class="stringliteral">&quot;&quot;</span>;
<a name="l00193"></a>00193       <span class="keywordtype">char</span> *<a class="code" href="adsistub_8c.html#ad194d73de26c0d836555e029d245493d">app</a> = NULL;
<a name="l00194"></a>00194       <span class="keyword">struct </span><a class="code" href="structast__variable.html" title="Structure for variables, used for configurations and for channel variables.">ast_variable</a> *v;
<a name="l00195"></a>00195 
<a name="l00196"></a>00196       <span class="keywordflow">for</span> (v = var; v ; v = v-&gt;<a class="code" href="structast__variable.html#a46f18867e3894852bc489a4cd9cfa516">next</a>) {
<a name="l00197"></a>00197          <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;app&quot;</span>))
<a name="l00198"></a>00198             app = <a class="code" href="utils_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6" title="duplicate a string in memory from the stack">ast_strdupa</a>(v-&gt;<a class="code" href="structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);
<a name="l00199"></a>00199          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;appdata&quot;</span>)) {
<a name="l00200"></a>00200             <span class="keywordflow">if</span> (<a class="code" href="options_8h.html#af124d65de5fa01d3a0c42e67533dd45d">ast_compat_pbx_realtime</a>) {
<a name="l00201"></a>00201                <span class="keywordtype">char</span> *ptr;
<a name="l00202"></a>00202                <span class="keywordtype">int</span> in = 0;
<a name="l00203"></a>00203                tmp = alloca(strlen(v-&gt;<a class="code" href="structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>) * 2 + 1);
<a name="l00204"></a>00204                <span class="keywordflow">for</span> (ptr = tmp; *v-&gt;<a class="code" href="structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>; v-&gt;<a class="code" href="structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>++) {
<a name="l00205"></a>00205                   <span class="keywordflow">if</span> (*v-&gt;<a class="code" href="structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a> == <span class="charliteral">&apos;,&apos;</span>) {
<a name="l00206"></a>00206                      *ptr++ = <span class="charliteral">&apos;\\&apos;</span>;
<a name="l00207"></a>00207                      *ptr++ = <span class="charliteral">&apos;,&apos;</span>;
<a name="l00208"></a>00208                   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*v-&gt;<a class="code" href="structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a> == <span class="charliteral">&apos;|&apos;</span> &amp;&amp; !in) {
<a name="l00209"></a>00209                      *ptr++ = <span class="charliteral">&apos;,&apos;</span>;
<a name="l00210"></a>00210                   } <span class="keywordflow">else</span> {
<a name="l00211"></a>00211                      *ptr++ = *v-&gt;<a class="code" href="structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>;
<a name="l00212"></a>00212                   }
<a name="l00213"></a>00213 
<a name="l00214"></a>00214                   <span class="comment">/* Don&apos;t escape &apos;|&apos;, meaning &apos;or&apos;, inside expressions ($[ ]) */</span>
<a name="l00215"></a>00215                   <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>[0] == <span class="charliteral">&apos;[&apos;</span> &amp;&amp; v-&gt;<a class="code" href="structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>[-1] == <span class="charliteral">&apos;$&apos;</span>) {
<a name="l00216"></a>00216                      in++;
<a name="l00217"></a>00217                   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>[0] == <span class="charliteral">&apos;]&apos;</span> &amp;&amp; in) {
<a name="l00218"></a>00218                      in--;
<a name="l00219"></a>00219                   }
<a name="l00220"></a>00220                }
<a name="l00221"></a>00221                *ptr = <span class="charliteral">&apos;\0&apos;</span>;
<a name="l00222"></a>00222             } <span class="keywordflow">else</span> {
<a name="l00223"></a>00223                tmp = <a class="code" href="utils_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6" title="duplicate a string in memory from the stack">ast_strdupa</a>(v-&gt;<a class="code" href="structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);
<a name="l00224"></a>00224             }
<a name="l00225"></a>00225          }
<a name="l00226"></a>00226       }
<a name="l00227"></a>00227       <a class="code" href="config_8h.html#ad3d8122172af6f13687a07840411d65d" title="Free variable list.">ast_variables_destroy</a>(var);
<a name="l00228"></a>00228       <span class="keywordflow">if</span> (!<a class="code" href="strings_8h.html#a5c8aa5212ecb665fb072eac00c799da6">ast_strlen_zero</a>(app)) {
<a name="l00229"></a>00229          <span class="keyword">struct </span><a class="code" href="structast__app.html" title="ast_app: A registered application">ast_app</a> *a = <a class="code" href="pbx_8h.html#a0db9808b647984133225652170b22b79" title="Look up an application.">pbx_findapp</a>(app);
<a name="l00230"></a>00230          <span class="keywordflow">if</span> (a) {
<a name="l00231"></a>00231             <span class="keywordtype">char</span> appdata[512];
<a name="l00232"></a>00232             <span class="keywordtype">char</span> tmp1[80];
<a name="l00233"></a>00233             <span class="keywordtype">char</span> tmp2[80];
<a name="l00234"></a>00234             <span class="keywordtype">char</span> tmp3[<a class="code" href="pbx_8c.html#ab07357218392804a25091a0a5d03d260">EXT_DATA_SIZE</a>];
<a name="l00235"></a>00235 
<a name="l00236"></a>00236             appdata[0] = 0; <span class="comment">/* just in case the substitute var func isn&apos;t called */</span>
<a name="l00237"></a>00237             <span class="keywordflow">if</span>(!<a class="code" href="strings_8h.html#a5c8aa5212ecb665fb072eac00c799da6">ast_strlen_zero</a>(tmp))
<a name="l00238"></a>00238                <a class="code" href="pbx_8h.html#a3eac2009888ce9c4a108e882d02cb04d">pbx_substitute_variables_helper</a>(chan, tmp, appdata, <span class="keyword">sizeof</span>(appdata) - 1);
<a name="l00239"></a>00239             <a class="code" href="logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Executing %s(\&quot;%s\&quot;, \&quot;%s\&quot;)\n&quot;</span>,
<a name="l00240"></a>00240                    <a class="code" href="term_8h.html#a7b6c72116c334f40bf7c1e50e793c93b">term_color</a>(tmp1, app, <a class="code" href="term_8h.html#a23aeefae76b2cacc1a6162de88c3fff0">COLOR_BRCYAN</a>, 0, <span class="keyword">sizeof</span>(tmp1)),
<a name="l00241"></a>00241                    <a class="code" href="term_8h.html#a7b6c72116c334f40bf7c1e50e793c93b">term_color</a>(tmp2, chan-&gt;name, <a class="code" href="term_8h.html#aee88b2ffd7fd2128fe38896cffb1a71a">COLOR_BRMAGENTA</a>, 0, <span class="keyword">sizeof</span>(tmp2)),
<a name="l00242"></a>00242                    <a class="code" href="term_8h.html#a7b6c72116c334f40bf7c1e50e793c93b">term_color</a>(tmp3, <a class="code" href="strings_8h.html#a2faaa16929951bfd2802b7829a100ba2" title="returns the equivalent of logic or for strings: first one if not empty, otherwise...">S_OR</a>(appdata, <span class="stringliteral">&quot;&quot;</span>), <a class="code" href="term_8h.html#aee88b2ffd7fd2128fe38896cffb1a71a">COLOR_BRMAGENTA</a>, 0, <span class="keyword">sizeof</span>(tmp3)));
<a name="l00243"></a>00243             <a class="code" href="manager_8h.html#a1ef0ee0044dbbeb4c3a5abc6c046b208" title="External routines may send asterisk manager events this way.">manager_event</a>(<a class="code" href="manager_8h.html#ad602e069591b527f28e36dd472425e7e">EVENT_FLAG_DIALPLAN</a>, <span class="stringliteral">&quot;Newexten&quot;</span>,
<a name="l00244"></a>00244                        <span class="stringliteral">&quot;Channel: %s\r\n&quot;</span>
<a name="l00245"></a>00245                        <span class="stringliteral">&quot;Context: %s\r\n&quot;</span>
<a name="l00246"></a>00246                        <span class="stringliteral">&quot;Extension: %s\r\n&quot;</span>
<a name="l00247"></a>00247                        <span class="stringliteral">&quot;Priority: %d\r\n&quot;</span>
<a name="l00248"></a>00248                        <span class="stringliteral">&quot;Application: %s\r\n&quot;</span>
<a name="l00249"></a>00249                        <span class="stringliteral">&quot;AppData: %s\r\n&quot;</span>
<a name="l00250"></a>00250                        <span class="stringliteral">&quot;Uniqueid: %s\r\n&quot;</span>,
<a name="l00251"></a>00251                        chan-&gt;name, chan-&gt;<a class="code" href="structast__channel.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, chan-&gt;<a class="code" href="structast__channel.html#a78d4847658b695383d849efd12399b38">exten</a>, chan-&gt;<a class="code" href="structast__channel.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, app, !<a class="code" href="strings_8h.html#a5c8aa5212ecb665fb072eac00c799da6">ast_strlen_zero</a>(appdata) ? appdata : <span class="stringliteral">&quot;(NULL)&quot;</span>, chan-&gt;uniqueid);
<a name="l00252"></a>00252             
<a name="l00253"></a>00253             res = <a class="code" href="pbx_8h.html#afb87ff7a4504ef6031a45ae4170acaad" title="Execute an application.">pbx_exec</a>(chan, a, appdata);
<a name="l00254"></a>00254          } <span class="keywordflow">else</span>
<a name="l00255"></a>00255             <a class="code" href="logger_8h.html#a93dd824dff97fe84941d6d71b7a3710e" title="Used for sending a log message This is the standard logger function. Probably the...">ast_log</a>(<a class="code" href="logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;No such application &apos;%s&apos; for extension &apos;%s&apos; in context &apos;%s&apos;\n&quot;</span>, app, <a class="code" href="chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);
<a name="l00256"></a>00256       } <span class="keywordflow">else</span> {
<a name="l00257"></a>00257          <a class="code" href="logger_8h.html#a93dd824dff97fe84941d6d71b7a3710e" title="Used for sending a log message This is the standard logger function. Probably the...">ast_log</a>(<a class="code" href="logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;No application specified for realtime extension &apos;%s&apos; in context &apos;%s&apos;\n&quot;</span>, <a class="code" href="chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);
<a name="l00258"></a>00258       }
<a name="l00259"></a>00259    }
<a name="l00260"></a>00260    <span class="keywordflow">return</span> res;
<a name="l00261"></a>00261 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac2cb7f8f59abda183a9149be34bfc812"></a><!-- doxytag: member="pbx_realtime.c::realtime_exists" ref="ac2cb7f8f59abda183a9149be34bfc812" args="(struct ast_channel *chan, const char *context, const char *exten, int priority, const char *callerid, const char *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int realtime_exists </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structast__channel.html">ast_channel</a> *&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>callerid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pbx__realtime_8c_source.html#l00166">166</a> of file <a class="el" href="pbx__realtime_8c_source.html">pbx_realtime.c</a>.</p>

<p>References <a class="el" href="config_8c_source.html#l00397">ast_variables_destroy()</a>, <a class="el" href="pbx__realtime_8c_source.html#l00051">MODE_MATCH</a>, <a class="el" href="pbx__realtime_8c_source.html#l00138">realtime_common()</a>, and <a class="el" href="ast__expr2f_8c_source.html#l00613">var</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00167"></a>00167 {
<a name="l00168"></a>00168    <span class="keyword">struct </span><a class="code" href="structast__variable.html" title="Structure for variables, used for configurations and for channel variables.">ast_variable</a> *<a class="code" href="ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a> = <a class="code" href="pbx__realtime_8c.html#ac53efdf412bfc23c66d3a6e876805aee">realtime_common</a>(<a class="code" href="chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, priority, data, <a class="code" href="pbx__realtime_8c.html#adc2bbd88393a1df057c454c4af33f3b8">MODE_MATCH</a>);
<a name="l00169"></a>00169    <span class="keywordflow">if</span> (var) {
<a name="l00170"></a>00170       <a class="code" href="config_8h.html#ad3d8122172af6f13687a07840411d65d" title="Free variable list.">ast_variables_destroy</a>(var);
<a name="l00171"></a>00171       <span class="keywordflow">return</span> 1;
<a name="l00172"></a>00172    }
<a name="l00173"></a>00173    <span class="keywordflow">return</span> 0;
<a name="l00174"></a>00174 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac56d2f2560760483e97bde41fabe896e"></a><!-- doxytag: member="pbx_realtime.c::realtime_matchmore" ref="ac56d2f2560760483e97bde41fabe896e" args="(struct ast_channel *chan, const char *context, const char *exten, int priority, const char *callerid, const char *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int realtime_matchmore </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structast__channel.html">ast_channel</a> *&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>callerid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pbx__realtime_8c_source.html#l00263">263</a> of file <a class="el" href="pbx__realtime_8c_source.html">pbx_realtime.c</a>.</p>

<p>References <a class="el" href="config_8c_source.html#l00397">ast_variables_destroy()</a>, <a class="el" href="pbx__realtime_8c_source.html#l00052">MODE_MATCHMORE</a>, <a class="el" href="pbx__realtime_8c_source.html#l00138">realtime_common()</a>, and <a class="el" href="ast__expr2f_8c_source.html#l00613">var</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00264"></a>00264 {
<a name="l00265"></a>00265    <span class="keyword">struct </span><a class="code" href="structast__variable.html" title="Structure for variables, used for configurations and for channel variables.">ast_variable</a> *<a class="code" href="ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a> = <a class="code" href="pbx__realtime_8c.html#ac53efdf412bfc23c66d3a6e876805aee">realtime_common</a>(<a class="code" href="chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, priority, data, <a class="code" href="pbx__realtime_8c.html#a7f662961f17da7901510839aa135662c">MODE_MATCHMORE</a>);
<a name="l00266"></a>00266    <span class="keywordflow">if</span> (var) {
<a name="l00267"></a>00267       <a class="code" href="config_8h.html#ad3d8122172af6f13687a07840411d65d" title="Free variable list.">ast_variables_destroy</a>(var);
<a name="l00268"></a>00268       <span class="keywordflow">return</span> 1;
<a name="l00269"></a>00269    }
<a name="l00270"></a>00270    <span class="keywordflow">return</span> 0;
<a name="l00271"></a>00271 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aafcd809aaef83fe34cd72093295ba346"></a><!-- doxytag: member="pbx_realtime.c::realtime_switch_common" ref="aafcd809aaef83fe34cd72093295ba346" args="(const char *table, const char *context, const char *exten, int priority, int mode, struct ast_flags flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structast__variable.html">ast_variable</a>* realtime_switch_common </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structast__flags.html">ast_flags</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pbx__realtime_8c_source.html#l00079">79</a> of file <a class="el" href="pbx__realtime_8c_source.html">pbx_realtime.c</a>.</p>

<p>References <a class="el" href="config_8c_source.html#l00613">ast_category_browse()</a>, <a class="el" href="config_8c_source.html#l00645">ast_category_detach_variables()</a>, <a class="el" href="config_8c_source.html#l00512">ast_category_get()</a>, <a class="el" href="config_8c_source.html#l00827">ast_config_destroy()</a>, <a class="el" href="strings_8h_source.html#l00218">ast_copy_string()</a>, <a class="el" href="pbx_8c_source.html#l02407">ast_extension_close()</a>, <a class="el" href="pbx_8c_source.html#l02402">ast_extension_match()</a>, <a class="el" href="config_8c_source.html#l02113">ast_load_realtime()</a>, <a class="el" href="config_8c_source.html#l02198">ast_load_realtime_multientry()</a>, <a class="el" href="channel_8h_source.html#l00134">AST_MAX_EXTENSION</a>, <a class="el" href="utils_8h_source.html#l00061">ast_test_flag</a>, <a class="el" href="chan__iax2_8c_source.html#l01834">match()</a>, <a class="el" href="pbx__realtime_8c_source.html#l00053">MODE_CANMATCH</a>, <a class="el" href="pbx__realtime_8c_source.html#l00051">MODE_MATCH</a>, <a class="el" href="pbx__realtime_8c_source.html#l00052">MODE_MATCHMORE</a>, <a class="el" href="pbx__realtime_8c_source.html#l00058">OPTION_PATTERNS_DISABLED</a>, <a class="el" href="compiler_8h_source.html#l00069">SENTINEL</a>, and <a class="el" href="ast__expr2f_8c_source.html#l00613">var</a>.</p>

<p>Referenced by <a class="el" href="pbx__realtime_8c_source.html#l00138">realtime_common()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00080"></a>00080 {
<a name="l00081"></a>00081    <span class="keyword">struct </span><a class="code" href="structast__variable.html" title="Structure for variables, used for configurations and for channel variables.">ast_variable</a> *<a class="code" href="ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;
<a name="l00082"></a>00082    <span class="keyword">struct </span><a class="code" href="structast__config.html">ast_config</a> *cfg;
<a name="l00083"></a>00083    <span class="keywordtype">char</span> pri[20];
<a name="l00084"></a>00084    <span class="keywordtype">char</span> *ematch;
<a name="l00085"></a>00085    <span class="keywordtype">char</span> rexten[<a class="code" href="channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a> + 20]=<span class="stringliteral">&quot;&quot;</span>;
<a name="l00086"></a>00086    <span class="keywordtype">int</span> <a class="code" href="chan__iax2_8c.html#aa27930d6214f6421994d6bef51efb7aa">match</a>;
<a name="l00087"></a>00087    <span class="comment">/* Optimization: since we don&apos;t support hints in realtime, it&apos;s silly to</span>
<a name="l00088"></a>00088 <span class="comment">    * query for a hint here, since we won&apos;t actually do anything with it.</span>
<a name="l00089"></a>00089 <span class="comment">    * This just wastes CPU time and resources. */</span>
<a name="l00090"></a>00090    <span class="keywordflow">if</span> (priority &lt; 0) {
<a name="l00091"></a>00091       <span class="keywordflow">return</span> NULL;
<a name="l00092"></a>00092    }
<a name="l00093"></a>00093    snprintf(pri, <span class="keyword">sizeof</span>(pri), <span class="stringliteral">&quot;%d&quot;</span>, priority);
<a name="l00094"></a>00094    <span class="keywordflow">switch</span>(mode) {
<a name="l00095"></a>00095    <span class="keywordflow">case</span> <a class="code" href="pbx__realtime_8c.html#a7f662961f17da7901510839aa135662c">MODE_MATCHMORE</a>:
<a name="l00096"></a>00096       ematch = <span class="stringliteral">&quot;exten LIKE&quot;</span>;
<a name="l00097"></a>00097       snprintf(rexten, <span class="keyword">sizeof</span>(rexten), <span class="stringliteral">&quot;%s_%%&quot;</span>, <a class="code" href="chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>);
<a name="l00098"></a>00098       <span class="keywordflow">break</span>;
<a name="l00099"></a>00099    <span class="keywordflow">case</span> <a class="code" href="pbx__realtime_8c.html#a76bc433a331fb4f7c5c3a59901315c4a">MODE_CANMATCH</a>:
<a name="l00100"></a>00100       ematch = <span class="stringliteral">&quot;exten LIKE&quot;</span>;
<a name="l00101"></a>00101       snprintf(rexten, <span class="keyword">sizeof</span>(rexten), <span class="stringliteral">&quot;%s%%&quot;</span>, <a class="code" href="chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>);
<a name="l00102"></a>00102       <span class="keywordflow">break</span>;
<a name="l00103"></a>00103    <span class="keywordflow">case</span> <a class="code" href="pbx__realtime_8c.html#adc2bbd88393a1df057c454c4af33f3b8">MODE_MATCH</a>:
<a name="l00104"></a>00104    <span class="keywordflow">default</span>:
<a name="l00105"></a>00105       ematch = <span class="stringliteral">&quot;exten&quot;</span>;
<a name="l00106"></a>00106       <a class="code" href="strings_8h.html#a17df4d252f3e2ecb230b526475ac4d93" title="Size-limited null-terminating string copy.">ast_copy_string</a>(rexten, <a class="code" href="chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <span class="keyword">sizeof</span>(rexten));
<a name="l00107"></a>00107    }
<a name="l00108"></a>00108    var = <a class="code" href="config_8h.html#a1a03993603e2bc2463153857836645bb" title="Retrieve realtime configuration.">ast_load_realtime</a>(<a class="code" href="cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>, ematch, rexten, <span class="stringliteral">&quot;context&quot;</span>, <a class="code" href="chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <span class="stringliteral">&quot;priority&quot;</span>, pri, <a class="code" href="compiler_8h.html#af2af475b85aef66019c417d8ded1c435">SENTINEL</a>);
<a name="l00109"></a>00109    <span class="keywordflow">if</span> (!var &amp;&amp; !<a class="code" href="utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;flags, <a class="code" href="pbx__realtime_8c.html#a2ed332df4696233768771e93d4081c3fa2bcb0a60351042a08df470ac8b1bb65c">OPTION_PATTERNS_DISABLED</a>)) {
<a name="l00110"></a>00110       cfg = <a class="code" href="config_8h.html#a29ff8cd717c0c0bac60abbd827fec409" title="Retrieve realtime configuration.">ast_load_realtime_multientry</a>(<a class="code" href="cdr__odbc_8c.html#a68d1e6e752f2cf81551fac543cae108a">table</a>, <span class="stringliteral">&quot;exten LIKE&quot;</span>, <span class="stringliteral">&quot;\\_%&quot;</span>, <span class="stringliteral">&quot;context&quot;</span>, <a class="code" href="chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <span class="stringliteral">&quot;priority&quot;</span>, pri, <a class="code" href="compiler_8h.html#af2af475b85aef66019c417d8ded1c435">SENTINEL</a>);   
<a name="l00111"></a>00111       <span class="keywordflow">if</span> (cfg) {
<a name="l00112"></a>00112          <span class="keywordtype">char</span> *cat = <a class="code" href="config_8h.html#a611776300f941a63266cb220ac62b4db" title="Goes through categories.">ast_category_browse</a>(cfg, NULL);
<a name="l00113"></a>00113 
<a name="l00114"></a>00114          <span class="keywordflow">while</span>(cat) {
<a name="l00115"></a>00115             <span class="keywordflow">switch</span>(mode) {
<a name="l00116"></a>00116             <span class="keywordflow">case</span> <a class="code" href="pbx__realtime_8c.html#a7f662961f17da7901510839aa135662c">MODE_MATCHMORE</a>:
<a name="l00117"></a>00117                match = <a class="code" href="pbx_8h.html#a83192a0099558f6a539fdb4e065ff99d">ast_extension_close</a>(cat, <a class="code" href="chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, 1);
<a name="l00118"></a>00118                <span class="keywordflow">break</span>;
<a name="l00119"></a>00119             <span class="keywordflow">case</span> <a class="code" href="pbx__realtime_8c.html#a76bc433a331fb4f7c5c3a59901315c4a">MODE_CANMATCH</a>:
<a name="l00120"></a>00120                match = <a class="code" href="pbx_8h.html#a83192a0099558f6a539fdb4e065ff99d">ast_extension_close</a>(cat, <a class="code" href="chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, 0);
<a name="l00121"></a>00121                <span class="keywordflow">break</span>;
<a name="l00122"></a>00122             <span class="keywordflow">case</span> <a class="code" href="pbx__realtime_8c.html#adc2bbd88393a1df057c454c4af33f3b8">MODE_MATCH</a>:
<a name="l00123"></a>00123             <span class="keywordflow">default</span>:
<a name="l00124"></a>00124                match = <a class="code" href="pbx_8h.html#a94cf2f099462a906620b5566871af797" title="Determine if a given extension matches a given pattern (in NXX format).">ast_extension_match</a>(cat, <a class="code" href="chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>);
<a name="l00125"></a>00125             }
<a name="l00126"></a>00126             <span class="keywordflow">if</span> (match) {
<a name="l00127"></a>00127                var = <a class="code" href="config_8h.html#a1b467acf627f98175f01061b31520616">ast_category_detach_variables</a>(<a class="code" href="config_8h.html#a0c2db6370e5051f282b2926f5893b2ea" title="Retrieve a category if it exists.">ast_category_get</a>(cfg, cat));
<a name="l00128"></a>00128                <span class="keywordflow">break</span>;
<a name="l00129"></a>00129             }
<a name="l00130"></a>00130             cat = <a class="code" href="config_8h.html#a611776300f941a63266cb220ac62b4db" title="Goes through categories.">ast_category_browse</a>(cfg, cat);
<a name="l00131"></a>00131          }
<a name="l00132"></a>00132          <a class="code" href="config_8h.html#a710f0b2a897849572b77dd0854b8dc03" title="Destroys a config.">ast_config_destroy</a>(cfg);
<a name="l00133"></a>00133       }
<a name="l00134"></a>00134    }
<a name="l00135"></a>00135    <span class="keywordflow">return</span> var;
<a name="l00136"></a>00136 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad09fa931f468002152a3cc2d5ce25eae"></a><!-- doxytag: member="pbx_realtime.c::unload_module" ref="ad09fa931f468002152a3cc2d5ce25eae" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pbx__realtime_8c_source.html#l00283">283</a> of file <a class="el" href="pbx__realtime_8c_source.html">pbx_realtime.c</a>.</p>

<p>References <a class="el" href="pbx_8c_source.html#l05175">ast_unregister_switch()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00284"></a>00284 {
<a name="l00285"></a>00285    <a class="code" href="pbx_8h.html#a4b11d763a689cb0df33a4a16c9d89ef3" title="Unregister an alternative switch.">ast_unregister_switch</a>(&amp;<a class="code" href="pbx__realtime_8c.html#a657bc6d3113891210e99922a9906ece8">realtime_switch</a>);
<a name="l00286"></a>00286    <span class="keywordflow">return</span> 0;
<a name="l00287"></a>00287 }
</pre></div></p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ab22f32016155f7f403e7178767163d7d"></a><!-- doxytag: member="pbx_realtime.c::__mod_info" ref="ab22f32016155f7f403e7178767163d7d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structast__module__info.html">ast_module_info</a> <a class="el" href="res__timing__timerfd_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="channel_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = AST_MODULE, .flags = AST_MODFLAG_DEFAULT , .<a class="el" href="callerid_8c.html#a68344fa88cf4e86b5079fd69a5c22d57">description</a> = &quot;Realtime Switch&quot; , .key = &quot;This paragraph is copyright (c) 2006 by Digium, Inc. \In order for your module to load, it must return this \key via a function called \&quot;key\&quot;. Any code which \includes this paragraph must be licensed under the GNU \General Public License <a class="el" href="res__config__pgsql_8c.html#aad880fc4455c253781e8968f2239d56f">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;aefddfaffd51bc118c14a748e96eb9a0&quot; , .load = load_module, .unload = unload_module, }<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pbx__realtime_8c_source.html#l00296">296</a> of file <a class="el" href="pbx__realtime_8c_source.html">pbx_realtime.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae25b9f3970870610911f8850897e8ead"></a><!-- doxytag: member="pbx_realtime.c::ast_module_info" ref="ae25b9f3970870610911f8850897e8ead" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structast__module__info.html">ast_module_info</a>* <a class="el" href="structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="res__timing__timerfd_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pbx__realtime_8c_source.html#l00296">296</a> of file <a class="el" href="pbx__realtime_8c_source.html">pbx_realtime.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad60f14a85401d692f32e9319d27b2f19"></a><!-- doxytag: member="pbx_realtime.c::option_flags" ref="ad60f14a85401d692f32e9319d27b2f19" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum { ... }   <a class="el" href="pbx__realtime_8c.html#ad60f14a85401d692f32e9319d27b2f19">option_flags</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a657bc6d3113891210e99922a9906ece8"></a><!-- doxytag: member="pbx_realtime.c::realtime_switch" ref="a657bc6d3113891210e99922a9906ece8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structast__switch.html">ast_switch</a> <a class="el" href="pbx__realtime_8c.html#a657bc6d3113891210e99922a9906ece8">realtime_switch</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pbx__realtime_8c_source.html#l00273">273</a> of file <a class="el" href="pbx__realtime_8c_source.html">pbx_realtime.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4b0fc5822deb28664e3b5af206285586"></a><!-- doxytag: member="pbx_realtime.c::switch_opts" ref="a4b0fc5822deb28664e3b5af206285586" args="[128]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structast__app__option.html">ast_app_option</a> <a class="el" href="pbx__realtime_8c.html#a4b0fc5822deb28664e3b5af206285586">switch_opts</a>[128] = { [ 'p' ] = { .flag = OPTION_PATTERNS_DISABLED },}<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pbx__realtime_8c_source.html#l00063">63</a> of file <a class="el" href="pbx__realtime_8c_source.html">pbx_realtime.c</a>.</p>

<p>Referenced by <a class="el" href="pbx__realtime_8c_source.html#l00138">realtime_common()</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed May 5 15:22:54 2010 for Asterisk - the Open Source PBX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
