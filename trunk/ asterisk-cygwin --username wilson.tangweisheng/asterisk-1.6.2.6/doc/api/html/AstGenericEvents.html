<HTML>
    <HEAD>
      <TITLE>Asterisk.org: Developer Documentation (5 May 2010)</TITLE>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<div><font size="2" align="right">Wed May 5 15:23:36 2010</font></div>

<h2>Asterisk developer's documentation</h2>
<hr/>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="AstGenericEvents">Generic event system </a></h1><p>The purpose of this API is to provide a generic way to share events between Asterisk modules. Code can generate events, and other code can subscribe to them.</p>
<p>Events have an associated event type, as well as information elements. The information elements are the meta data that go along with each event. For example, in the case of <a class="el" href="structmessage.html">message</a> waiting indication, the event type is MWI, and each MWI event contains at least three information elements: the mailbox, the <a class="el" href="structnumber.html" title="Number structure.">number</a> of new messages, and the <a class="el" href="structnumber.html" title="Number structure.">number</a> of old messages.</p>
<p>Subscriptions to events consist of an event type and information elements, as well. Subscriptions can be to all events, or a certain subset of events. If an event type is provided, only events of that type will be sent to this subscriber. Furthermore, if information elements are supplied with the subscription, only events that contain the specified information elements with specified <a class="el" href="structvalues.html">values</a> will be sent to the subscriber. For example, when a SIP phone subscribes to MWI for mailbox 1234, then chan_sip can subscribe to internal Asterisk MWI events with the MAILBOX information element with a value of "1234".</p>
<p>Another key feature of this event system is the ability to cache events. It is useful for some types of events to be able to remember the last known value. These are usually events that indicate some kind of <a class="el" href="structstate.html">state</a> change. In the example of MWI, app_voicemail can instruct the event core to cache these events based on the mailbox. So, the last known MWI <a class="el" href="structstate.html">state</a> of each mailbox will be cached, and other modules can retrieve this information on demand without having to poll the mailbox directly. </p>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed May 5 15:23:36 2010 for Asterisk - the Open Source PBX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
