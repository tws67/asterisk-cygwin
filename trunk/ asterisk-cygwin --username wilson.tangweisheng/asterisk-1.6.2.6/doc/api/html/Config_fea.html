<HTML>
    <HEAD>
      <TITLE>Asterisk.org: Developer Documentation (5 May 2010)</TITLE>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<div><font size="2" align="right">Wed May 5 15:23:36 2010</font></div>

<h2>Asterisk developer's documentation</h2>
<hr/>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="Config_fea">Call features configuration </a></h1><dl class="user"><dt><b>See also</b></dt><dd><ul>
<li><a class="el" href="res__features_8c.html">res_features.c</a> : Call feature implementation </li>
</ul>
</dd></dl>
<h2><a class="anchor" id="featconf">
features.conf</a></h2>
<div class="fragment"><pre class="fragment">;
; Sample Call Features (parking, transfer, etc) configuration
;

[general]
parkext =&gt; 700			; What extension to dial to park	(all parking lots)
parkpos =&gt; 701-720		; What extensions to park calls on. (defafult parking lot)
				; These needs to be numeric, as Asterisk starts from the start position
				; and increments with one for the next parked call.
context =&gt; parkedcalls		; Which context parked calls are in (default parking lot)
;parkinghints = no		; Add hints priorities automatically for parking slots (default is no).
;parkingtime =&gt; 45		; Number of seconds a call can be parked for 
				; (default is 45 seconds)
;comebacktoorigin = yes	; Whether to return to the original calling extension upon parking
				; timeout or to send the call to context 'parkedcallstimeout' at
				; extension 's', priority '1' (default is yes).
;courtesytone = beep		; Sound file to play to the parked caller 
				; when someone dials a parked call
				; or the Touch Monitor is activated/deactivated.
;parkedplay = caller		; Who to play the courtesy tone to when picking up a parked call
				; one of: parked, caller, both  (default is caller)
;parkedcalltransfers = caller   ; Enables or disables DTMF based transfers when picking up a parked call.
                                ; one of: callee, caller, both, no (default is no)
;parkedcallreparking = caller   ; Enables or disables DTMF based parking when picking up a parked call.
                                ; one of: callee, caller, both, no (default is no)
;parkedcallhangup = caller      ; Enables or disables DTMF based hangups when picking up a parked call.
                                ; one of: callee, caller, both, no (default is no)
;parkedcallrecording = caller   ; Enables or disables DTMF based one-touch recording when picking up a parked call.
                                ; one of: callee, caller, both, no (default is no)
;adsipark = yes			; if you want ADSI parking announcements
;findslot =&gt; next		; Continue to the 'next' free parking space. 
				; Defaults to 'first' available
;parkedmusicclass=default	; This is the MOH class to use for the parked channel
				; as long as the class is not set on the channel directly
				; using Set(CHANNEL(musicclass)=whatever) in the dialplan

;transferdigittimeout =&gt; 3	; Number of seconds to wait between digits when transferring a call
				; (default is 3 seconds)
;xfersound = beep		; to indicate an attended transfer is complete
;xferfailsound = beeperr	; to indicate a failed transfer
;pickupexten = *8		; Configure the pickup extension. (default is *8)
;pickupsound = beep		; to indicate a successful pickup (default: no sound)
;pickupfailsound = beeperr	; to indicate that the pickup failed (default: no sound)
;featuredigittimeout = 1000	; Max time (ms) between digits for 
                            ; feature activation  (default is 1000 ms)
;atxfernoanswertimeout = 15 ; Timeout for answer on attended transfer default is 15 seconds.
;atxferdropcall = no        ; If someone does an attended transfer, then hangs up before the transferred
                            ; caller is connected, then by default, the system will try to call back the
                            ; person that did the transfer.  If this is set to "yes", the callback will
                            ; not be attempted and the transfer will just fail.
;atxferloopdelay = 10       ; Number of seconds to sleep between retries (if atxferdropcall = no)
;atxfercallbackretries = 2  ; Number of times to attempt to send the call back to the transferer.
                            ; By default, this is 2.

; Note that the DTMF features listed below only work when two channels have answered and are bridged together.
; They can not be used while the remote party is ringing or in progress. If you require this feature you can use
; chan_local in combination with Answer to accomplish it.


[featuremap]
;blindxfer =&gt; #1		; Blind transfer  (default is #) -- Make sure to set the T and/or t option in the Dial() or Queue() app call!
;disconnect =&gt; *0		; Disconnect  (default is *) -- Make sure to set the H and/or h option in the Dial() or Queue() app call!
;automon =&gt; *1			; One Touch Record a.k.a. Touch Monitor -- Make sure to set the W and/or w option in the Dial() or Queue() app call!
;atxfer =&gt; *2			; Attended transfer  -- Make sure to set the T and/or t option in the Dial() or Queue()  app call!
;parkcall =&gt; #72        ; Park call (one step parking)  -- Make sure to set the K and/or k option in the Dial() app call!
;automixmon =&gt; *3		; One Touch Record a.k.a. Touch MixMonitor -- Make sure to set the X and/or x option in the Dial() or Queue() app call!

[applicationmap]
; Note that the DYNAMIC_FEATURES channel variable must be set to use the features
; defined here.  The value of DYNAMIC_FEATURES should be the names of the features
; to allow the channel to use separated by '#'.  For example:
;
;    Set(__DYNAMIC_FEATURES=myfeature1#myfeature2#myfeature3)
;
; (Note: The two leading underscores allow these feature settings to be set on
;  on the outbound channels, as well.  Otherwise, only the original channel
;  will have access to these features.)
;
; The syntax for declaring a dynamic feature is the following:
;
;&lt;FeatureName&gt; =&gt; &lt;DTMF_sequence&gt;,&lt;ActivateOn&gt;[/&lt;ActivatedBy&gt;],&lt;Application&gt;[,&lt;AppArguments&gt;[,MOH_Class]]
;
;  FeatureName   -&gt; This is the name of the feature used in when setting the
;                   DYNAMIC_FEATURES variable to enable usage of this feature.
;  DTMF_sequence -&gt; This is the key sequence used to activate this feature.
;  ActivateOn    -&gt; This is the channel of the call that the application will be executed
;                   on. Valid values are "self" and "peer". "self" means run the
;                   application on the same channel that activated the feature. "peer"
;                   means run the application on the opposite channel from the one that
;                   has activated the feature.
;  ActivatedBy   -&gt; This is which channel is allowed to activate this feature. Valid
;                   values are "caller", "callee", and "both". "both" is the default.
;                   The "caller" is the channel that executed the Dial application, while
;                   the "callee" is the channel called by the Dial application.
;  Application   -&gt; This is the application to execute.
;  AppArguments  -&gt; These are the arguments to be passed into the application.
;  MOH_Class     -&gt; This is the music on hold class to play while the idle
;                   channel waits for the feature to complete. If left blank,
;                   no music will be played.
;

;
; IMPORTANT NOTE: The applicationmap is not intended to be used for all Asterisk
;   applications. When applications are used in extensions.conf, they are executed
;   by the PBX core. In this case, these applications are executed outside of the
;   PBX core, so it does *not* make sense to use any application which has any
;   concept of dialplan flow. Examples of this would be things like Macro, Goto,
;   Background, WaitExten, and many more.
;
; Enabling these features means that the PBX needs to stay in the media flow and
; media will not be re-directed if DTMF is sent in the media stream.
;
; Example Usage:
;
;testfeature =&gt; #9,peer,Playback,tt-monkeys  ;Allow both the caller and callee to play
;                                            ;tt-monkeys to the opposite channel
;
;pauseMonitor   =&gt; #1,self/callee,Pausemonitor     ;Allow the callee to pause monitoring
;                                                  ;on their channel
;unpauseMonitor =&gt; #3,self/callee,UnPauseMonitor   ;Allow the callee to unpause monitoring
;                                                  ;on their channel
;
;*** Define another parking lot
;
; You can set parkinglot with the CHANNEL dialplan function
; or by setting 'parkinglot' directly in the channel configuration file.
;
;[parkinglot_edvina]
;context =&gt; edvinapark
;parkpos =&gt; 800-850
;findslot =&gt; next

; GROUPS
;   Groups are groupings of features defined in [applicationmap]
;   that can have their own key mappings.
;
; example:
; [myGroupName]        ; defines the group named myGroupName
; testfeature =&gt; #9    ; associates testfeature with the group and the keycode #9
; pauseMonitor         ; associates pauseMonitor with the group and the keycode
</pre></div> </div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed May 5 15:23:36 2010 for Asterisk - the Open Source PBX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
