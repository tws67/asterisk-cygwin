<HTML>
    <HEAD>
      <TITLE>Asterisk.org: Developer Documentation (5 May 2010)</TITLE>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<div><font size="2" align="right">Wed May 5 15:23:17 2010</font></div>

<h2>Asterisk developer's documentation</h2>
<hr/>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_318a70d4e812a718d9ecaeea98fff199.html">res</a>
  </div>
</div>
<div class="contents">
<h1>res_snmp.c File Reference</h1>
<p>SNMP Agent / SubAgent support for Asterisk.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="asterisk_8h_source.html">asterisk.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="module_8h_source.html">asterisk/module.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="agent_8h_source.html">snmp/agent.h</a>&quot;</code><br/>

<p><a href="res__snmp_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="res__snmp_8c.html#a5b62e7184a709de637eae6370501dac3">MODULE_DESCRIPTION</a>&nbsp;&nbsp;&nbsp;&quot;SNMP [Sub]Agent for Asterisk&quot;</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="res__snmp_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="res__snmp_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="res__snmp_8c.html#aed5779f84d4ebb67745d801d3ebede43">load_config</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load res_snmp.conf config file.  <a href="#aed5779f84d4ebb67745d801d3ebede43"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="res__snmp_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="res__snmp_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structast__module__info.html">ast_module_info</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="res__snmp_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="channel_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = AST_MODULE, .flags = AST_MODFLAG_GLOBAL_SYMBOLS , .<a class="el" href="callerid_8c.html#a68344fa88cf4e86b5079fd69a5c22d57">description</a> = &quot;SNMP [Sub]Agent for Asterisk&quot; , .key = &quot;This paragraph is copyright (c) 2006 by Digium, Inc. \In order for your module to load, it must return this \key via a function called \&quot;key\&quot;. Any code which \includes this paragraph must be licensed under the GNU \General Public License <a class="el" href="res__config__pgsql_8c.html#aad880fc4455c253781e8968f2239d56f">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;aefddfaffd51bc118c14a748e96eb9a0&quot; , .load = load_module, .unload = unload_module, }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structast__module__info.html">ast_module_info</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="res__snmp_8c.html#ae25b9f3970870610911f8850897e8ead">ast_module_info</a> = &amp;<a class="el" href="res__timing__timerfd_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="res__snmp_8c.html#ac500528355dcc260e9f7b74ce843641b">res_snmp_agentx_subagent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="res__snmp_8c.html#a3987e650466f9dd9c04932364da50e23">res_snmp_dont_stop</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="res__snmp_8c.html#ad9631e78cdaed5b336c4963cd77e5846">res_snmp_enabled</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static pthread_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="res__snmp_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a> = AST_PTHREADT_NULL</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>SNMP Agent / SubAgent support for Asterisk. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Thorsten Lockert &lt;<a href="mailto:tholo@voop.as">tholo@voop.as</a>&gt;</dd></dl>
<dl class="extref"><dt><b><a class="el" href="extref.html#_extref000023">ExtRef:</a></b></dt><dd>Uses the Net-SNMP libraries available at <a href="http://net-snmp.sourceforge.net/">http://net-snmp.sourceforge.net/</a> </dd></dl>

<p>Definition in file <a class="el" href="res__snmp_8c_source.html">res_snmp.c</a>.</p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a5b62e7184a709de637eae6370501dac3"></a><!-- doxytag: member="res_snmp.c::MODULE_DESCRIPTION" ref="a5b62e7184a709de637eae6370501dac3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MODULE_DESCRIPTION&nbsp;&nbsp;&nbsp;&quot;SNMP [Sub]Agent for Asterisk&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="res__snmp_8c_source.html#l00033">33</a> of file <a class="el" href="res__snmp_8c_source.html">res_snmp.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a88b7c88fed6b80fd18f34f97757dfc04"></a><!-- doxytag: member="res_snmp.c::__reg_module" ref="a88b7c88fed6b80fd18f34f97757dfc04" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="res__snmp_8c_source.html#l00121">121</a> of file <a class="el" href="res__snmp_8c_source.html">res_snmp.c</a>.</p>

</div>
</div>
<a class="anchor" id="afeab1257bd17282b95875499393a147a"></a><!-- doxytag: member="res_snmp.c::__unreg_module" ref="afeab1257bd17282b95875499393a147a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="res__snmp_8c_source.html#l00121">121</a> of file <a class="el" href="res__snmp_8c_source.html">res_snmp.c</a>.</p>

</div>
</div>
<a class="anchor" id="aed5779f84d4ebb67745d801d3ebede43"></a><!-- doxytag: member="res_snmp.c::load_config" ref="aed5779f84d4ebb67745d801d3ebede43" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int load_config </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Load res_snmp.conf config file. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 on load, 0 file does not exist </dd></dl>

<p>Definition at line <a class="el" href="res__snmp_8c_source.html#l00045">45</a> of file <a class="el" href="res__snmp_8c_source.html">res_snmp.c</a>.</p>

<p>References <a class="el" href="config_8c_source.html#l00613">ast_category_browse()</a>, <a class="el" href="config_8c_source.html#l00827">ast_config_destroy()</a>, <a class="el" href="config_8h_source.html#l00139">ast_config_load</a>, <a class="el" href="utils_8c_source.html#l01328">ast_false()</a>, <a class="el" href="logger_8c_source.html#l01090">ast_log()</a>, <a class="el" href="utils_8c_source.html#l01311">ast_true()</a>, <a class="el" href="config_8c_source.html#l00411">ast_variable_browse()</a>, <a class="el" href="config_8h_source.html#l00050">CONFIG_STATUS_FILEINVALID</a>, <a class="el" href="config_8h_source.html#l00048">CONFIG_STATUS_FILEMISSING</a>, <a class="el" href="logger_8h_source.html#l00163">LOG_ERROR</a>, <a class="el" href="logger_8h_source.html#l00152">LOG_WARNING</a>, <a class="el" href="config_8h_source.html#l00075">ast_variable::name</a>, <a class="el" href="config_8h_source.html#l00077">ast_variable::next</a>, <a class="el" href="config_8h_source.html#l00076">ast_variable::value</a>, and <a class="el" href="ast__expr2f_8c_source.html#l00613">var</a>.</p>

<p>Referenced by <a class="el" href="res__snmp_8c_source.html#l00096">load_module()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00046"></a>00046 {
<a name="l00047"></a>00047    <span class="keyword">struct </span><a class="code" href="structast__variable.html" title="Structure for variables, used for configurations and for channel variables.">ast_variable</a> *<a class="code" href="ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;
<a name="l00048"></a>00048    <span class="keyword">struct </span><a class="code" href="structast__config.html">ast_config</a> *cfg;
<a name="l00049"></a>00049    <span class="keyword">struct </span><a class="code" href="structast__flags.html" title="Structure used to handle boolean flags.">ast_flags</a> <a class="code" href="app__rpt_8c.html#a1f57f20c1f46890828791a4827fe8752">config_flags</a> = { 0 };
<a name="l00050"></a>00050    <span class="keywordtype">char</span> *cat;
<a name="l00051"></a>00051 
<a name="l00052"></a>00052    <a class="code" href="res__snmp_8c.html#ad9631e78cdaed5b336c4963cd77e5846">res_snmp_enabled</a> = 0;
<a name="l00053"></a>00053    <a class="code" href="res__snmp_8c.html#ac500528355dcc260e9f7b74ce843641b">res_snmp_agentx_subagent</a> = 1;
<a name="l00054"></a>00054    cfg = <a class="code" href="config_8h.html#a0a07ddd6bbcf44485e01c14c96109482">ast_config_load</a>(<span class="stringliteral">&quot;res_snmp.conf&quot;</span>, config_flags);
<a name="l00055"></a>00055    <span class="keywordflow">if</span> (cfg == <a class="code" href="config_8h.html#a39bacaabcacf47583204c7634e64a2a0">CONFIG_STATUS_FILEMISSING</a> || cfg == <a class="code" href="config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a>) {
<a name="l00056"></a>00056       <a class="code" href="logger_8h.html#a93dd824dff97fe84941d6d71b7a3710e" title="Used for sending a log message This is the standard logger function. Probably the...">ast_log</a>(<a class="code" href="logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not load res_snmp.conf\n&quot;</span>);
<a name="l00057"></a>00057       <span class="keywordflow">return</span> 0;
<a name="l00058"></a>00058    }
<a name="l00059"></a>00059    cat = <a class="code" href="config_8h.html#a611776300f941a63266cb220ac62b4db" title="Goes through categories.">ast_category_browse</a>(cfg, NULL);
<a name="l00060"></a>00060    <span class="keywordflow">while</span> (cat) {
<a name="l00061"></a>00061       var = <a class="code" href="config_8h.html#a935ccfa153100ddd320c8918bd6e941b" title="Goes through variables Somewhat similar in intent as the ast_category_browse. List...">ast_variable_browse</a>(cfg, cat);
<a name="l00062"></a>00062 
<a name="l00063"></a>00063       <span class="keywordflow">if</span> (strcasecmp(cat, <span class="stringliteral">&quot;general&quot;</span>) == 0) {
<a name="l00064"></a>00064          <span class="keywordflow">while</span> (var) {
<a name="l00065"></a>00065             <span class="keywordflow">if</span> (strcasecmp(var-&gt;<a class="code" href="structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;subagent&quot;</span>) == 0) {
<a name="l00066"></a>00066                <span class="keywordflow">if</span> (<a class="code" href="strings_8h.html#a387a69b3871ca31061566a73f45d20f4" title="Make sure something is true. Determine if a string containing a boolean value is...">ast_true</a>(var-&gt;<a class="code" href="structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>))
<a name="l00067"></a>00067                   <a class="code" href="res__snmp_8c.html#ac500528355dcc260e9f7b74ce843641b">res_snmp_agentx_subagent</a> = 1;
<a name="l00068"></a>00068                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="strings_8h.html#a6c3dc0bad204e9dd9890325c1c861e38" title="Make sure something is false. Determine if a string containing a boolean value is...">ast_false</a>(var-&gt;<a class="code" href="structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>))
<a name="l00069"></a>00069                   <a class="code" href="res__snmp_8c.html#ac500528355dcc260e9f7b74ce843641b">res_snmp_agentx_subagent</a> = 0;
<a name="l00070"></a>00070                <span class="keywordflow">else</span> {
<a name="l00071"></a>00071                   <a class="code" href="logger_8h.html#a93dd824dff97fe84941d6d71b7a3710e" title="Used for sending a log message This is the standard logger function. Probably the...">ast_log</a>(<a class="code" href="logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Value &apos;%s&apos; does not evaluate to true or false.\n&quot;</span>, var-&gt;<a class="code" href="structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);
<a name="l00072"></a>00072                   <a class="code" href="config_8h.html#a710f0b2a897849572b77dd0854b8dc03" title="Destroys a config.">ast_config_destroy</a>(cfg);
<a name="l00073"></a>00073                   <span class="keywordflow">return</span> 1;
<a name="l00074"></a>00074                }
<a name="l00075"></a>00075             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcasecmp(var-&gt;<a class="code" href="structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;enabled&quot;</span>) == 0) {
<a name="l00076"></a>00076                <a class="code" href="res__snmp_8c.html#ad9631e78cdaed5b336c4963cd77e5846">res_snmp_enabled</a> = <a class="code" href="strings_8h.html#a387a69b3871ca31061566a73f45d20f4" title="Make sure something is true. Determine if a string containing a boolean value is...">ast_true</a>(var-&gt;<a class="code" href="structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);
<a name="l00077"></a>00077             } <span class="keywordflow">else</span> {
<a name="l00078"></a>00078                <a class="code" href="logger_8h.html#a93dd824dff97fe84941d6d71b7a3710e" title="Used for sending a log message This is the standard logger function. Probably the...">ast_log</a>(<a class="code" href="logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unrecognized variable &apos;%s&apos; in category &apos;%s&apos;\n&quot;</span>, var-&gt;<a class="code" href="structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, cat);
<a name="l00079"></a>00079                <a class="code" href="config_8h.html#a710f0b2a897849572b77dd0854b8dc03" title="Destroys a config.">ast_config_destroy</a>(cfg);
<a name="l00080"></a>00080                <span class="keywordflow">return</span> 1;
<a name="l00081"></a>00081             }
<a name="l00082"></a>00082             var = var-&gt;<a class="code" href="structast__variable.html#a46f18867e3894852bc489a4cd9cfa516">next</a>;
<a name="l00083"></a>00083          }
<a name="l00084"></a>00084       } <span class="keywordflow">else</span> {
<a name="l00085"></a>00085          <a class="code" href="logger_8h.html#a93dd824dff97fe84941d6d71b7a3710e" title="Used for sending a log message This is the standard logger function. Probably the...">ast_log</a>(<a class="code" href="logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unrecognized category &apos;%s&apos;\n&quot;</span>, cat);
<a name="l00086"></a>00086          <a class="code" href="config_8h.html#a710f0b2a897849572b77dd0854b8dc03" title="Destroys a config.">ast_config_destroy</a>(cfg);
<a name="l00087"></a>00087          <span class="keywordflow">return</span> 1;
<a name="l00088"></a>00088       }
<a name="l00089"></a>00089 
<a name="l00090"></a>00090       cat = <a class="code" href="config_8h.html#a611776300f941a63266cb220ac62b4db" title="Goes through categories.">ast_category_browse</a>(cfg, cat);
<a name="l00091"></a>00091    }
<a name="l00092"></a>00092    <a class="code" href="config_8h.html#a710f0b2a897849572b77dd0854b8dc03" title="Destroys a config.">ast_config_destroy</a>(cfg);
<a name="l00093"></a>00093    <span class="keywordflow">return</span> 1;
<a name="l00094"></a>00094 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac3382bf6da54c56b37069bd76bbdf4f9"></a><!-- doxytag: member="res_snmp.c::load_module" ref="ac3382bf6da54c56b37069bd76bbdf4f9" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="res__snmp_8c_source.html#l00096">96</a> of file <a class="el" href="res__snmp_8c_source.html">res_snmp.c</a>.</p>

<p>References <a class="el" href="agent_8c_source.html#l00181">agent_thread()</a>, <a class="el" href="module_8h_source.html#l00062">AST_MODULE_LOAD_DECLINE</a>, <a class="el" href="utils_8h_source.html#l00384">ast_pthread_create_background</a>, <a class="el" href="logger_8h_source.html#l00220">ast_verb</a>, and <a class="el" href="res__snmp_8c_source.html#l00045">load_config()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00097"></a>00097 {
<a name="l00098"></a>00098    <span class="keywordflow">if</span>(!<a class="code" href="res__snmp_8c.html#aed5779f84d4ebb67745d801d3ebede43" title="Load res_snmp.conf config file.">load_config</a>())
<a name="l00099"></a>00099       <span class="keywordflow">return</span> <a class="code" href="module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;
<a name="l00100"></a>00100 
<a name="l00101"></a>00101    <a class="code" href="logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(1, <span class="stringliteral">&quot;Loading [Sub]Agent Module\n&quot;</span>);
<a name="l00102"></a>00102 
<a name="l00103"></a>00103    <a class="code" href="res__snmp_8c.html#a3987e650466f9dd9c04932364da50e23">res_snmp_dont_stop</a> = 1;
<a name="l00104"></a>00104    <span class="keywordflow">if</span> (<a class="code" href="res__snmp_8c.html#ad9631e78cdaed5b336c4963cd77e5846">res_snmp_enabled</a>)
<a name="l00105"></a>00105       <span class="keywordflow">return</span> <a class="code" href="utils_8h.html#a595e2f8aa398f4bd21e381c3211235fe">ast_pthread_create_background</a>(&amp;<a class="code" href="app__meetme_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a>, NULL, <a class="code" href="agent_8c.html#a96662ab2d26236962259f843c3280e84">agent_thread</a>, NULL);
<a name="l00106"></a>00106    <span class="keywordflow">else</span>
<a name="l00107"></a>00107       <span class="keywordflow">return</span> 0;
<a name="l00108"></a>00108 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad09fa931f468002152a3cc2d5ce25eae"></a><!-- doxytag: member="res_snmp.c::unload_module" ref="ad09fa931f468002152a3cc2d5ce25eae" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="res__snmp_8c_source.html#l00110">110</a> of file <a class="el" href="res__snmp_8c_source.html">res_snmp.c</a>.</p>

<p>References <a class="el" href="lock_8h_source.html#l00082">AST_PTHREADT_NULL</a>, and <a class="el" href="logger_8h_source.html#l00220">ast_verb</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00111"></a>00111 {
<a name="l00112"></a>00112    <a class="code" href="logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(1, <span class="stringliteral">&quot;Unloading [Sub]Agent Module\n&quot;</span>);
<a name="l00113"></a>00113 
<a name="l00114"></a>00114    <a class="code" href="res__snmp_8c.html#a3987e650466f9dd9c04932364da50e23">res_snmp_dont_stop</a> = 0;
<a name="l00115"></a>00115    <span class="keywordflow">return</span> ((<a class="code" href="app__meetme_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a> != <a class="code" href="lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a>) ? pthread_join(<a class="code" href="app__meetme_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a>, NULL) : 0);
<a name="l00116"></a>00116 }
</pre></div></p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ab22f32016155f7f403e7178767163d7d"></a><!-- doxytag: member="res_snmp.c::__mod_info" ref="ab22f32016155f7f403e7178767163d7d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structast__module__info.html">ast_module_info</a> <a class="el" href="res__timing__timerfd_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="channel_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = AST_MODULE, .flags = AST_MODFLAG_GLOBAL_SYMBOLS , .<a class="el" href="callerid_8c.html#a68344fa88cf4e86b5079fd69a5c22d57">description</a> = &quot;SNMP [Sub]Agent for Asterisk&quot; , .key = &quot;This paragraph is copyright (c) 2006 by Digium, Inc. \In order for your module to load, it must return this \key via a function called \&quot;key\&quot;. Any code which \includes this paragraph must be licensed under the GNU \General Public License <a class="el" href="res__config__pgsql_8c.html#aad880fc4455c253781e8968f2239d56f">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;aefddfaffd51bc118c14a748e96eb9a0&quot; , .load = load_module, .unload = unload_module, }<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="res__snmp_8c_source.html#l00121">121</a> of file <a class="el" href="res__snmp_8c_source.html">res_snmp.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae25b9f3970870610911f8850897e8ead"></a><!-- doxytag: member="res_snmp.c::ast_module_info" ref="ae25b9f3970870610911f8850897e8ead" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structast__module__info.html">ast_module_info</a>* <a class="el" href="structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="res__timing__timerfd_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="res__snmp_8c_source.html#l00121">121</a> of file <a class="el" href="res__snmp_8c_source.html">res_snmp.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac500528355dcc260e9f7b74ce843641b"></a><!-- doxytag: member="res_snmp.c::res_snmp_agentx_subagent" ref="ac500528355dcc260e9f7b74ce843641b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="agent_8h.html#ac500528355dcc260e9f7b74ce843641b">res_snmp_agentx_subagent</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="res__snmp_8c_source.html#l00035">35</a> of file <a class="el" href="res__snmp_8c_source.html">res_snmp.c</a>.</p>

<p>Referenced by <a class="el" href="agent_8c_source.html#l00181">agent_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="a3987e650466f9dd9c04932364da50e23"></a><!-- doxytag: member="res_snmp.c::res_snmp_dont_stop" ref="a3987e650466f9dd9c04932364da50e23" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="agent_8h.html#a3987e650466f9dd9c04932364da50e23">res_snmp_dont_stop</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="res__snmp_8c_source.html#l00036">36</a> of file <a class="el" href="res__snmp_8c_source.html">res_snmp.c</a>.</p>

<p>Referenced by <a class="el" href="agent_8c_source.html#l00181">agent_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="ad9631e78cdaed5b336c4963cd77e5846"></a><!-- doxytag: member="res_snmp.c::res_snmp_enabled" ref="ad9631e78cdaed5b336c4963cd77e5846" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="res__snmp_8c.html#ad9631e78cdaed5b336c4963cd77e5846">res_snmp_enabled</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="res__snmp_8c_source.html#l00037">37</a> of file <a class="el" href="res__snmp_8c_source.html">res_snmp.c</a>.</p>

</div>
</div>
<a class="anchor" id="a01f75a9ad916f63a94e06a27635ba278"></a><!-- doxytag: member="res_snmp.c::thread" ref="a01f75a9ad916f63a94e06a27635ba278" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_t <a class="el" href="res__timing__pthread_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a> = AST_PTHREADT_NULL<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="res__snmp_8c_source.html#l00039">39</a> of file <a class="el" href="res__snmp_8c_source.html">res_snmp.c</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed May 5 15:23:17 2010 for Asterisk - the Open Source PBX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
