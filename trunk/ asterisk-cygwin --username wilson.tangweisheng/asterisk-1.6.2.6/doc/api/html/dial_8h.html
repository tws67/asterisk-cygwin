<HTML>
    <HEAD>
      <TITLE>Asterisk.org: Developer Documentation (5 May 2010)</TITLE>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<div><font size="2" align="right">Wed May 5 15:21:59 2010</font></div>

<h2>Asterisk developer's documentation</h2>
<hr/>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_1ab815038f534adda65c8b4ae4993449.html">include</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_16d825f1fa9ecca2e70b1a8d9256d0e6.html">asterisk</a>
  </div>
</div>
<div class="contents">
<h1>dial.h File Reference</h1>
<p>Dialing API.  
<a href="#_details">More...</a></p>

<p><a href="dial_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#a62a62f525809227bb6736caf9392a410">ast_dial_state_callback</a> )(struct <a class="el" href="structast__dial.html">ast_dial</a> *)</td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#aaa04d25740b60e15179613e6465cff39">ast_dial_option</a> { <br/>
&nbsp;&nbsp;<a class="el" href="dial_8h.html#aaa04d25740b60e15179613e6465cff39a4a846ab9aef4f38a67fc1c30f8049731">AST_DIAL_OPTION_RINGING</a>, 
<a class="el" href="dial_8h.html#aaa04d25740b60e15179613e6465cff39a33cfbc9c99a6c908c4e9c1a9e622b9c5">AST_DIAL_OPTION_ANSWER_EXEC</a>, 
<a class="el" href="dial_8h.html#aaa04d25740b60e15179613e6465cff39a964c2af65306f7639c2eeb7efa0b9e47">AST_DIAL_OPTION_MUSIC</a>, 
<a class="el" href="dial_8h.html#aaa04d25740b60e15179613e6465cff39ae0923ba100be0c4f5bdf2f00f6ab67d5">AST_DIAL_OPTION_DISABLE_CALL_FORWARDING</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="dial_8h.html#aaa04d25740b60e15179613e6465cff39afcafca55ef52ceb3516e6e7e5e973d36">AST_DIAL_OPTION_MAX</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>List of options that are applicable either globally or per dialed channel. </p>
 <a href="dial_8h.html#aaa04d25740b60e15179613e6465cff39">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847">ast_dial_result</a> { <br/>
&nbsp;&nbsp;<a class="el" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847a33b279a6d9fd2024de7a1f3ccadda2ce">AST_DIAL_RESULT_INVALID</a>, 
<a class="el" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847a077aa090d089e32265755c7ec0f1dac2">AST_DIAL_RESULT_FAILED</a>, 
<a class="el" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847a5838a3c4774e4d0e9a7d9d3724850ae6">AST_DIAL_RESULT_TRYING</a>, 
<a class="el" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847aba600b021de0e20a6e8a6c484f27a9e4">AST_DIAL_RESULT_RINGING</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847a5cc795503d8ce3f6df21f18e7d30e24e">AST_DIAL_RESULT_PROGRESS</a>, 
<a class="el" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847ae16711939ebe81a08ebcbd8d7d0aab3d">AST_DIAL_RESULT_PROCEEDING</a>, 
<a class="el" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847a4a8c0d54e6071d1e9a36adae685406d3">AST_DIAL_RESULT_ANSWERED</a>, 
<a class="el" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847a4bd947d4e1f84bf01d336e228fb431e1">AST_DIAL_RESULT_TIMEOUT</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847a23fe48f529c8d06fa7dffc976a871a16">AST_DIAL_RESULT_HANGUP</a>, 
<a class="el" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847ae9986b09a1806d312dd5e508aee3b9ed">AST_DIAL_RESULT_UNANSWERED</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>List of return codes for dial run API calls. </p>
 <a href="dial_8h.html#a2054b1ddc7845e78286254b366a37847">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structast__channel.html">ast_channel</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#a83d13a00643c2ad0149758507df60466">ast_dial_answered</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return channel that answered.  <a href="#a83d13a00643c2ad0149758507df60466"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structast__channel.html">ast_channel</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#a390484ae7a65d0297177fc8223e6b083">ast_dial_answered_steal</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Steal the channel that answered.  <a href="#a390484ae7a65d0297177fc8223e6b083"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#abeec986e8b07f021533d46ad27715ec1">ast_dial_append</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial, const char *tech, const char *device)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Append a channel.  <a href="#abeec986e8b07f021533d46ad27715ec1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#aff55dbc56bc54126828f78a47d1f2282">ast_dial_create</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">New dialing structure.  <a href="#aff55dbc56bc54126828f78a47d1f2282"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#ab75c6f2fe91945cf61e7e91939618db2">ast_dial_destroy</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroys a dialing structure.  <a href="#ab75c6f2fe91945cf61e7e91939618db2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#a506fff5ee7e48524138135a33e75b217">ast_dial_hangup</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Hangup <a class="el" href="structchannels.html" title="the list of channels we have. Note that the lock for this list is used for both the...">channels</a>.  <a href="#a506fff5ee7e48524138135a33e75b217"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847">ast_dial_result</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#a726346c9cfd11a81839e0eb580b66059">ast_dial_join</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cancel async thread.  <a href="#a726346c9cfd11a81839e0eb580b66059"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#a511c316221a98f925a272b97169cc24c">ast_dial_option_disable</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial, int <a class="el" href="adsistub_8c.html#af6fc584548091f45267cfaf7066119bd">num</a>, enum <a class="el" href="dial_8h.html#aaa04d25740b60e15179613e6465cff39">ast_dial_option</a> option)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disables an option per channel.  <a href="#a511c316221a98f925a272b97169cc24c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#a66b79869ec9aa65c3c6ee123ec763bb8">ast_dial_option_enable</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial, int <a class="el" href="adsistub_8c.html#af6fc584548091f45267cfaf7066119bd">num</a>, enum <a class="el" href="dial_8h.html#aaa04d25740b60e15179613e6465cff39">ast_dial_option</a> option, void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enables an option per channel.  <a href="#a66b79869ec9aa65c3c6ee123ec763bb8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#a2d2d26a79acd2f84aac1ec32b3734f5a">ast_dial_option_global_disable</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial, enum <a class="el" href="dial_8h.html#aaa04d25740b60e15179613e6465cff39">ast_dial_option</a> option)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disables an option globally.  <a href="#a2d2d26a79acd2f84aac1ec32b3734f5a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#ab8b2433b581e1a73f860e4cf262a2890">ast_dial_option_global_enable</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial, enum <a class="el" href="dial_8h.html#aaa04d25740b60e15179613e6465cff39">ast_dial_option</a> option, void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enables an option globally.  <a href="#ab8b2433b581e1a73f860e4cf262a2890"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847">ast_dial_result</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#a65e30d29847af5495afe1baed823957e">ast_dial_run</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial, struct <a class="el" href="structast__channel.html">ast_channel</a> *<a class="el" href="adsistub_8c.html#a322af389d034b8f1282da0a853ffb921">chan</a>, int async)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Execute dialing synchronously or asynchronously.  <a href="#a65e30d29847af5495afe1baed823957e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#a4d113a25d55a4ad9509fd954885f1dbc">ast_dial_set_global_timeout</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial, int timeout)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the maximum time (globally) allowed for trying to ring phones.  <a href="#a4d113a25d55a4ad9509fd954885f1dbc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#a2674932599e61fe027364a09f6d68c4e">ast_dial_set_state_callback</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial, <a class="el" href="dial_8h.html#a62a62f525809227bb6736caf9392a410">ast_dial_state_callback</a> callback)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set a callback for <a class="el" href="structstate.html">state</a> changes.  <a href="#a2674932599e61fe027364a09f6d68c4e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#a9f24a118d28aa29dbd7e7420e91cfbde">ast_dial_set_timeout</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial, int <a class="el" href="adsistub_8c.html#af6fc584548091f45267cfaf7066119bd">num</a>, int timeout)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the maximum time (per channel) allowed for trying to ring the phone.  <a href="#a9f24a118d28aa29dbd7e7420e91cfbde"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847">ast_dial_result</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dial_8h.html#a051c20e595f3e3c2be10c84b4247dd37">ast_dial_state</a> (struct <a class="el" href="structast__dial.html">ast_dial</a> *dial)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return <a class="el" href="structstate.html">state</a> of dial.  <a href="#a051c20e595f3e3c2be10c84b4247dd37"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Dialing API. </p>

<p>Definition in file <a class="el" href="dial_8h_source.html">dial.h</a>.</p>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a62a62f525809227bb6736caf9392a410"></a><!-- doxytag: member="dial.h::ast_dial_state_callback" ref="a62a62f525809227bb6736caf9392a410" args=")(struct ast_dial *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="dial_8h.html#a62a62f525809227bb6736caf9392a410">ast_dial_state_callback</a>)(struct <a class="el" href="structast__dial.html">ast_dial</a> *)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dial_8h_source.html#l00036">36</a> of file <a class="el" href="dial_8h_source.html">dial.h</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="aaa04d25740b60e15179613e6465cff39"></a><!-- doxytag: member="dial.h::ast_dial_option" ref="aaa04d25740b60e15179613e6465cff39" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="dial_8h.html#aaa04d25740b60e15179613e6465cff39">ast_dial_option</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>List of options that are applicable either globally or per dialed channel. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="aaa04d25740b60e15179613e6465cff39a4a846ab9aef4f38a67fc1c30f8049731"></a><!-- doxytag: member="AST_DIAL_OPTION_RINGING" ref="aaa04d25740b60e15179613e6465cff39a4a846ab9aef4f38a67fc1c30f8049731" args="" -->AST_DIAL_OPTION_RINGING</em>&nbsp;</td><td>
<p>Always indicate ringing to caller </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aaa04d25740b60e15179613e6465cff39a33cfbc9c99a6c908c4e9c1a9e622b9c5"></a><!-- doxytag: member="AST_DIAL_OPTION_ANSWER_EXEC" ref="aaa04d25740b60e15179613e6465cff39a33cfbc9c99a6c908c4e9c1a9e622b9c5" args="" -->AST_DIAL_OPTION_ANSWER_EXEC</em>&nbsp;</td><td>
<p>Execute application upon answer in async mode </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aaa04d25740b60e15179613e6465cff39a964c2af65306f7639c2eeb7efa0b9e47"></a><!-- doxytag: member="AST_DIAL_OPTION_MUSIC" ref="aaa04d25740b60e15179613e6465cff39a964c2af65306f7639c2eeb7efa0b9e47" args="" -->AST_DIAL_OPTION_MUSIC</em>&nbsp;</td><td>
<p>Play music on hold instead of ringing to the calling channel </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aaa04d25740b60e15179613e6465cff39ae0923ba100be0c4f5bdf2f00f6ab67d5"></a><!-- doxytag: member="AST_DIAL_OPTION_DISABLE_CALL_FORWARDING" ref="aaa04d25740b60e15179613e6465cff39ae0923ba100be0c4f5bdf2f00f6ab67d5" args="" -->AST_DIAL_OPTION_DISABLE_CALL_FORWARDING</em>&nbsp;</td><td>
<p>Disable call forwarding on <a class="el" href="structchannels.html" title="the list of channels we have. Note that the lock for this list is used for both the...">channels</a> </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aaa04d25740b60e15179613e6465cff39afcafca55ef52ceb3516e6e7e5e973d36"></a><!-- doxytag: member="AST_DIAL_OPTION_MAX" ref="aaa04d25740b60e15179613e6465cff39afcafca55ef52ceb3516e6e7e5e973d36" args="" -->AST_DIAL_OPTION_MAX</em>&nbsp;</td><td>
<p>End terminator -- must always remain last </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="dial_8h_source.html#l00039">39</a> of file <a class="el" href="dial_8h_source.html">dial.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00039"></a>00039                      {
<a name="l00040"></a>00040    <a class="code" href="dial_8h.html#aaa04d25740b60e15179613e6465cff39a4a846ab9aef4f38a67fc1c30f8049731">AST_DIAL_OPTION_RINGING</a>,                 <span class="comment">/*!&lt; Always indicate ringing to caller */</span>
<a name="l00041"></a>00041    <a class="code" href="dial_8h.html#aaa04d25740b60e15179613e6465cff39a33cfbc9c99a6c908c4e9c1a9e622b9c5">AST_DIAL_OPTION_ANSWER_EXEC</a>,             <span class="comment">/*!&lt; Execute application upon answer in async mode */</span>
<a name="l00042"></a>00042    <a class="code" href="dial_8h.html#aaa04d25740b60e15179613e6465cff39a964c2af65306f7639c2eeb7efa0b9e47">AST_DIAL_OPTION_MUSIC</a>,                   <span class="comment">/*!&lt; Play music on hold instead of ringing to the calling channel */</span>
<a name="l00043"></a>00043    <a class="code" href="dial_8h.html#aaa04d25740b60e15179613e6465cff39ae0923ba100be0c4f5bdf2f00f6ab67d5">AST_DIAL_OPTION_DISABLE_CALL_FORWARDING</a>, <span class="comment">/*!&lt; Disable call forwarding on channels */</span>
<a name="l00044"></a>00044    <a class="code" href="dial_8h.html#aaa04d25740b60e15179613e6465cff39afcafca55ef52ceb3516e6e7e5e973d36">AST_DIAL_OPTION_MAX</a>,                     <span class="comment">/*!&lt; End terminator -- must always remain last */</span>
<a name="l00045"></a>00045 };
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2054b1ddc7845e78286254b366a37847"></a><!-- doxytag: member="dial.h::ast_dial_result" ref="a2054b1ddc7845e78286254b366a37847" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847">ast_dial_result</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>List of return codes for dial run API calls. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a2054b1ddc7845e78286254b366a37847a33b279a6d9fd2024de7a1f3ccadda2ce"></a><!-- doxytag: member="AST_DIAL_RESULT_INVALID" ref="a2054b1ddc7845e78286254b366a37847a33b279a6d9fd2024de7a1f3ccadda2ce" args="" -->AST_DIAL_RESULT_INVALID</em>&nbsp;</td><td>
<p>Invalid options were passed to run function </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2054b1ddc7845e78286254b366a37847a077aa090d089e32265755c7ec0f1dac2"></a><!-- doxytag: member="AST_DIAL_RESULT_FAILED" ref="a2054b1ddc7845e78286254b366a37847a077aa090d089e32265755c7ec0f1dac2" args="" -->AST_DIAL_RESULT_FAILED</em>&nbsp;</td><td>
<p>Attempts to dial failed before reaching critical <a class="el" href="structstate.html">state</a> </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2054b1ddc7845e78286254b366a37847a5838a3c4774e4d0e9a7d9d3724850ae6"></a><!-- doxytag: member="AST_DIAL_RESULT_TRYING" ref="a2054b1ddc7845e78286254b366a37847a5838a3c4774e4d0e9a7d9d3724850ae6" args="" -->AST_DIAL_RESULT_TRYING</em>&nbsp;</td><td>
<p>Currently trying to dial </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2054b1ddc7845e78286254b366a37847aba600b021de0e20a6e8a6c484f27a9e4"></a><!-- doxytag: member="AST_DIAL_RESULT_RINGING" ref="a2054b1ddc7845e78286254b366a37847aba600b021de0e20a6e8a6c484f27a9e4" args="" -->AST_DIAL_RESULT_RINGING</em>&nbsp;</td><td>
<p>Dial is presently ringing </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2054b1ddc7845e78286254b366a37847a5cc795503d8ce3f6df21f18e7d30e24e"></a><!-- doxytag: member="AST_DIAL_RESULT_PROGRESS" ref="a2054b1ddc7845e78286254b366a37847a5cc795503d8ce3f6df21f18e7d30e24e" args="" -->AST_DIAL_RESULT_PROGRESS</em>&nbsp;</td><td>
<p>Dial is presently progressing </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2054b1ddc7845e78286254b366a37847ae16711939ebe81a08ebcbd8d7d0aab3d"></a><!-- doxytag: member="AST_DIAL_RESULT_PROCEEDING" ref="a2054b1ddc7845e78286254b366a37847ae16711939ebe81a08ebcbd8d7d0aab3d" args="" -->AST_DIAL_RESULT_PROCEEDING</em>&nbsp;</td><td>
<p>Dial is presently proceeding </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2054b1ddc7845e78286254b366a37847a4a8c0d54e6071d1e9a36adae685406d3"></a><!-- doxytag: member="AST_DIAL_RESULT_ANSWERED" ref="a2054b1ddc7845e78286254b366a37847a4a8c0d54e6071d1e9a36adae685406d3" args="" -->AST_DIAL_RESULT_ANSWERED</em>&nbsp;</td><td>
<p>A channel was answered </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2054b1ddc7845e78286254b366a37847a4bd947d4e1f84bf01d336e228fb431e1"></a><!-- doxytag: member="AST_DIAL_RESULT_TIMEOUT" ref="a2054b1ddc7845e78286254b366a37847a4bd947d4e1f84bf01d336e228fb431e1" args="" -->AST_DIAL_RESULT_TIMEOUT</em>&nbsp;</td><td>
<p>Timeout was tripped, nobody answered </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2054b1ddc7845e78286254b366a37847a23fe48f529c8d06fa7dffc976a871a16"></a><!-- doxytag: member="AST_DIAL_RESULT_HANGUP" ref="a2054b1ddc7845e78286254b366a37847a23fe48f529c8d06fa7dffc976a871a16" args="" -->AST_DIAL_RESULT_HANGUP</em>&nbsp;</td><td>
<p>Caller hung up </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2054b1ddc7845e78286254b366a37847ae9986b09a1806d312dd5e508aee3b9ed"></a><!-- doxytag: member="AST_DIAL_RESULT_UNANSWERED" ref="a2054b1ddc7845e78286254b366a37847ae9986b09a1806d312dd5e508aee3b9ed" args="" -->AST_DIAL_RESULT_UNANSWERED</em>&nbsp;</td><td>
<p>Nobody answered </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="dial_8h_source.html#l00048">48</a> of file <a class="el" href="dial_8h_source.html">dial.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00048"></a>00048                      {
<a name="l00049"></a>00049    <a class="code" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847a33b279a6d9fd2024de7a1f3ccadda2ce">AST_DIAL_RESULT_INVALID</a>,     <span class="comment">/*!&lt; Invalid options were passed to run function */</span>
<a name="l00050"></a>00050    <a class="code" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847a077aa090d089e32265755c7ec0f1dac2">AST_DIAL_RESULT_FAILED</a>,      <span class="comment">/*!&lt; Attempts to dial failed before reaching critical state */</span>
<a name="l00051"></a>00051    <a class="code" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847a5838a3c4774e4d0e9a7d9d3724850ae6">AST_DIAL_RESULT_TRYING</a>,      <span class="comment">/*!&lt; Currently trying to dial */</span>
<a name="l00052"></a>00052    <a class="code" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847aba600b021de0e20a6e8a6c484f27a9e4">AST_DIAL_RESULT_RINGING</a>,     <span class="comment">/*!&lt; Dial is presently ringing */</span>
<a name="l00053"></a>00053    <a class="code" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847a5cc795503d8ce3f6df21f18e7d30e24e">AST_DIAL_RESULT_PROGRESS</a>,    <span class="comment">/*!&lt; Dial is presently progressing */</span>
<a name="l00054"></a>00054    <a class="code" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847ae16711939ebe81a08ebcbd8d7d0aab3d">AST_DIAL_RESULT_PROCEEDING</a>,  <span class="comment">/*!&lt; Dial is presently proceeding */</span>
<a name="l00055"></a>00055    <a class="code" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847a4a8c0d54e6071d1e9a36adae685406d3">AST_DIAL_RESULT_ANSWERED</a>,    <span class="comment">/*!&lt; A channel was answered */</span>
<a name="l00056"></a>00056    <a class="code" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847a4bd947d4e1f84bf01d336e228fb431e1">AST_DIAL_RESULT_TIMEOUT</a>,     <span class="comment">/*!&lt; Timeout was tripped, nobody answered */</span>
<a name="l00057"></a>00057    <a class="code" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847a23fe48f529c8d06fa7dffc976a871a16">AST_DIAL_RESULT_HANGUP</a>,      <span class="comment">/*!&lt; Caller hung up */</span>
<a name="l00058"></a>00058    <a class="code" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847ae9986b09a1806d312dd5e508aee3b9ed">AST_DIAL_RESULT_UNANSWERED</a>,  <span class="comment">/*!&lt; Nobody answered */</span>
<a name="l00059"></a>00059 };
</pre></div></p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a83d13a00643c2ad0149758507df60466"></a><!-- doxytag: member="dial.h::ast_dial_answered" ref="a83d13a00643c2ad0149758507df60466" args="(struct ast_dial *dial)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structast__channel.html">ast_channel</a>* ast_dial_answered </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="paramname"> <em>dial</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return channel that answered. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Returns the Asterisk channel that answered </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>Dialing structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="dial_8c_source.html#l00738">738</a> of file <a class="el" href="dial_8c_source.html">dial.c</a>.</p>

<p>References <a class="el" href="dial_8h_source.html#l00055">AST_DIAL_RESULT_ANSWERED</a>, <a class="el" href="linkedlists_8h_source.html#l00420">AST_LIST_FIRST</a>, <a class="el" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">ast_dial::channels</a>, and <a class="el" href="dial_8c_source.html#l00046">ast_dial::state</a>.</p>

<p>Referenced by <a class="el" href="app__meetme_8c_source.html#l05474">dial_trunk()</a>, and <a class="el" href="app__meetme_8c_source.html#l04832">sla_handle_dial_state_event()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00739"></a>00739 {
<a name="l00740"></a>00740    <span class="keywordflow">if</span> (!dial)
<a name="l00741"></a>00741       <span class="keywordflow">return</span> NULL;
<a name="l00742"></a>00742 
<a name="l00743"></a>00743    <span class="keywordflow">return</span> ((dial-&gt;<a class="code" href="structast__dial.html#a3a670bcd7064cbc9d824f354df15dbbc">state</a> == <a class="code" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847a4a8c0d54e6071d1e9a36adae685406d3">AST_DIAL_RESULT_ANSWERED</a>) ? <a class="code" href="linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5" title="Returns the first entry contained in a list.">AST_LIST_FIRST</a>(&amp;dial-&gt;<a class="code" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">channels</a>)-&gt;owner : NULL);
<a name="l00744"></a>00744 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a390484ae7a65d0297177fc8223e6b083"></a><!-- doxytag: member="dial.h::ast_dial_answered_steal" ref="a390484ae7a65d0297177fc8223e6b083" args="(struct ast_dial *dial)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structast__channel.html">ast_channel</a>* ast_dial_answered_steal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="paramname"> <em>dial</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Steal the channel that answered. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Returns the Asterisk channel that answered and removes it from the dialing structure </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>Dialing structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="dial_8c_source.html#l00750">750</a> of file <a class="el" href="dial_8c_source.html">dial.c</a>.</p>

<p>References <a class="el" href="dial_8h_source.html#l00055">AST_DIAL_RESULT_ANSWERED</a>, <a class="el" href="linkedlists_8h_source.html#l00420">AST_LIST_FIRST</a>, <a class="el" href="adsistub_8c_source.html#l00049">chan</a>, <a class="el" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">ast_dial::channels</a>, and <a class="el" href="dial_8c_source.html#l00046">ast_dial::state</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00751"></a>00751 {
<a name="l00752"></a>00752    <span class="keyword">struct </span><a class="code" href="structast__channel.html" title="Main Channel structure associated with a channel. This is the side of it mostly used...">ast_channel</a> *<a class="code" href="adsistub_8c.html#a322af389d034b8f1282da0a853ffb921">chan</a> = NULL;
<a name="l00753"></a>00753 
<a name="l00754"></a>00754    <span class="keywordflow">if</span> (!dial)
<a name="l00755"></a>00755       <span class="keywordflow">return</span> NULL;
<a name="l00756"></a>00756 
<a name="l00757"></a>00757    <span class="keywordflow">if</span> (dial-&gt;<a class="code" href="structast__dial.html#a3a670bcd7064cbc9d824f354df15dbbc">state</a> == <a class="code" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847a4a8c0d54e6071d1e9a36adae685406d3">AST_DIAL_RESULT_ANSWERED</a>) {
<a name="l00758"></a>00758       chan = <a class="code" href="linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5" title="Returns the first entry contained in a list.">AST_LIST_FIRST</a>(&amp;dial-&gt;<a class="code" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">channels</a>)-&gt;owner;
<a name="l00759"></a>00759       <a class="code" href="linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5" title="Returns the first entry contained in a list.">AST_LIST_FIRST</a>(&amp;dial-&gt;<a class="code" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">channels</a>)-&gt;owner = NULL;
<a name="l00760"></a>00760    }
<a name="l00761"></a>00761 
<a name="l00762"></a>00762    <span class="keywordflow">return</span> chan;
<a name="l00763"></a>00763 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="abeec986e8b07f021533d46ad27715ec1"></a><!-- doxytag: member="dial.h::ast_dial_append" ref="abeec986e8b07f021533d46ad27715ec1" args="(struct ast_dial *dial, const char *tech, const char *device)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_dial_append </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="paramname"> <em>dial</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>tech</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>device</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Append a channel. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Appends a channel to a dialing structure </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns channel reference <a class="el" href="structnumber.html" title="Number structure.">number</a> on success, -1 on failure </dd></dl>

<p>Definition at line <a class="el" href="dial_8c_source.html#l00226">226</a> of file <a class="el" href="dial_8c_source.html">dial.c</a>.</p>

<p>References <a class="el" href="lock_8h_source.html#l01964">ast_atomic_fetchadd_int()</a>, <a class="el" href="astmm_8h_source.html#l00072">ast_calloc</a>, <a class="el" href="linkedlists_8h_source.html#l00715">AST_LIST_INSERT_TAIL</a>, <a class="el" href="astmm_8h_source.html#l00099">ast_strdup</a>, <a class="el" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">ast_dial::channels</a>, <a class="el" href="dial_8c_source.html#l00059">ast_dial_channel::device</a>, <a class="el" href="structast__dial__channel.html#a3d198228d1677af57ec193fb0308a437">ast_dial_channel::list</a>, <a class="el" href="dial_8c_source.html#l00043">ast_dial::num</a>, <a class="el" href="dial_8c_source.html#l00056">ast_dial_channel::num</a>, <a class="el" href="dial_8c_source.html#l00058">ast_dial_channel::tech</a>, and <a class="el" href="dial_8c_source.html#l00057">ast_dial_channel::timeout</a>.</p>

<p>Referenced by <a class="el" href="app__meetme_8c_source.html#l05474">dial_trunk()</a>, <a class="el" href="app__page_8c_source.html#l00121">page_exec()</a>, and <a class="el" href="app__meetme_8c_source.html#l04944">sla_ring_station()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00227"></a>00227 {
<a name="l00228"></a>00228    <span class="keyword">struct </span><a class="code" href="structast__dial__channel.html" title="Dialing channel structure. Contains per-channel dialing options, asterisk channel...">ast_dial_channel</a> *channel = NULL;
<a name="l00229"></a>00229 
<a name="l00230"></a>00230    <span class="comment">/* Make sure we have required arguments */</span>
<a name="l00231"></a>00231    <span class="keywordflow">if</span> (!dial || !<a class="code" href="structast__dial__channel.html#aeca41cda3ae501467b8637dbb685443b">tech</a> || !<a class="code" href="structast__dial__channel.html#af2ff1e3088c734549b4c3676c5e86a22">device</a>)
<a name="l00232"></a>00232       <span class="keywordflow">return</span> -1;
<a name="l00233"></a>00233 
<a name="l00234"></a>00234    <span class="comment">/* Allocate new memory for dialed channel structure */</span>
<a name="l00235"></a>00235    <span class="keywordflow">if</span> (!(channel = <a class="code" href="astmm_8h.html#a1cb33b63d94fbbde94234b062249e015">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*channel))))
<a name="l00236"></a>00236       <span class="keywordflow">return</span> -1;
<a name="l00237"></a>00237 
<a name="l00238"></a>00238    <span class="comment">/* Record technology and device for when we actually dial */</span>
<a name="l00239"></a>00239    channel-&gt;<a class="code" href="structast__dial__channel.html#aeca41cda3ae501467b8637dbb685443b">tech</a> = <a class="code" href="astmm_8h.html#a2ef2401ade6b4b773138a82c86c40903">ast_strdup</a>(<a class="code" href="structast__dial__channel.html#aeca41cda3ae501467b8637dbb685443b">tech</a>);
<a name="l00240"></a>00240    channel-&gt;<a class="code" href="structast__dial__channel.html#af2ff1e3088c734549b4c3676c5e86a22">device</a> = <a class="code" href="astmm_8h.html#a2ef2401ade6b4b773138a82c86c40903">ast_strdup</a>(<a class="code" href="structast__dial__channel.html#af2ff1e3088c734549b4c3676c5e86a22">device</a>);
<a name="l00241"></a>00241 
<a name="l00242"></a>00242    <span class="comment">/* Grab reference number from dial structure */</span>
<a name="l00243"></a>00243    channel-&gt;<a class="code" href="structast__dial__channel.html#a86cf672daa4e0ad11ad10efc894d19c8">num</a> = <a class="code" href="lock_8h.html#a30df186a6f53f66621e88fae2e7adaf9" title="Atomically add v to *p and return * the previous value of *p. This can be used to...">ast_atomic_fetchadd_int</a>(&amp;dial-&gt;<a class="code" href="structast__dial.html#a86cf672daa4e0ad11ad10efc894d19c8">num</a>, +1);
<a name="l00244"></a>00244 
<a name="l00245"></a>00245    <span class="comment">/* No timeout exists... yet */</span>
<a name="l00246"></a>00246    channel-&gt;<a class="code" href="structast__dial__channel.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a> = -1;
<a name="l00247"></a>00247 
<a name="l00248"></a>00248    <span class="comment">/* Insert into channels list */</span>
<a name="l00249"></a>00249    <a class="code" href="linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960" title="Appends a list entry to the tail of a list.">AST_LIST_INSERT_TAIL</a>(&amp;dial-&gt;<a class="code" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">channels</a>, channel, <a class="code" href="structast__dial__channel.html#a3d198228d1677af57ec193fb0308a437">list</a>);
<a name="l00250"></a>00250 
<a name="l00251"></a>00251    <span class="keywordflow">return</span> channel-&gt;<a class="code" href="structast__dial__channel.html#a86cf672daa4e0ad11ad10efc894d19c8">num</a>;
<a name="l00252"></a>00252 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aff55dbc56bc54126828f78a47d1f2282"></a><!-- doxytag: member="dial.h::ast_dial_create" ref="aff55dbc56bc54126828f78a47d1f2282" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structast__dial.html">ast_dial</a>* ast_dial_create </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>New dialing structure. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Create a dialing structure </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns a calloc'd <a class="el" href="structast__dial.html" title="Main dialing structure. Contains global options, channels being dialed, and more!...">ast_dial</a> structure, NULL on failure </dd></dl>

<p>Definition at line <a class="el" href="dial_8c_source.html#l00198">198</a> of file <a class="el" href="dial_8c_source.html">dial.c</a>.</p>

<p>References <a class="el" href="dial_8c_source.html#l00045">ast_dial::actual_timeout</a>, <a class="el" href="astmm_8h_source.html#l00072">ast_calloc</a>, <a class="el" href="linkedlists_8h_source.html#l00610">AST_LIST_HEAD_INIT</a>, <a class="el" href="lock_8h_source.html#l01692">ast_mutex_init()</a>, <a class="el" href="lock_8h_source.html#l00082">AST_PTHREADT_NULL</a>, <a class="el" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">ast_dial::channels</a>, <a class="el" href="dial_8c_source.html#l00049">ast_dial::lock</a>, <a class="el" href="dial_8c_source.html#l00050">ast_dial::thread</a>, and <a class="el" href="dial_8c_source.html#l00044">ast_dial::timeout</a>.</p>

<p>Referenced by <a class="el" href="app__meetme_8c_source.html#l05474">dial_trunk()</a>, <a class="el" href="app__page_8c_source.html#l00121">page_exec()</a>, and <a class="el" href="app__meetme_8c_source.html#l04944">sla_ring_station()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00199"></a>00199 {
<a name="l00200"></a>00200    <span class="keyword">struct </span><a class="code" href="structast__dial.html" title="Main dialing structure. Contains global options, channels being dialed, and more!...">ast_dial</a> *dial = NULL;
<a name="l00201"></a>00201 
<a name="l00202"></a>00202    <span class="comment">/* Allocate new memory for structure */</span>
<a name="l00203"></a>00203    <span class="keywordflow">if</span> (!(dial = <a class="code" href="astmm_8h.html#a1cb33b63d94fbbde94234b062249e015">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*dial))))
<a name="l00204"></a>00204       <span class="keywordflow">return</span> NULL;
<a name="l00205"></a>00205 
<a name="l00206"></a>00206    <span class="comment">/* Initialize list of channels */</span>
<a name="l00207"></a>00207    <a class="code" href="linkedlists_8h.html#a6f42d3bf45cc9af6f794d9d1cf8c45ca" title="Initializes a list head structure.">AST_LIST_HEAD_INIT</a>(&amp;dial-&gt;<a class="code" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">channels</a>);
<a name="l00208"></a>00208 
<a name="l00209"></a>00209    <span class="comment">/* Initialize thread to NULL */</span>
<a name="l00210"></a>00210    dial-&gt;<a class="code" href="structast__dial.html#a01f75a9ad916f63a94e06a27635ba278">thread</a> = <a class="code" href="lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a>;
<a name="l00211"></a>00211 
<a name="l00212"></a>00212    <span class="comment">/* No timeout exists... yet */</span>
<a name="l00213"></a>00213    dial-&gt;<a class="code" href="structast__dial.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a> = -1;
<a name="l00214"></a>00214    dial-&gt;<a class="code" href="structast__dial.html#aea5aeed93b7ee6219a3a2bfde1d51324">actual_timeout</a> = -1;
<a name="l00215"></a>00215 
<a name="l00216"></a>00216    <span class="comment">/* Can&apos;t forget about the lock */</span>
<a name="l00217"></a>00217    <a class="code" href="lock_8h.html#a5dc895fe6e8c089175159fc22e33fc3b">ast_mutex_init</a>(&amp;dial-&gt;<a class="code" href="structast__dial.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);
<a name="l00218"></a>00218 
<a name="l00219"></a>00219    <span class="keywordflow">return</span> dial;
<a name="l00220"></a>00220 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab75c6f2fe91945cf61e7e91939618db2"></a><!-- doxytag: member="dial.h::ast_dial_destroy" ref="ab75c6f2fe91945cf61e7e91939618db2" args="(struct ast_dial *dial)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_dial_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="paramname"> <em>dial</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destroys a dialing structure. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Cancels dialing and destroys (free's) the given <a class="el" href="structast__dial.html" title="Main dialing structure. Contains global options, channels being dialed, and more!...">ast_dial</a> structure </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>Dialing structure to free </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns 0 on success, -1 on failure</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Destroys (free's) the given <a class="el" href="structast__dial.html" title="Main dialing structure. Contains global options, channels being dialed, and more!...">ast_dial</a> structure </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>Dialing structure to free </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns 0 on success, -1 on failure </dd></dl>

<p>Definition at line <a class="el" href="dial_8c_source.html#l00850">850</a> of file <a class="el" href="dial_8c_source.html">dial.c</a>.</p>

<p>References <a class="el" href="dial_8h_source.html#l00044">AST_DIAL_OPTION_MAX</a>, <a class="el" href="astmm_8h_source.html#l00087">ast_free</a>, <a class="el" href="channel_8c_source.html#l01690">ast_hangup()</a>, <a class="el" href="linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="linkedlists_8h_source.html#l00553">AST_LIST_REMOVE_CURRENT</a>, <a class="el" href="linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="linkedlists_8h_source.html#l00599">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="lock_8h_source.html#l01712">ast_mutex_destroy()</a>, <a class="el" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">ast_dial::channels</a>, <a class="el" href="dial_8c_source.html#l00059">ast_dial_channel::device</a>, <a class="el" href="dial_8c_source.html#l00167">ast_option_types::disable</a>, <a class="el" href="structast__dial__channel.html#a3d198228d1677af57ec193fb0308a437">ast_dial_channel::list</a>, <a class="el" href="dial_8c_source.html#l00049">ast_dial::lock</a>, <a class="el" href="dial_8c.html#a608f0bd7c670e126a869c85cb8d1ee62">option_types</a>, <a class="el" href="dial_8c_source.html#l00047">ast_dial::options</a>, <a class="el" href="dial_8c_source.html#l00060">ast_dial_channel::options</a>, <a class="el" href="dial_8c_source.html#l00063">ast_dial_channel::owner</a>, and <a class="el" href="dial_8c_source.html#l00058">ast_dial_channel::tech</a>.</p>

<p>Referenced by <a class="el" href="app__meetme_8c_source.html#l05474">dial_trunk()</a>, <a class="el" href="app__page_8c_source.html#l00121">page_exec()</a>, <a class="el" href="app__meetme_8c_source.html#l04673">run_station()</a>, <a class="el" href="app__meetme_8c_source.html#l05111">sla_hangup_stations()</a>, <a class="el" href="app__meetme_8c_source.html#l04944">sla_ring_station()</a>, and <a class="el" href="app__meetme_8c_source.html#l04734">sla_stop_ringing_station()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00851"></a>00851 {
<a name="l00852"></a>00852    <span class="keywordtype">int</span> i = 0;
<a name="l00853"></a>00853    <span class="keyword">struct </span><a class="code" href="structast__dial__channel.html" title="Dialing channel structure. Contains per-channel dialing options, asterisk channel...">ast_dial_channel</a> *channel = NULL;
<a name="l00854"></a>00854 
<a name="l00855"></a>00855    <span class="keywordflow">if</span> (!dial)
<a name="l00856"></a>00856       <span class="keywordflow">return</span> -1;
<a name="l00857"></a>00857    
<a name="l00858"></a>00858    <span class="comment">/* Hangup and deallocate all the dialed channels */</span>
<a name="l00859"></a>00859    <a class="code" href="linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40" title="Locks a list.">AST_LIST_LOCK</a>(&amp;dial-&gt;<a class="code" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">channels</a>);
<a name="l00860"></a>00860    <a class="code" href="linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d" title="Loops safely over (traverses) the entries in a list.">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(&amp;dial-&gt;<a class="code" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">channels</a>, channel, <a class="code" href="structast__dial__channel.html#a3d198228d1677af57ec193fb0308a437">list</a>) {
<a name="l00861"></a>00861       <span class="comment">/* Disable any enabled options */</span>
<a name="l00862"></a>00862       <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="dial_8h.html#aaa04d25740b60e15179613e6465cff39afcafca55ef52ceb3516e6e7e5e973d36">AST_DIAL_OPTION_MAX</a>; i++) {
<a name="l00863"></a>00863          <span class="keywordflow">if</span> (!channel-&gt;<a class="code" href="structast__dial__channel.html#ae1516f7934769c5229ac2cf518946161">options</a>[i])
<a name="l00864"></a>00864             <span class="keywordflow">continue</span>;
<a name="l00865"></a>00865          <span class="keywordflow">if</span> (<a class="code" href="dial_8c.html#a608f0bd7c670e126a869c85cb8d1ee62" title="Options structure - maps options to respective handlers (enable/disable). This list...">option_types</a>[i].disable)
<a name="l00866"></a>00866             <a class="code" href="dial_8c.html#a608f0bd7c670e126a869c85cb8d1ee62" title="Options structure - maps options to respective handlers (enable/disable). This list...">option_types</a>[i].<a class="code" href="structast__option__types.html#aa87053407402293cab685d52cfd5a5b6">disable</a>(channel-&gt;<a class="code" href="structast__dial__channel.html#ae1516f7934769c5229ac2cf518946161">options</a>[i]);
<a name="l00867"></a>00867          channel-&gt;<a class="code" href="structast__dial__channel.html#ae1516f7934769c5229ac2cf518946161">options</a>[i] = NULL;
<a name="l00868"></a>00868       }
<a name="l00869"></a>00869       <span class="comment">/* Hang up channel if need be */</span>
<a name="l00870"></a>00870       <span class="keywordflow">if</span> (channel-&gt;<a class="code" href="structast__dial__channel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {
<a name="l00871"></a>00871          <a class="code" href="channel_8h.html#a8f2c0f3dcafbc3a74d84a8dddcce6b9c" title="Hang up a channel.">ast_hangup</a>(channel-&gt;<a class="code" href="structast__dial__channel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>);
<a name="l00872"></a>00872          channel-&gt;<a class="code" href="structast__dial__channel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a> = NULL;
<a name="l00873"></a>00873       }
<a name="l00874"></a>00874       <span class="comment">/* Free structure */</span>
<a name="l00875"></a>00875       <a class="code" href="astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(channel-&gt;<a class="code" href="structast__dial__channel.html#aeca41cda3ae501467b8637dbb685443b">tech</a>);
<a name="l00876"></a>00876       <a class="code" href="astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(channel-&gt;<a class="code" href="structast__dial__channel.html#af2ff1e3088c734549b4c3676c5e86a22">device</a>);
<a name="l00877"></a>00877       <a class="code" href="linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c" title="Removes the current entry from a list during a traversal.">AST_LIST_REMOVE_CURRENT</a>(<a class="code" href="structast__dial__channel.html#a3d198228d1677af57ec193fb0308a437">list</a>);
<a name="l00878"></a>00878       <a class="code" href="astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(channel);
<a name="l00879"></a>00879    }
<a name="l00880"></a>00880    <a class="code" href="linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9" title="Closes a safe loop traversal block.">AST_LIST_TRAVERSE_SAFE_END</a>;
<a name="l00881"></a>00881    <a class="code" href="linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01" title="Attempts to unlock a list.">AST_LIST_UNLOCK</a>(&amp;dial-&gt;<a class="code" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">channels</a>);
<a name="l00882"></a>00882  
<a name="l00883"></a>00883    <span class="comment">/* Disable any enabled options globally */</span>
<a name="l00884"></a>00884    <span class="keywordflow">for</span> (i = 0; i &lt; AST_DIAL_OPTION_MAX; i++) {
<a name="l00885"></a>00885       <span class="keywordflow">if</span> (!dial-&gt;<a class="code" href="structast__dial.html#ae1516f7934769c5229ac2cf518946161">options</a>[i])
<a name="l00886"></a>00886          <span class="keywordflow">continue</span>;
<a name="l00887"></a>00887       <span class="keywordflow">if</span> (<a class="code" href="dial_8c.html#a608f0bd7c670e126a869c85cb8d1ee62" title="Options structure - maps options to respective handlers (enable/disable). This list...">option_types</a>[i].disable)
<a name="l00888"></a>00888          <a class="code" href="dial_8c.html#a608f0bd7c670e126a869c85cb8d1ee62" title="Options structure - maps options to respective handlers (enable/disable). This list...">option_types</a>[i].<a class="code" href="structast__option__types.html#aa87053407402293cab685d52cfd5a5b6">disable</a>(dial-&gt;<a class="code" href="structast__dial.html#ae1516f7934769c5229ac2cf518946161">options</a>[i]);
<a name="l00889"></a>00889       dial-&gt;<a class="code" href="structast__dial.html#ae1516f7934769c5229ac2cf518946161">options</a>[i] = NULL;
<a name="l00890"></a>00890    }
<a name="l00891"></a>00891 
<a name="l00892"></a>00892    <span class="comment">/* Lock be gone! */</span>
<a name="l00893"></a>00893    <a class="code" href="lock_8h.html#ab237e70b569019bfb490ab0c3c09b8c5">ast_mutex_destroy</a>(&amp;dial-&gt;<a class="code" href="structast__dial.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);
<a name="l00894"></a>00894 
<a name="l00895"></a>00895    <span class="comment">/* Free structure */</span>
<a name="l00896"></a>00896    <a class="code" href="astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(dial);
<a name="l00897"></a>00897 
<a name="l00898"></a>00898    <span class="keywordflow">return</span> 0;
<a name="l00899"></a>00899 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a506fff5ee7e48524138135a33e75b217"></a><!-- doxytag: member="dial.h::ast_dial_hangup" ref="a506fff5ee7e48524138135a33e75b217" args="(struct ast_dial *dial)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_dial_hangup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="paramname"> <em>dial</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Hangup <a class="el" href="structchannels.html" title="the list of channels we have. Note that the lock for this list is used for both the...">channels</a>. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Hangup all active <a class="el" href="structchannels.html" title="the list of channels we have. Note that the lock for this list is used for both the...">channels</a> </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>Dialing structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="dial_8c_source.html#l00826">826</a> of file <a class="el" href="dial_8c_source.html">dial.c</a>.</p>

<p>References <a class="el" href="channel_8c_source.html#l01690">ast_hangup()</a>, <a class="el" href="linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">ast_dial::channels</a>, <a class="el" href="structast__dial__channel.html#a3d198228d1677af57ec193fb0308a437">ast_dial_channel::list</a>, and <a class="el" href="dial_8c_source.html#l00063">ast_dial_channel::owner</a>.</p>

<p>Referenced by <a class="el" href="dial_8c_source.html#l00698">ast_dial_run()</a>, and <a class="el" href="app__page_8c_source.html#l00121">page_exec()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00827"></a>00827 {
<a name="l00828"></a>00828    <span class="keyword">struct </span><a class="code" href="structast__dial__channel.html" title="Dialing channel structure. Contains per-channel dialing options, asterisk channel...">ast_dial_channel</a> *channel = NULL;
<a name="l00829"></a>00829 
<a name="l00830"></a>00830    <span class="keywordflow">if</span> (!dial)
<a name="l00831"></a>00831       <span class="keywordflow">return</span>;
<a name="l00832"></a>00832    
<a name="l00833"></a>00833    <a class="code" href="linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40" title="Locks a list.">AST_LIST_LOCK</a>(&amp;dial-&gt;<a class="code" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">channels</a>);
<a name="l00834"></a>00834    <a class="code" href="linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef" title="Loops over (traverses) the entries in a list.">AST_LIST_TRAVERSE</a>(&amp;dial-&gt;<a class="code" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">channels</a>, channel, <a class="code" href="structast__dial__channel.html#a3d198228d1677af57ec193fb0308a437">list</a>) {
<a name="l00835"></a>00835       <span class="keywordflow">if</span> (channel-&gt;<a class="code" href="structast__dial__channel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {
<a name="l00836"></a>00836          <a class="code" href="channel_8h.html#a8f2c0f3dcafbc3a74d84a8dddcce6b9c" title="Hang up a channel.">ast_hangup</a>(channel-&gt;<a class="code" href="structast__dial__channel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>);
<a name="l00837"></a>00837          channel-&gt;<a class="code" href="structast__dial__channel.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a> = NULL;
<a name="l00838"></a>00838       }
<a name="l00839"></a>00839    }
<a name="l00840"></a>00840    <a class="code" href="linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01" title="Attempts to unlock a list.">AST_LIST_UNLOCK</a>(&amp;dial-&gt;<a class="code" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">channels</a>);
<a name="l00841"></a>00841 
<a name="l00842"></a>00842    <span class="keywordflow">return</span>;
<a name="l00843"></a>00843 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a726346c9cfd11a81839e0eb580b66059"></a><!-- doxytag: member="dial.h::ast_dial_join" ref="a726346c9cfd11a81839e0eb580b66059" args="(struct ast_dial *dial)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847">ast_dial_result</a> ast_dial_join </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="paramname"> <em>dial</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cancel async thread. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Cancel a running async thread </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>Dialing structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="dial_8c_source.html#l00778">778</a> of file <a class="el" href="dial_8c_source.html">dial.c</a>.</p>

<p>References <a class="el" href="lock_8h_source.html#l02031">ast_channel_lock</a>, <a class="el" href="lock_8h_source.html#l02034">ast_channel_unlock</a>, <a class="el" href="dial_8h_source.html#l00050">AST_DIAL_RESULT_FAILED</a>, <a class="el" href="linkedlists_8h_source.html#l00420">AST_LIST_FIRST</a>, <a class="el" href="linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="lock_8h_source.html#l01717">ast_mutex_lock()</a>, <a class="el" href="lock_8h_source.html#l01707">ast_mutex_unlock()</a>, <a class="el" href="lock_8h_source.html#l00082">AST_PTHREADT_NULL</a>, <a class="el" href="lock_8h_source.html#l00083">AST_PTHREADT_STOP</a>, <a class="el" href="channel_8c_source.html#l01666">ast_softhangup()</a>, <a class="el" href="channel_8h_source.html#l00639">AST_SOFTHANGUP_EXPLICIT</a>, <a class="el" href="adsistub_8c_source.html#l00049">chan</a>, <a class="el" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">ast_dial::channels</a>, <a class="el" href="dial_8c_source.html#l00049">ast_dial::lock</a>, <a class="el" href="dial_8c_source.html#l00046">ast_dial::state</a>, and <a class="el" href="dial_8c_source.html#l00050">ast_dial::thread</a>.</p>

<p>Referenced by <a class="el" href="app__meetme_8c_source.html#l05474">dial_trunk()</a>, <a class="el" href="app__page_8c_source.html#l00121">page_exec()</a>, <a class="el" href="app__meetme_8c_source.html#l04673">run_station()</a>, <a class="el" href="app__meetme_8c_source.html#l05111">sla_hangup_stations()</a>, <a class="el" href="app__meetme_8c_source.html#l04944">sla_ring_station()</a>, and <a class="el" href="app__meetme_8c_source.html#l04734">sla_stop_ringing_station()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00779"></a>00779 {
<a name="l00780"></a>00780    pthread_t <a class="code" href="app__meetme_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a>;
<a name="l00781"></a>00781 
<a name="l00782"></a>00782    <span class="comment">/* If the dial structure is not running in async, return failed */</span>
<a name="l00783"></a>00783    <span class="keywordflow">if</span> (dial-&gt;<a class="code" href="structast__dial.html#a01f75a9ad916f63a94e06a27635ba278">thread</a> == <a class="code" href="lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a>)
<a name="l00784"></a>00784       <span class="keywordflow">return</span> <a class="code" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847a077aa090d089e32265755c7ec0f1dac2">AST_DIAL_RESULT_FAILED</a>;
<a name="l00785"></a>00785 
<a name="l00786"></a>00786    <span class="comment">/* Record thread */</span>
<a name="l00787"></a>00787    thread = dial-&gt;<a class="code" href="structast__dial.html#a01f75a9ad916f63a94e06a27635ba278">thread</a>;
<a name="l00788"></a>00788 
<a name="l00789"></a>00789    <span class="comment">/* Boom, commence locking */</span>
<a name="l00790"></a>00790    <a class="code" href="lock_8h.html#ad941566de4050aa7358493af94d2ba4d">ast_mutex_lock</a>(&amp;dial-&gt;<a class="code" href="structast__dial.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);
<a name="l00791"></a>00791 
<a name="l00792"></a>00792    <span class="comment">/* Stop the thread */</span>
<a name="l00793"></a>00793    dial-&gt;<a class="code" href="structast__dial.html#a01f75a9ad916f63a94e06a27635ba278">thread</a> = <a class="code" href="lock_8h.html#a873a83eb8196323194aac2bea23d794e">AST_PTHREADT_STOP</a>;
<a name="l00794"></a>00794 
<a name="l00795"></a>00795    <span class="comment">/* If the answered channel is running an application we have to soft hangup it, can&apos;t just poke the thread */</span>
<a name="l00796"></a>00796    <a class="code" href="linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40" title="Locks a list.">AST_LIST_LOCK</a>(&amp;dial-&gt;<a class="code" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">channels</a>);
<a name="l00797"></a>00797    <span class="keywordflow">if</span> (<a class="code" href="linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5" title="Returns the first entry contained in a list.">AST_LIST_FIRST</a>(&amp;dial-&gt;<a class="code" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">channels</a>)-&gt;is_running_app) {
<a name="l00798"></a>00798       <span class="keyword">struct </span><a class="code" href="structast__channel.html" title="Main Channel structure associated with a channel. This is the side of it mostly used...">ast_channel</a> *<a class="code" href="adsistub_8c.html#a322af389d034b8f1282da0a853ffb921">chan</a> = <a class="code" href="linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5" title="Returns the first entry contained in a list.">AST_LIST_FIRST</a>(&amp;dial-&gt;<a class="code" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">channels</a>)-&gt;owner;
<a name="l00799"></a>00799       <span class="keywordflow">if</span> (chan) {
<a name="l00800"></a>00800          <a class="code" href="lock_8h.html#acbcec0b11bb6e43e0ebcd82828bc8684" title="Lock a channel. If DEBUG_CHANNEL_LOCKS is defined in the Makefile, print relevant...">ast_channel_lock</a>(chan);
<a name="l00801"></a>00801          <a class="code" href="channel_8h.html#ac2d6607253f7e8b272d4e845474eaa9b" title="Softly hangup up a channel.">ast_softhangup</a>(chan, <a class="code" href="channel_8h.html#a2dbb833ef0dcc466dd02ee76badaf709a2b3b711afc65059c4b51008c9fbc7aee">AST_SOFTHANGUP_EXPLICIT</a>);
<a name="l00802"></a>00802          <a class="code" href="lock_8h.html#a853c07107a1385c83c5d2a0ab7e01d79" title="Unlock a channel. If DEBUG_CHANNEL_LOCKS is defined in the Makefile, print relevant...">ast_channel_unlock</a>(chan);
<a name="l00803"></a>00803       }
<a name="l00804"></a>00804    } <span class="keywordflow">else</span> {
<a name="l00805"></a>00805       <span class="comment">/* Now we signal it with SIGURG so it will break out of it&apos;s waitfor */</span>
<a name="l00806"></a>00806       pthread_kill(thread, SIGURG);
<a name="l00807"></a>00807    }
<a name="l00808"></a>00808    <a class="code" href="linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01" title="Attempts to unlock a list.">AST_LIST_UNLOCK</a>(&amp;dial-&gt;<a class="code" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">channels</a>);
<a name="l00809"></a>00809 
<a name="l00810"></a>00810    <span class="comment">/* Yay done with it */</span>
<a name="l00811"></a>00811    <a class="code" href="lock_8h.html#aa9b39f0e22f44a7e7f587d4252e41a0b">ast_mutex_unlock</a>(&amp;dial-&gt;<a class="code" href="structast__dial.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);
<a name="l00812"></a>00812 
<a name="l00813"></a>00813    <span class="comment">/* Finally wait for the thread to exit */</span>
<a name="l00814"></a>00814    pthread_join(thread, NULL);
<a name="l00815"></a>00815 
<a name="l00816"></a>00816    <span class="comment">/* Yay thread is all gone */</span>
<a name="l00817"></a>00817    dial-&gt;<a class="code" href="structast__dial.html#a01f75a9ad916f63a94e06a27635ba278">thread</a> = <a class="code" href="lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a>;
<a name="l00818"></a>00818 
<a name="l00819"></a>00819    <span class="keywordflow">return</span> dial-&gt;<a class="code" href="structast__dial.html#a3a670bcd7064cbc9d824f354df15dbbc">state</a>;
<a name="l00820"></a>00820 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a511c316221a98f925a272b97169cc24c"></a><!-- doxytag: member="dial.h::ast_dial_option_disable" ref="a511c316221a98f925a272b97169cc24c" args="(struct ast_dial *dial, int num, enum ast_dial_option option)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_dial_option_disable </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="paramname"> <em>dial</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="dial_8h.html#aaa04d25740b60e15179613e6465cff39">ast_dial_option</a>&nbsp;</td>
          <td class="paramname"> <em>option</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disables an option per channel. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>Dial structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num</em>&nbsp;</td><td>Channel <a class="el" href="structnumber.html" title="Number structure.">number</a> to disable option on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>option</em>&nbsp;</td><td>Option to disable </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns 0 on success, -1 on failure </dd></dl>

<p>Definition at line <a class="el" href="dial_8c_source.html#l01002">1002</a> of file <a class="el" href="dial_8c_source.html">dial.c</a>.</p>

<p>References <a class="el" href="linkedlists_8h_source.html#l00449">AST_LIST_EMPTY</a>, <a class="el" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">ast_dial::channels</a>, <a class="el" href="dial_8c_source.html#l00167">ast_option_types::disable</a>, <a class="el" href="dial_8c_source.html#l00924">find_dial_channel()</a>, <a class="el" href="dial_8c.html#a608f0bd7c670e126a869c85cb8d1ee62">option_types</a>, and <a class="el" href="dial_8c_source.html#l00060">ast_dial_channel::options</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01003"></a>01003 {
<a name="l01004"></a>01004    <span class="keyword">struct </span><a class="code" href="structast__dial__channel.html" title="Dialing channel structure. Contains per-channel dialing options, asterisk channel...">ast_dial_channel</a> *channel = NULL;
<a name="l01005"></a>01005 
<a name="l01006"></a>01006    <span class="comment">/* Ensure we have required arguments */</span>
<a name="l01007"></a>01007    <span class="keywordflow">if</span> (!dial || <a class="code" href="linkedlists_8h.html#a4a1884cde93e53bef32ca85c194a1d05" title="Checks whether the specified list contains any entries.">AST_LIST_EMPTY</a>(&amp;dial-&gt;<a class="code" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">channels</a>))
<a name="l01008"></a>01008       <span class="keywordflow">return</span> -1;
<a name="l01009"></a>01009 
<a name="l01010"></a>01010    <span class="keywordflow">if</span> (!(channel = <a class="code" href="dial_8c.html#a38a1ee5eeee1705cc0c5faa72164d004" title="Helper function for finding a channel in a dial structure based on number.">find_dial_channel</a>(dial, <a class="code" href="adsistub_8c.html#af6fc584548091f45267cfaf7066119bd">num</a>)))
<a name="l01011"></a>01011       <span class="keywordflow">return</span> -1;
<a name="l01012"></a>01012 
<a name="l01013"></a>01013    <span class="comment">/* If the option is not enabled, return failure */</span>
<a name="l01014"></a>01014    <span class="keywordflow">if</span> (!channel-&gt;<a class="code" href="structast__dial__channel.html#ae1516f7934769c5229ac2cf518946161">options</a>[option])
<a name="l01015"></a>01015       <span class="keywordflow">return</span> -1;
<a name="l01016"></a>01016 
<a name="l01017"></a>01017    <span class="comment">/* Execute callback of option to disable it if it exists */</span>
<a name="l01018"></a>01018    <span class="keywordflow">if</span> (<a class="code" href="dial_8c.html#a608f0bd7c670e126a869c85cb8d1ee62" title="Options structure - maps options to respective handlers (enable/disable). This list...">option_types</a>[option].disable)
<a name="l01019"></a>01019       <a class="code" href="dial_8c.html#a608f0bd7c670e126a869c85cb8d1ee62" title="Options structure - maps options to respective handlers (enable/disable). This list...">option_types</a>[option].<a class="code" href="structast__option__types.html#aa87053407402293cab685d52cfd5a5b6">disable</a>(channel-&gt;<a class="code" href="structast__dial__channel.html#ae1516f7934769c5229ac2cf518946161">options</a>[option]);
<a name="l01020"></a>01020 
<a name="l01021"></a>01021    <span class="comment">/* Finally disable the option on the structure */</span>
<a name="l01022"></a>01022    channel-&gt;<a class="code" href="structast__dial__channel.html#ae1516f7934769c5229ac2cf518946161">options</a>[option] = NULL;
<a name="l01023"></a>01023 
<a name="l01024"></a>01024    <span class="keywordflow">return</span> 0;
<a name="l01025"></a>01025 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a66b79869ec9aa65c3c6ee123ec763bb8"></a><!-- doxytag: member="dial.h::ast_dial_option_enable" ref="a66b79869ec9aa65c3c6ee123ec763bb8" args="(struct ast_dial *dial, int num, enum ast_dial_option option, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_dial_option_enable </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="paramname"> <em>dial</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="dial_8h.html#aaa04d25740b60e15179613e6465cff39">ast_dial_option</a>&nbsp;</td>
          <td class="paramname"> <em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enables an option per channel. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>Dial structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num</em>&nbsp;</td><td>Channel <a class="el" href="structnumber.html" title="Number structure.">number</a> to enable option on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>option</em>&nbsp;</td><td>Option to enable </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Data to pass to this option (not always needed) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns 0 on success, -1 on failure </dd></dl>

<p>Definition at line <a class="el" href="dial_8c_source.html#l00950">950</a> of file <a class="el" href="dial_8c_source.html">dial.c</a>.</p>

<p>References <a class="el" href="linkedlists_8h_source.html#l00449">AST_LIST_EMPTY</a>, <a class="el" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">ast_dial::channels</a>, <a class="el" href="dial_8c_source.html#l00166">ast_option_types::enable</a>, <a class="el" href="dial_8c_source.html#l00924">find_dial_channel()</a>, <a class="el" href="dial_8c.html#a608f0bd7c670e126a869c85cb8d1ee62">option_types</a>, and <a class="el" href="dial_8c_source.html#l00060">ast_dial_channel::options</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00951"></a>00951 {
<a name="l00952"></a>00952    <span class="keyword">struct </span><a class="code" href="structast__dial__channel.html" title="Dialing channel structure. Contains per-channel dialing options, asterisk channel...">ast_dial_channel</a> *channel = NULL;
<a name="l00953"></a>00953 
<a name="l00954"></a>00954    <span class="comment">/* Ensure we have required arguments */</span>
<a name="l00955"></a>00955    <span class="keywordflow">if</span> (!dial || <a class="code" href="linkedlists_8h.html#a4a1884cde93e53bef32ca85c194a1d05" title="Checks whether the specified list contains any entries.">AST_LIST_EMPTY</a>(&amp;dial-&gt;<a class="code" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">channels</a>))
<a name="l00956"></a>00956       <span class="keywordflow">return</span> -1;
<a name="l00957"></a>00957 
<a name="l00958"></a>00958    <span class="keywordflow">if</span> (!(channel = <a class="code" href="dial_8c.html#a38a1ee5eeee1705cc0c5faa72164d004" title="Helper function for finding a channel in a dial structure based on number.">find_dial_channel</a>(dial, <a class="code" href="adsistub_8c.html#af6fc584548091f45267cfaf7066119bd">num</a>)))
<a name="l00959"></a>00959       <span class="keywordflow">return</span> -1;
<a name="l00960"></a>00960 
<a name="l00961"></a>00961    <span class="comment">/* If the option is already enabled, return failure */</span>
<a name="l00962"></a>00962    <span class="keywordflow">if</span> (channel-&gt;<a class="code" href="structast__dial__channel.html#ae1516f7934769c5229ac2cf518946161">options</a>[option])
<a name="l00963"></a>00963       <span class="keywordflow">return</span> -1;
<a name="l00964"></a>00964 
<a name="l00965"></a>00965    <span class="comment">/* Execute enable callback if it exists, if not simply make sure the value is set */</span>
<a name="l00966"></a>00966    <span class="keywordflow">if</span> (<a class="code" href="dial_8c.html#a608f0bd7c670e126a869c85cb8d1ee62" title="Options structure - maps options to respective handlers (enable/disable). This list...">option_types</a>[option].enable)
<a name="l00967"></a>00967       channel-&gt;<a class="code" href="structast__dial__channel.html#ae1516f7934769c5229ac2cf518946161">options</a>[option] = <a class="code" href="dial_8c.html#a608f0bd7c670e126a869c85cb8d1ee62" title="Options structure - maps options to respective handlers (enable/disable). This list...">option_types</a>[option].<a class="code" href="structast__option__types.html#a9ca8c29a44a648bc06296aae34e14e36">enable</a>(data);
<a name="l00968"></a>00968    <span class="keywordflow">else</span>
<a name="l00969"></a>00969       channel-&gt;<a class="code" href="structast__dial__channel.html#ae1516f7934769c5229ac2cf518946161">options</a>[option] = (<span class="keywordtype">void</span>*)1;
<a name="l00970"></a>00970 
<a name="l00971"></a>00971    <span class="keywordflow">return</span> 0;
<a name="l00972"></a>00972 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2d2d26a79acd2f84aac1ec32b3734f5a"></a><!-- doxytag: member="dial.h::ast_dial_option_global_disable" ref="a2d2d26a79acd2f84aac1ec32b3734f5a" args="(struct ast_dial *dial, enum ast_dial_option option)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_dial_option_global_disable </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="paramname"> <em>dial</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="dial_8h.html#aaa04d25740b60e15179613e6465cff39">ast_dial_option</a>&nbsp;</td>
          <td class="paramname"> <em>option</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disables an option globally. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>Dial structure to disable option on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>option</em>&nbsp;</td><td>Option to disable </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns 0 on success, -1 on failure </dd></dl>

<p>Definition at line <a class="el" href="dial_8c_source.html#l00979">979</a> of file <a class="el" href="dial_8c_source.html">dial.c</a>.</p>

<p>References <a class="el" href="dial_8c_source.html#l00167">ast_option_types::disable</a>, <a class="el" href="dial_8c.html#a608f0bd7c670e126a869c85cb8d1ee62">option_types</a>, and <a class="el" href="dial_8c_source.html#l00047">ast_dial::options</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00980"></a>00980 {
<a name="l00981"></a>00981    <span class="comment">/* If the option is not enabled, return failure */</span>
<a name="l00982"></a>00982    <span class="keywordflow">if</span> (!dial-&gt;<a class="code" href="structast__dial.html#ae1516f7934769c5229ac2cf518946161">options</a>[option]) {
<a name="l00983"></a>00983       <span class="keywordflow">return</span> -1;
<a name="l00984"></a>00984    }
<a name="l00985"></a>00985 
<a name="l00986"></a>00986    <span class="comment">/* Execute callback of option to disable if it exists */</span>
<a name="l00987"></a>00987    <span class="keywordflow">if</span> (<a class="code" href="dial_8c.html#a608f0bd7c670e126a869c85cb8d1ee62" title="Options structure - maps options to respective handlers (enable/disable). This list...">option_types</a>[option].disable)
<a name="l00988"></a>00988       <a class="code" href="dial_8c.html#a608f0bd7c670e126a869c85cb8d1ee62" title="Options structure - maps options to respective handlers (enable/disable). This list...">option_types</a>[option].<a class="code" href="structast__option__types.html#aa87053407402293cab685d52cfd5a5b6">disable</a>(dial-&gt;<a class="code" href="structast__dial.html#ae1516f7934769c5229ac2cf518946161">options</a>[option]);
<a name="l00989"></a>00989 
<a name="l00990"></a>00990    <span class="comment">/* Finally disable option on the structure */</span>
<a name="l00991"></a>00991    dial-&gt;<a class="code" href="structast__dial.html#ae1516f7934769c5229ac2cf518946161">options</a>[option] = NULL;
<a name="l00992"></a>00992 
<a name="l00993"></a>00993    <span class="keywordflow">return</span> 0;
<a name="l00994"></a>00994 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab8b2433b581e1a73f860e4cf262a2890"></a><!-- doxytag: member="dial.h::ast_dial_option_global_enable" ref="ab8b2433b581e1a73f860e4cf262a2890" args="(struct ast_dial *dial, enum ast_dial_option option, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_dial_option_global_enable </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="paramname"> <em>dial</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="dial_8h.html#aaa04d25740b60e15179613e6465cff39">ast_dial_option</a>&nbsp;</td>
          <td class="paramname"> <em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enables an option globally. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>Dial structure to enable option on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>option</em>&nbsp;</td><td>Option to enable </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Data to pass to this option (not always needed) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns 0 on success, -1 on failure </dd></dl>

<p>Definition at line <a class="el" href="dial_8c_source.html#l00907">907</a> of file <a class="el" href="dial_8c_source.html">dial.c</a>.</p>

<p>References <a class="el" href="dial_8c_source.html#l00166">ast_option_types::enable</a>, <a class="el" href="dial_8c.html#a608f0bd7c670e126a869c85cb8d1ee62">option_types</a>, and <a class="el" href="dial_8c_source.html#l00047">ast_dial::options</a>.</p>

<p>Referenced by <a class="el" href="app__page_8c_source.html#l00121">page_exec()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00908"></a>00908 {
<a name="l00909"></a>00909    <span class="comment">/* If the option is already enabled, return failure */</span>
<a name="l00910"></a>00910    <span class="keywordflow">if</span> (dial-&gt;<a class="code" href="structast__dial.html#ae1516f7934769c5229ac2cf518946161">options</a>[option])
<a name="l00911"></a>00911       <span class="keywordflow">return</span> -1;
<a name="l00912"></a>00912 
<a name="l00913"></a>00913    <span class="comment">/* Execute enable callback if it exists, if not simply make sure the value is set */</span>
<a name="l00914"></a>00914    <span class="keywordflow">if</span> (<a class="code" href="dial_8c.html#a608f0bd7c670e126a869c85cb8d1ee62" title="Options structure - maps options to respective handlers (enable/disable). This list...">option_types</a>[option].enable)
<a name="l00915"></a>00915       dial-&gt;<a class="code" href="structast__dial.html#ae1516f7934769c5229ac2cf518946161">options</a>[option] = <a class="code" href="dial_8c.html#a608f0bd7c670e126a869c85cb8d1ee62" title="Options structure - maps options to respective handlers (enable/disable). This list...">option_types</a>[option].<a class="code" href="structast__option__types.html#a9ca8c29a44a648bc06296aae34e14e36">enable</a>(data);
<a name="l00916"></a>00916    <span class="keywordflow">else</span>
<a name="l00917"></a>00917       dial-&gt;<a class="code" href="structast__dial.html#ae1516f7934769c5229ac2cf518946161">options</a>[option] = (<span class="keywordtype">void</span>*)1;
<a name="l00918"></a>00918 
<a name="l00919"></a>00919    <span class="keywordflow">return</span> 0;
<a name="l00920"></a>00920 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a65e30d29847af5495afe1baed823957e"></a><!-- doxytag: member="dial.h::ast_dial_run" ref="a65e30d29847af5495afe1baed823957e" args="(struct ast_dial *dial, struct ast_channel *chan, int async)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847">ast_dial_result</a> ast_dial_run </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="paramname"> <em>dial</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structast__channel.html">ast_channel</a> *&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>async</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Execute dialing synchronously or asynchronously. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Dials <a class="el" href="structchannels.html" title="the list of channels we have. Note that the lock for this list is used for both the...">channels</a> in a dial structure. </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns dial result code. (TRYING/INVALID/FAILED/ANSWERED/TIMEOUT/UNANSWERED). </dd></dl>

<p>Definition at line <a class="el" href="dial_8c_source.html#l00698">698</a> of file <a class="el" href="dial_8c_source.html">dial.c</a>.</p>

<p>References <a class="el" href="logger_8h_source.html#l00213">ast_debug</a>, <a class="el" href="dial_8c_source.html#l00826">ast_dial_hangup()</a>, <a class="el" href="dial_8h_source.html#l00050">AST_DIAL_RESULT_FAILED</a>, <a class="el" href="dial_8h_source.html#l00049">AST_DIAL_RESULT_INVALID</a>, <a class="el" href="dial_8h_source.html#l00051">AST_DIAL_RESULT_TRYING</a>, <a class="el" href="linkedlists_8h_source.html#l00449">AST_LIST_EMPTY</a>, <a class="el" href="utils_8h_source.html#l00376">ast_pthread_create</a>, <a class="el" href="dial_8c_source.html#l00684">async_dial()</a>, <a class="el" href="dial_8c_source.html#l00311">begin_dial()</a>, <a class="el" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">ast_dial::channels</a>, <a class="el" href="dial_8c_source.html#l00535">monitor_dial()</a>, <a class="el" href="dial_8c_source.html#l00046">ast_dial::state</a>, and <a class="el" href="dial_8c_source.html#l00050">ast_dial::thread</a>.</p>

<p>Referenced by <a class="el" href="app__meetme_8c_source.html#l05474">dial_trunk()</a>, <a class="el" href="app__page_8c_source.html#l00121">page_exec()</a>, and <a class="el" href="app__meetme_8c_source.html#l04944">sla_ring_station()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00699"></a>00699 {
<a name="l00700"></a>00700    <span class="keyword">enum</span> <a class="code" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847" title="List of return codes for dial run API calls.">ast_dial_result</a> res = <a class="code" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847a5838a3c4774e4d0e9a7d9d3724850ae6">AST_DIAL_RESULT_TRYING</a>;
<a name="l00701"></a>00701 
<a name="l00702"></a>00702    <span class="comment">/* Ensure required arguments are passed */</span>
<a name="l00703"></a>00703    <span class="keywordflow">if</span> (!dial || (!chan &amp;&amp; !async)) {
<a name="l00704"></a>00704       <a class="code" href="logger_8h.html#a3f248112c8d6ce7e3959aa723dade648" title="Log a DEBUG message.">ast_debug</a>(1, <span class="stringliteral">&quot;invalid #1\n&quot;</span>);
<a name="l00705"></a>00705       <span class="keywordflow">return</span> <a class="code" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847a33b279a6d9fd2024de7a1f3ccadda2ce">AST_DIAL_RESULT_INVALID</a>;
<a name="l00706"></a>00706    }
<a name="l00707"></a>00707 
<a name="l00708"></a>00708    <span class="comment">/* If there are no channels to dial we can&apos;t very well try to dial them */</span>
<a name="l00709"></a>00709    <span class="keywordflow">if</span> (<a class="code" href="linkedlists_8h.html#a4a1884cde93e53bef32ca85c194a1d05" title="Checks whether the specified list contains any entries.">AST_LIST_EMPTY</a>(&amp;dial-&gt;<a class="code" href="structast__dial.html#a7ff8fca8d4e8d890f95c45315532bdc8">channels</a>)) {
<a name="l00710"></a>00710       <a class="code" href="logger_8h.html#a3f248112c8d6ce7e3959aa723dade648" title="Log a DEBUG message.">ast_debug</a>(1, <span class="stringliteral">&quot;invalid #2\n&quot;</span>);
<a name="l00711"></a>00711       <span class="keywordflow">return</span> <a class="code" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847a33b279a6d9fd2024de7a1f3ccadda2ce">AST_DIAL_RESULT_INVALID</a>;
<a name="l00712"></a>00712    }
<a name="l00713"></a>00713 
<a name="l00714"></a>00714    <span class="comment">/* Dial each requested channel */</span>
<a name="l00715"></a>00715    <span class="keywordflow">if</span> (!<a class="code" href="dial_8c.html#a2b88d638342896d48c984f47502f5948" title="Helper function that does the beginning dialing per dial structure.">begin_dial</a>(dial, chan))
<a name="l00716"></a>00716       <span class="keywordflow">return</span> <a class="code" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847a077aa090d089e32265755c7ec0f1dac2">AST_DIAL_RESULT_FAILED</a>;
<a name="l00717"></a>00717 
<a name="l00718"></a>00718    <span class="comment">/* If we are running async spawn a thread and send it away... otherwise block here */</span>
<a name="l00719"></a>00719    <span class="keywordflow">if</span> (async) {
<a name="l00720"></a>00720       dial-&gt;<a class="code" href="structast__dial.html#a3a670bcd7064cbc9d824f354df15dbbc">state</a> = <a class="code" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847a5838a3c4774e4d0e9a7d9d3724850ae6">AST_DIAL_RESULT_TRYING</a>;
<a name="l00721"></a>00721       <span class="comment">/* Try to create a thread */</span>
<a name="l00722"></a>00722       <span class="keywordflow">if</span> (<a class="code" href="utils_8h.html#a4781fd54a4ca8c7f0f8a32a6cce503c0">ast_pthread_create</a>(&amp;dial-&gt;<a class="code" href="structast__dial.html#a01f75a9ad916f63a94e06a27635ba278">thread</a>, NULL, <a class="code" href="dial_8c.html#a18a7d421f58c5237a1bad26e7f115f2c" title="Dial async thread function.">async_dial</a>, dial)) {
<a name="l00723"></a>00723          <span class="comment">/* Failed to create the thread - hangup all dialed channels and return failed */</span>
<a name="l00724"></a>00724          <a class="code" href="dial_8h.html#a506fff5ee7e48524138135a33e75b217" title="Hangup channels.">ast_dial_hangup</a>(dial);
<a name="l00725"></a>00725          res = <a class="code" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847a077aa090d089e32265755c7ec0f1dac2">AST_DIAL_RESULT_FAILED</a>;
<a name="l00726"></a>00726       }
<a name="l00727"></a>00727    } <span class="keywordflow">else</span> {
<a name="l00728"></a>00728       res = <a class="code" href="dial_8c.html#a50cca95de931fd595d67d86f73dca445" title="Helper function that basically keeps tabs on dialing attempts.">monitor_dial</a>(dial, chan);
<a name="l00729"></a>00729    }
<a name="l00730"></a>00730 
<a name="l00731"></a>00731    <span class="keywordflow">return</span> res;
<a name="l00732"></a>00732 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4d113a25d55a4ad9509fd954885f1dbc"></a><!-- doxytag: member="dial.h::ast_dial_set_global_timeout" ref="a4d113a25d55a4ad9509fd954885f1dbc" args="(struct ast_dial *dial, int timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_dial_set_global_timeout </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="paramname"> <em>dial</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>timeout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the maximum time (globally) allowed for trying to ring phones. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>The dial structure to apply the time limit to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout</em>&nbsp;</td><td>Maximum time allowed in milliseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>nothing</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>The dial structure to apply the time limit to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout</em>&nbsp;</td><td>Maximum time allowed </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>nothing </dd></dl>

<p>Definition at line <a class="el" href="dial_8c_source.html#l01037">1037</a> of file <a class="el" href="dial_8c_source.html">dial.c</a>.</p>

<p>References <a class="el" href="dial_8c_source.html#l00045">ast_dial::actual_timeout</a>, and <a class="el" href="dial_8c_source.html#l00044">ast_dial::timeout</a>.</p>

<p>Referenced by <a class="el" href="app__page_8c_source.html#l00121">page_exec()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01038"></a>01038 {
<a name="l01039"></a>01039    dial-&gt;<a class="code" href="structast__dial.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a> = <a class="code" href="structast__dial__channel.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>;
<a name="l01040"></a>01040 
<a name="l01041"></a>01041    <span class="keywordflow">if</span> (dial-&gt;<a class="code" href="structast__dial.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a> &gt; 0 &amp;&amp; (dial-&gt;<a class="code" href="structast__dial.html#aea5aeed93b7ee6219a3a2bfde1d51324">actual_timeout</a> &gt; dial-&gt;<a class="code" href="structast__dial.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a> || dial-&gt;<a class="code" href="structast__dial.html#aea5aeed93b7ee6219a3a2bfde1d51324">actual_timeout</a> == -1))
<a name="l01042"></a>01042       dial-&gt;<a class="code" href="structast__dial.html#aea5aeed93b7ee6219a3a2bfde1d51324">actual_timeout</a> = dial-&gt;<a class="code" href="structast__dial.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>;
<a name="l01043"></a>01043 
<a name="l01044"></a>01044    <span class="keywordflow">return</span>;
<a name="l01045"></a>01045 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2674932599e61fe027364a09f6d68c4e"></a><!-- doxytag: member="dial.h::ast_dial_set_state_callback" ref="a2674932599e61fe027364a09f6d68c4e" args="(struct ast_dial *dial, ast_dial_state_callback callback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_dial_set_state_callback </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="paramname"> <em>dial</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dial_8h.html#a62a62f525809227bb6736caf9392a410">ast_dial_state_callback</a>&nbsp;</td>
          <td class="paramname"> <em>callback</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set a callback for <a class="el" href="structstate.html">state</a> changes. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>The dial structure to watch for <a class="el" href="structstate.html">state</a> changes </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>callback</em>&nbsp;</td><td>the callback </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>nothing </dd></dl>

<p>Definition at line <a class="el" href="dial_8c_source.html#l01027">1027</a> of file <a class="el" href="dial_8c_source.html">dial.c</a>.</p>

<p>References <a class="el" href="dial_8c_source.html#l00048">ast_dial::state_callback</a>.</p>

<p>Referenced by <a class="el" href="app__meetme_8c_source.html#l04944">sla_ring_station()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01028"></a>01028 {
<a name="l01029"></a>01029    dial-&gt;<a class="code" href="structast__dial.html#ac84d3f75242b326f0e462f5bcd757a5c">state_callback</a> = callback;
<a name="l01030"></a>01030 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9f24a118d28aa29dbd7e7420e91cfbde"></a><!-- doxytag: member="dial.h::ast_dial_set_timeout" ref="a9f24a118d28aa29dbd7e7420e91cfbde" args="(struct ast_dial *dial, int num, int timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_dial_set_timeout </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="paramname"> <em>dial</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>timeout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the maximum time (per channel) allowed for trying to ring the phone. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>The dial structure the channel belongs to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num</em>&nbsp;</td><td>Channel <a class="el" href="structnumber.html" title="Number structure.">number</a> to set timeout on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout</em>&nbsp;</td><td>Maximum time allowed in milliseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>nothing</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>The dial structure the channel belongs to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num</em>&nbsp;</td><td>Channel <a class="el" href="structnumber.html" title="Number structure.">number</a> to set timeout on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout</em>&nbsp;</td><td>Maximum time allowed </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>nothing </dd></dl>

<p>Definition at line <a class="el" href="dial_8c_source.html#l01053">1053</a> of file <a class="el" href="dial_8c_source.html">dial.c</a>.</p>

<p>References <a class="el" href="dial_8c_source.html#l00045">ast_dial::actual_timeout</a>, <a class="el" href="dial_8c_source.html#l00924">find_dial_channel()</a>, and <a class="el" href="dial_8c_source.html#l00057">ast_dial_channel::timeout</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01054"></a>01054 {
<a name="l01055"></a>01055    <span class="keyword">struct </span><a class="code" href="structast__dial__channel.html" title="Dialing channel structure. Contains per-channel dialing options, asterisk channel...">ast_dial_channel</a> *channel = NULL;
<a name="l01056"></a>01056 
<a name="l01057"></a>01057    <span class="keywordflow">if</span> (!(channel = <a class="code" href="dial_8c.html#a38a1ee5eeee1705cc0c5faa72164d004" title="Helper function for finding a channel in a dial structure based on number.">find_dial_channel</a>(dial, <a class="code" href="adsistub_8c.html#af6fc584548091f45267cfaf7066119bd">num</a>)))
<a name="l01058"></a>01058       <span class="keywordflow">return</span>;
<a name="l01059"></a>01059 
<a name="l01060"></a>01060    channel-&gt;<a class="code" href="structast__dial__channel.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a> = <a class="code" href="structast__dial__channel.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>;
<a name="l01061"></a>01061 
<a name="l01062"></a>01062    <span class="keywordflow">if</span> (channel-&gt;<a class="code" href="structast__dial__channel.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a> &gt; 0 &amp;&amp; (dial-&gt;<a class="code" href="structast__dial.html#aea5aeed93b7ee6219a3a2bfde1d51324">actual_timeout</a> &gt; channel-&gt;<a class="code" href="structast__dial__channel.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a> || dial-&gt;<a class="code" href="structast__dial.html#aea5aeed93b7ee6219a3a2bfde1d51324">actual_timeout</a> == -1))
<a name="l01063"></a>01063       dial-&gt;<a class="code" href="structast__dial.html#aea5aeed93b7ee6219a3a2bfde1d51324">actual_timeout</a> = channel-&gt;<a class="code" href="structast__dial__channel.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>;
<a name="l01064"></a>01064 
<a name="l01065"></a>01065    <span class="keywordflow">return</span>;
<a name="l01066"></a>01066 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a051c20e595f3e3c2be10c84b4247dd37"></a><!-- doxytag: member="dial.h::ast_dial_state" ref="a051c20e595f3e3c2be10c84b4247dd37" args="(struct ast_dial *dial)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="dial_8h.html#a2054b1ddc7845e78286254b366a37847">ast_dial_result</a> ast_dial_state </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structast__dial.html">ast_dial</a> *&nbsp;</td>
          <td class="paramname"> <em>dial</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return <a class="el" href="structstate.html">state</a> of dial. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Returns the <a class="el" href="structstate.html">state</a> of the dial attempt </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dial</em>&nbsp;</td><td>Dialing structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="dial_8c_source.html#l00769">769</a> of file <a class="el" href="dial_8c_source.html">dial.c</a>.</p>

<p>References <a class="el" href="dial_8c_source.html#l00046">ast_dial::state</a>.</p>

<p>Referenced by <a class="el" href="app__meetme_8c_source.html#l05474">dial_trunk()</a>, and <a class="el" href="app__meetme_8c_source.html#l04832">sla_handle_dial_state_event()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00770"></a>00770 {
<a name="l00771"></a>00771    <span class="keywordflow">return</span> dial-&gt;<a class="code" href="structast__dial.html#a3a670bcd7064cbc9d824f354df15dbbc">state</a>;
<a name="l00772"></a>00772 }
</pre></div></p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed May 5 15:21:59 2010 for Asterisk - the Open Source PBX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
