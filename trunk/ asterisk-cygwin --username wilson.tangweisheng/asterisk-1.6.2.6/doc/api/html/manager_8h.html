<HTML>
    <HEAD>
      <TITLE>Asterisk.org: Developer Documentation (5 May 2010)</TITLE>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<div><font size="2" align="right">Wed May 5 15:22:22 2010</font></div>

<h2>Asterisk developer's documentation</h2>
<hr/>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_1ab815038f534adda65c8b4ae4993449.html">include</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_16d825f1fa9ecca2e70b1a8d9256d0e6.html">asterisk</a>
  </div>
</div>
<div class="contents">
<h1>manager.h File Reference</h1>
<p>The AMI - Asterisk Manager Interface - is a TCP protocol created to manage Asterisk with third-party software.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="network_8h_source.html">asterisk/network.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="lock_8h_source.html">asterisk/lock.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="datastore_8h_source.html">asterisk/datastore.h</a>&quot;</code><br/>

<p><a href="manager_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmanager__action.html">manager_action</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmanager__custom__hook.html">manager_custom_hook</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmessage.html">message</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#a9aa10c963efd367eaab256f4a05db100">AMI_VERSION</a>&nbsp;&nbsp;&nbsp;&quot;1.1&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#a24c8fe57053553be1a1458d4afe8909b">ast_manager_register</a>(a, b, c, d)&nbsp;&nbsp;&nbsp;ast_manager_register2(a, b, c, d, NULL)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">External routines may register/unregister manager callbacks this way.  <a href="#a24c8fe57053553be1a1458d4afe8909b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#a98b15e5ddea410372fed1a16c046034b">AST_MAX_MANHEADERS</a>&nbsp;&nbsp;&nbsp;128</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Export manager structures.  <a href="#a98b15e5ddea410372fed1a16c046034b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#a9aeced7f8d9056c4ec2663f1ad10a4a4">DEFAULT_MANAGER_PORT</a>&nbsp;&nbsp;&nbsp;5038</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#a1ef0ee0044dbbeb4c3a5abc6c046b208">manager_event</a>(category, event, contents,...)&nbsp;&nbsp;&nbsp;__manager_event(category, event, __FILE__, __LINE__, __PRETTY_FUNCTION__, contents , ## __VA_ARGS__)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">External routines may send asterisk manager events this way.  <a href="#a1ef0ee0044dbbeb4c3a5abc6c046b208"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Manager event classes</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrp84fffb9de168d8ff5d0587f4b6652b31"></a> </p>
<br/><br/></div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#acd32bc0b58b87cc22c60ffff79496c7f">EVENT_FLAG_AGENT</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 5)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#ac7370fe764f1305cdb3c543d3964d5ed">EVENT_FLAG_AGI</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 13)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#ab5db3cc603d7e798d61cb4cd94fbb4e2">EVENT_FLAG_CALL</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#adabf40844c4a05c6e0ef870002599dbe">EVENT_FLAG_CDR</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 10)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#ab9bbbe9b1fbde6ccff1f0a1ec0521afd">EVENT_FLAG_COMMAND</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 4)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#a36fb89c2a73755209133b6c73fe92e54">EVENT_FLAG_CONFIG</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 7)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#ad602e069591b527f28e36dd472425e7e">EVENT_FLAG_DIALPLAN</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 11)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#a6307f76e83767cdcd6b618dfbd214526">EVENT_FLAG_DTMF</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 8)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#af805764035071e210ec71c41a3a1ae6c">EVENT_FLAG_LOG</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#ad6acb19e6de27692675f1706d390f548">EVENT_FLAG_ORIGINATE</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 12)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#a0b1b4140c2836696a6950e92ab48a580">EVENT_FLAG_REPORTING</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 9)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">EVENT_FLAG_SYSTEM</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#acc12c2bc03dce67ddd1590d67ab11f4d">EVENT_FLAG_USER</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 6)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#a02eaf5c4a70ebad8e543c2efb7707869">EVENT_FLAG_VERBOSE</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 3)</td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#a7552ea1b684fbcf440e5c9ecce471fcb">manager_hook_t</a> )(int, const char *, char *)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Manager Helper Function.  <a href="#a7552ea1b684fbcf440e5c9ecce471fcb"></a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Group__AMI.html#gaa77d1f2d6eb8dbf1e1bc5d6d682b82cd">__manager_event</a> (int category, const char *event, const char *file, int line, const char *func, const char *contents,...)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">manager_event: Send AMI event to client  <a href="group__Group__AMI.html#gaa77d1f2d6eb8dbf1e1bc5d6d682b82cd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Group__AMI.html#ga332bf7ef48f67d63d849dd9febb18fb2">ast_manager_register2</a> (const char *action, int authority, int(*func)(struct <a class="el" href="structmansession.html">mansession</a> *s, const struct <a class="el" href="structmessage.html">message</a> *m), const char *<a class="el" href="res__agi_8c.html#a1539fbb78128c8c72e41d1e9d2c09351">synopsis</a>, const char *<a class="el" href="callerid_8c.html#a68344fa88cf4e86b5079fd69a5c22d57">description</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register a manager command with the manager interface.  <a href="group__Group__AMI.html#ga332bf7ef48f67d63d849dd9febb18fb2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Group__AMI.html#ga9b312f4df19fa79a2185f41ff533516b">ast_manager_register_hook</a> (struct <a class="el" href="structmanager__custom__hook.html">manager_custom_hook</a> *hook)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a custom hook to be called when an event is fired.  <a href="group__Group__AMI.html#ga9b312f4df19fa79a2185f41ff533516b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Group__AMI.html#ga5a9336fe5bb6b2cf350de9571080809d">ast_manager_unregister</a> (char *action)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unregister a registered manager command.  <a href="group__Group__AMI.html#ga5a9336fe5bb6b2cf350de9571080809d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Group__AMI.html#ga9592be65e0f9c99b7952a5841888757f">ast_manager_unregister_hook</a> (struct <a class="el" href="structmanager__custom__hook.html">manager_custom_hook</a> *hook)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete a custom hook to be called when an event is fired.  <a href="group__Group__AMI.html#ga9592be65e0f9c99b7952a5841888757f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a> (struct <a class="el" href="structmansession.html">mansession</a> *s, const char *fmt,...)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#a56275a7a3b863c8b4a49d2e74ebe739c">astman_datastore_add</a> (struct <a class="el" href="structmansession.html">mansession</a> *s, struct <a class="el" href="structast__datastore.html">ast_datastore</a> *datastore)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a datastore to a session.  <a href="#a56275a7a3b863c8b4a49d2e74ebe739c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structast__datastore.html">ast_datastore</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#a1a24728a1340746b7d1e914f0bc6bc78">astman_datastore_find</a> (struct <a class="el" href="structmansession.html">mansession</a> *s, const struct <a class="el" href="structast__datastore__info.html">ast_datastore_info</a> *info, const char *uid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find a datastore on a session.  <a href="#a1a24728a1340746b7d1e914f0bc6bc78"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#af9f2dfb1df89986ee6613d2bfa541688">astman_datastore_remove</a> (struct <a class="el" href="structmansession.html">mansession</a> *s, struct <a class="el" href="structast__datastore.html">ast_datastore</a> *datastore)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove a datastore from a session.  <a href="#af9f2dfb1df89986ee6613d2bfa541688"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a> (const struct <a class="el" href="structmessage.html">message</a> *m, char *var)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get header from mananger transaction.  <a href="group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structast__variable.html">ast_variable</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Group__AMI.html#ga21a20a25e6d03f6fd32cdc86fe9b53d1">astman_get_variables</a> (const struct <a class="el" href="structmessage.html">message</a> *m)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a linked list of the Variable: headers.  <a href="group__Group__AMI.html#ga21a20a25e6d03f6fd32cdc86fe9b53d1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#acb49e15f3ae80cc0ee0cfa3a250d00c0">astman_is_authed</a> (uint32_t ident)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Determinie if a manager session ident is authenticated.  <a href="#acb49e15f3ae80cc0ee0cfa3a250d00c0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Group__AMI.html#ga77315fa8e29950f0c88120501acda0a3">astman_send_ack</a> (struct <a class="el" href="structmansession.html">mansession</a> *s, const struct <a class="el" href="structmessage.html">message</a> *m, char *<a class="el" href="adsistub_8c.html#a0dee90db1d6eb30329bee1ae6cec036a">msg</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send ack in manager transaction.  <a href="group__Group__AMI.html#ga77315fa8e29950f0c88120501acda0a3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a> (struct <a class="el" href="structmansession.html">mansession</a> *s, const struct <a class="el" href="structmessage.html">message</a> *m, char *error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send error in manager transaction.  <a href="group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Group__AMI.html#ga0ee6ee1f4d200f711e2983bffe770a72">astman_send_listack</a> (struct <a class="el" href="structmansession.html">mansession</a> *s, const struct <a class="el" href="structmessage.html">message</a> *m, char *<a class="el" href="adsistub_8c.html#a0dee90db1d6eb30329bee1ae6cec036a">msg</a>, char *listflag)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send ack in manager list transaction.  <a href="group__Group__AMI.html#ga0ee6ee1f4d200f711e2983bffe770a72"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Group__AMI.html#ga26805df02a1c92688ae132f29ac4478a">astman_send_response</a> (struct <a class="el" href="structmansession.html">mansession</a> *s, const struct <a class="el" href="structmessage.html">message</a> *m, char *resp, char *<a class="el" href="adsistub_8c.html#a0dee90db1d6eb30329bee1ae6cec036a">msg</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send response in manager transaction.  <a href="group__Group__AMI.html#ga26805df02a1c92688ae132f29ac4478a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#a73a22446241314099a4e371157e360f5">astman_verify_session_readpermissions</a> (uint32_t ident, int perm)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Verify a session's read permissions against a <a class="el" href="structpermission.html">permission</a> mask.  <a href="#a73a22446241314099a4e371157e360f5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#a38eb222ca678604d4f203c9e9d5295ab">astman_verify_session_writepermissions</a> (uint32_t ident, int perm)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Verify a session's write permissions against a <a class="el" href="structpermission.html">permission</a> mask.  <a href="#a38eb222ca678604d4f203c9e9d5295ab"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Group__AMI.html#gad908dfa4d3b37621b01531d8f9f41df6">check_manager_enabled</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if AMI is enabled.  <a href="group__Group__AMI.html#gad908dfa4d3b37621b01531d8f9f41df6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Group__AMI.html#gafd05c33fae7e3a3db836fede838c0b09">check_webmanager_enabled</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if AMI/HTTP is enabled.  <a href="group__Group__AMI.html#gafd05c33fae7e3a3db836fede838c0b09"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#abd67495092f6edf4b7e5b6ae94be3154">init_manager</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called by Asterisk initialization.  <a href="#abd67495092f6edf4b7e5b6ae94be3154"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="manager_8h.html#a272b99cacf89996831cfd6dc5253d6e8">reload_manager</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called by Asterisk module functions and the CLI command.  <a href="#a272b99cacf89996831cfd6dc5253d6e8"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The AMI - Asterisk Manager Interface - is a TCP protocol created to manage Asterisk with third-party software. </p>
<p>Manager protocol packages are text fields of the form a: b. There is always exactly one space after the colon.</p>
<div class="fragment"><pre class="fragment">

 For Actions replies, the first line of the reply is a "Response:" header with
 values "success", "error" or "follows". "Follows" implies that the
 response is coming as separate events with the same ActionID. If the
 Action request has no ActionID, it will be hard matching events
 to the Action request in the manager client.

 The first header type is the "Event" header.  Other headers vary from
 event to event.  Headers end with standard \\r\\n termination.
 The last line of the manager response or event is an empty line.
 (\\r\\n)

</pre></div><dl class="note"><dt><b>Note:</b></dt><dd>Please try to <b>re-use</b> <b>existing</b> <b>headers</b> to simplify manager <a class="el" href="structmessage.html">message</a> parsing in clients. Don't re-use an existing header with a new meaning, please. You can find a reference of standard headers in doc/manager.txt</dd></dl>
<ul>
<li><a class="el" href="manager_8c.html">manager.c</a> Main manager code file </li>
</ul>

<p>Definition in file <a class="el" href="manager_8h_source.html">manager.h</a>.</p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a9aa10c963efd367eaab256f4a05db100"></a><!-- doxytag: member="manager.h::AMI_VERSION" ref="a9aa10c963efd367eaab256f4a05db100" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AMI_VERSION&nbsp;&nbsp;&nbsp;&quot;1.1&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="manager_8h_source.html#l00056">56</a> of file <a class="el" href="manager_8h_source.html">manager.h</a>.</p>

<p>Referenced by <a class="el" href="manager_8c_source.html#l02709">action_coresettings()</a>, and <a class="el" href="manager_8c_source.html#l03169">session_do()</a>.</p>

</div>
</div>
<a class="anchor" id="a24c8fe57053553be1a1458d4afe8909b"></a><!-- doxytag: member="manager.h::ast_manager_register" ref="a24c8fe57053553be1a1458d4afe8909b" args="(a, b, c, d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_manager_register</td>
          <td>(</td>
          <td class="paramtype">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">b, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">c, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">d&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;ast_manager_register2(a, b, c, d, NULL)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>External routines may register/unregister manager callbacks this way. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Use <a class="el" href="group__Group__AMI.html#ga332bf7ef48f67d63d849dd9febb18fb2" title="Register a manager command with the manager interface.">ast_manager_register2()</a> to register with help text for new manager commands </dd></dl>

<p>Definition at line <a class="el" href="manager_8h_source.html#l00133">133</a> of file <a class="el" href="manager_8h_source.html">manager.h</a>.</p>

<p>Referenced by <a class="el" href="features_8c_source.html#l04642">ast_features_init()</a>, <a class="el" href="db_8c_source.html#l00665">astdb_init()</a>, and <a class="el" href="app__meetme_8c_source.html#l06461">load_module()</a>.</p>

</div>
</div>
<a class="anchor" id="a98b15e5ddea410372fed1a16c046034b"></a><!-- doxytag: member="manager.h::AST_MAX_MANHEADERS" ref="a98b15e5ddea410372fed1a16c046034b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_MAX_MANHEADERS&nbsp;&nbsp;&nbsp;128</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Export manager structures. </p>

<p>Definition at line <a class="el" href="manager_8h_source.html#l00078">78</a> of file <a class="el" href="manager_8h_source.html">manager.h</a>.</p>

<p>Referenced by <a class="el" href="manager_8c_source.html#l03137">do_message()</a>, and <a class="el" href="manager_8c_source.html#l03804">generic_http_callback()</a>.</p>

</div>
</div>
<a class="anchor" id="a9aeced7f8d9056c4ec2663f1ad10a4a4"></a><!-- doxytag: member="manager.h::DEFAULT_MANAGER_PORT" ref="a9aeced7f8d9056c4ec2663f1ad10a4a4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_MANAGER_PORT&nbsp;&nbsp;&nbsp;5038</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="manager_8h_source.html#l00057">57</a> of file <a class="el" href="manager_8h_source.html">manager.h</a>.</p>

<p>Referenced by <a class="el" href="manager_8c_source.html#l04061">__init_manager()</a>.</p>

</div>
</div>
<a class="anchor" id="acd32bc0b58b87cc22c60ffff79496c7f"></a><!-- doxytag: member="manager.h::EVENT_FLAG_AGENT" ref="acd32bc0b58b87cc22c60ffff79496c7f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_AGENT&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 5)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="manager_8h_source.html#l00066">66</a> of file <a class="el" href="manager_8h_source.html">manager.h</a>.</p>

<p>Referenced by <a class="el" href="app__queue_8c_source.html#l04455">add_to_queue()</a>, <a class="el" href="chan__agent_8c_source.html#l01645">agent_logoff_maintenance()</a>, <a class="el" href="app__queue_8c_source.html#l07220">load_module()</a>, <a class="el" href="chan__agent_8c_source.html#l01981">login_exec()</a>, <a class="el" href="app__queue_8c_source.html#l02784">record_abandoned()</a>, <a class="el" href="app__queue_8c_source.html#l04403">remove_from_queue()</a>, <a class="el" href="app__queue_8c_source.html#l02467">ring_entry()</a>, <a class="el" href="app__queue_8c_source.html#l02801">rna()</a>, <a class="el" href="app__queue_8c_source.html#l03383">send_agent_complete()</a>, <a class="el" href="app__queue_8c_source.html#l04509">set_member_paused()</a>, <a class="el" href="app__queue_8c_source.html#l04586">set_member_penalty()</a>, <a class="el" href="app__queue_8c_source.html#l03569">try_calling()</a>, and <a class="el" href="app__queue_8c_source.html#l01021">update_status()</a>.</p>

</div>
</div>
<a class="anchor" id="ac7370fe764f1305cdb3c543d3964d5ed"></a><!-- doxytag: member="manager.h::EVENT_FLAG_AGI" ref="ac7370fe764f1305cdb3c543d3964d5ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_AGI&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 13)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="manager_8h_source.html#l00074">74</a> of file <a class="el" href="manager_8h_source.html">manager.h</a>.</p>

<p>Referenced by <a class="el" href="res__agi_8c_source.html#l02777">agi_handle_command()</a>, <a class="el" href="res__agi_8c_source.html#l00617">launch_asyncagi()</a>, and <a class="el" href="res__agi_8c_source.html#l03335">load_module()</a>.</p>

</div>
</div>
<a class="anchor" id="ab5db3cc603d7e798d61cb4cd94fbb4e2"></a><!-- doxytag: member="manager.h::EVENT_FLAG_CALL" ref="ab5db3cc603d7e798d61cb4cd94fbb4e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_CALL&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="manager_8h_source.html#l00062">62</a> of file <a class="el" href="manager_8h_source.html">manager.h</a>.</p>

<p>Referenced by <a class="el" href="channel_8c_source.html#l00772">__ast_channel_alloc_ap()</a>, <a class="el" href="manager_8c_source.html#l04061">__init_manager()</a>, <a class="el" href="cdr_8c_source.html#l00936">ast_cdr_setaccount()</a>, <a class="el" href="channel_8c_source.html#l04296">ast_change_name()</a>, <a class="el" href="channel_8c_source.html#l05055">ast_channel_bridge()</a>, <a class="el" href="channel_8c_source.html#l04393">ast_do_masquerade()</a>, <a class="el" href="features_8c_source.html#l04642">ast_features_init()</a>, <a class="el" href="channel_8c_source.html#l01690">ast_hangup()</a>, <a class="el" href="res__monitor_8c_source.html#l00148">ast_monitor_start()</a>, <a class="el" href="res__monitor_8c_source.html#l00291">ast_monitor_stop()</a>, <a class="el" href="channel_8c_source.html#l04695">ast_setstate()</a>, <a class="el" href="features_8c_source.html#l04524">bridge_exec()</a>, <a class="el" href="app__chanspy_8c_source.html#l00445">channel_spy()</a>, <a class="el" href="app__meetme_8c_source.html#l01648">conf_free()</a>, <a class="el" href="app__meetme_8c_source.html#l01998">conf_run()</a>, <a class="el" href="manager_8c_source.html#l02329">fast_originate()</a>, <a class="el" href="chan__sip_8c_source.html#l20572">handle_request_refer()</a>, <a class="el" href="app__queue_8c_source.html#l01956">join_queue()</a>, <a class="el" href="app__queue_8c_source.html#l02243">leave_queue()</a>, <a class="el" href="app__meetme_8c_source.html#l06461">load_module()</a>, <a class="el" href="res__musiconhold_8c_source.html#l01223">local_ast_moh_start()</a>, <a class="el" href="res__musiconhold_8c_source.html#l01433">local_ast_moh_stop()</a>, <a class="el" href="chan__sip_8c_source.html#l20405">local_attended_transfer()</a>, <a class="el" href="channel_8c_source.html#l04972">manager_bridge_event()</a>, <a class="el" href="manager_8c_source.html#l03402">manager_state_cb()</a>, <a class="el" href="app__minivm_8c_source.html#l01527">notify_new_message()</a>, <a class="el" href="features_8c_source.html#l00678">park_call_full()</a>, <a class="el" href="features_8c_source.html#l03335">park_exec_full()</a>, <a class="el" href="app__fax_8c_source.html#l00202">phase_e_handler()</a>, <a class="el" href="features_8c_source.html#l02946">post_manager_event()</a>, <a class="el" href="chan__sip_8c_source.html#l08040">process_sdp()</a>, <a class="el" href="channel_8c_source.html#l04371">report_new_callerid()</a>, <a class="el" href="app__meetme_8c_source.html#l01969">send_talking_event()</a>, <a class="el" href="app__dial_8c_source.html#l00696">senddialendevent()</a>, <a class="el" href="app__dial_8c_source.html#l00680">senddialevent()</a>, <a class="el" href="chan__iax2_8c_source.html#l09458">socket_process()</a>, and <a class="el" href="app__voicemail_8c_source.html#l09099">vm_execmain()</a>.</p>

</div>
</div>
<a class="anchor" id="adabf40844c4a05c6e0ef870002599dbe"></a><!-- doxytag: member="manager.h::EVENT_FLAG_CDR" ref="adabf40844c4a05c6e0ef870002599dbe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_CDR&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 10)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="manager_8h_source.html#l00071">71</a> of file <a class="el" href="manager_8h_source.html">manager.h</a>.</p>

<p>Referenced by <a class="el" href="cdr__manager_8c_source.html#l00134">manager_log()</a>.</p>

</div>
</div>
<a class="anchor" id="ab9bbbe9b1fbde6ccff1f0a1ec0521afd"></a><!-- doxytag: member="manager.h::EVENT_FLAG_COMMAND" ref="ab9bbbe9b1fbde6ccff1f0a1ec0521afd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_COMMAND&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 4)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="manager_8h_source.html#l00065">65</a> of file <a class="el" href="manager_8h_source.html">manager.h</a>.</p>

<p>Referenced by <a class="el" href="manager_8c_source.html#l04061">__init_manager()</a>.</p>

</div>
</div>
<a class="anchor" id="a36fb89c2a73755209133b6c73fe92e54"></a><!-- doxytag: member="manager.h::EVENT_FLAG_CONFIG" ref="a36fb89c2a73755209133b6c73fe92e54" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_CONFIG&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 7)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="manager_8h_source.html#l00068">68</a> of file <a class="el" href="manager_8h_source.html">manager.h</a>.</p>

<p>Referenced by <a class="el" href="manager_8c_source.html#l04061">__init_manager()</a>, <a class="el" href="res__http__post_8c_source.html#l00296">http_post_callback()</a>, <a class="el" href="pbx_8c_source.html#l09302">load_pbx()</a>, and <a class="el" href="pbx_8c_source.html#l06094">manager_show_dialplan()</a>.</p>

</div>
</div>
<a class="anchor" id="ad602e069591b527f28e36dd472425e7e"></a><!-- doxytag: member="manager.h::EVENT_FLAG_DIALPLAN" ref="ad602e069591b527f28e36dd472425e7e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_DIALPLAN&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 11)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="manager_8h_source.html#l00072">72</a> of file <a class="el" href="manager_8h_source.html">manager.h</a>.</p>

<p>Referenced by <a class="el" href="app__stack_8c_source.html#l00192">frame_set_var()</a>, <a class="el" href="pbx_8c_source.html#l09023">pbx_builtin_setvar_helper()</a>, <a class="el" href="pbx_8c_source.html#l03647">pbx_extension_helper()</a>, <a class="el" href="pbx__realtime_8c_source.html#l00186">realtime_exec()</a>, and <a class="el" href="func__global_8c_source.html#l00176">shared_write()</a>.</p>

</div>
</div>
<a class="anchor" id="a6307f76e83767cdcd6b618dfbd214526"></a><!-- doxytag: member="manager.h::EVENT_FLAG_DTMF" ref="a6307f76e83767cdcd6b618dfbd214526" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_DTMF&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 8)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="manager_8h_source.html#l00069">69</a> of file <a class="el" href="manager_8h_source.html">manager.h</a>.</p>

<p>Referenced by <a class="el" href="channel_8c_source.html#l02517">send_dtmf_event()</a>.</p>

</div>
</div>
<a class="anchor" id="af805764035071e210ec71c41a3a1ae6c"></a><!-- doxytag: member="manager.h::EVENT_FLAG_LOG" ref="af805764035071e210ec71c41a3a1ae6c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_LOG&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 2)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="manager_8h_source.html#l00063">63</a> of file <a class="el" href="manager_8h_source.html">manager.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad6acb19e6de27692675f1706d390f548"></a><!-- doxytag: member="manager.h::EVENT_FLAG_ORIGINATE" ref="ad6acb19e6de27692675f1706d390f548" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_ORIGINATE&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 12)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="manager_8h_source.html#l00073">73</a> of file <a class="el" href="manager_8h_source.html">manager.h</a>.</p>

<p>Referenced by <a class="el" href="manager_8c_source.html#l04061">__init_manager()</a>.</p>

</div>
</div>
<a class="anchor" id="a0b1b4140c2836696a6950e92ab48a580"></a><!-- doxytag: member="manager.h::EVENT_FLAG_REPORTING" ref="a0b1b4140c2836696a6950e92ab48a580" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_REPORTING&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 9)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="manager_8h_source.html#l00070">70</a> of file <a class="el" href="manager_8h_source.html">manager.h</a>.</p>

<p>Referenced by <a class="el" href="manager_8c_source.html#l04061">__init_manager()</a>, <a class="el" href="rtp_8c_source.html#l01168">ast_rtcp_read()</a>, <a class="el" href="rtp_8c_source.html#l03311">ast_rtcp_write_sr()</a>, <a class="el" href="rtp_8c_source.html#l03058">ast_rtp_destroy()</a>, <a class="el" href="db_8c_source.html#l00665">astdb_init()</a>, <a class="el" href="app__meetme_8c_source.html#l06461">load_module()</a>, <a class="el" href="pbx_8c_source.html#l09302">load_pbx()</a>, and <a class="el" href="chan__iax2_8c_source.html#l09064">log_jitterstats()</a>.</p>

</div>
</div>
<a class="anchor" id="a420f0f755e1c3378b45ca7f6f0669ffa"></a><!-- doxytag: member="manager.h::EVENT_FLAG_SYSTEM" ref="a420f0f755e1c3378b45ca7f6f0669ffa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_SYSTEM&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="manager_8h_source.html#l00061">61</a> of file <a class="el" href="manager_8h_source.html">manager.h</a>.</p>

<p>Referenced by <a class="el" href="chan__iax2_8c_source.html#l08254">__expire_registry()</a>, <a class="el" href="chan__iax2_8c_source.html#l11441">__iax2_poke_noanswer()</a>, <a class="el" href="manager_8c_source.html#l04061">__init_manager()</a>, <a class="el" href="manager_8c_source.html#l02392">action_originate()</a>, <a class="el" href="db_8c_source.html#l00665">astdb_init()</a>, <a class="el" href="chan__dahdi_8c_source.html#l07662">dahdi_dnd()</a>, <a class="el" href="chan__dahdi_8c_source.html#l05699">dahdi_handle_event()</a>, <a class="el" href="cdr_8c_source.html#l01396">do_reload()</a>, <a class="el" href="chan__sip_8c_source.html#l12018">expire_register()</a>, <a class="el" href="chan__gtalk_8c_source.html#l00513">gtalk_answer()</a>, <a class="el" href="chan__gtalk_8c_source.html#l00989">gtalk_new()</a>, <a class="el" href="chan__dahdi_8c_source.html#l05688">handle_alarms()</a>, <a class="el" href="chan__dahdi_8c_source.html#l09269">handle_init_event()</a>, <a class="el" href="chan__sip_8c_source.html#l17572">handle_response_invite()</a>, <a class="el" href="chan__sip_8c_source.html#l18198">handle_response_peerpoke()</a>, <a class="el" href="chan__sip_8c_source.html#l18054">handle_response_register()</a>, <a class="el" href="chan__iax2_8c_source.html#l08091">iax2_ack_registry()</a>, <a class="el" href="chan__iax2_8c_source.html#l01192">iax2_ami_channelupdate()</a>, <a class="el" href="chan__iax2_8c_source.html#l13805">load_module()</a>, <a class="el" href="loader_8c_source.html#l00941">load_modules()</a>, <a class="el" href="logger_8c_source.html#l00863">logger_print_normal()</a>, <a class="el" href="chan__dahdi_8c_source.html#l08925">mwi_thread()</a>, <a class="el" href="chan__sip_8c_source.html#l12222">parse_register_contact()</a>, <a class="el" href="enum_8c_source.html#l00959">private_enum_init()</a>, <a class="el" href="asterisk_8c_source.html#l01549">quit_handler()</a>, <a class="el" href="chan__sip_8c_source.html#l12942">register_verify()</a>, <a class="el" href="chan__sip_8c_source.html#l24245">reload_config()</a>, <a class="el" href="logger_8c_source.html#l00586">reload_logger()</a>, <a class="el" href="chan__sip_8c_source.html#l06599">sip_new()</a>, <a class="el" href="chan__sip_8c_source.html#l22832">sip_poke_noanswer()</a>, <a class="el" href="chan__sip_8c_source.html#l11487">sip_reg_timeout()</a>, <a class="el" href="chan__sip_8c_source.html#l23066">sip_request_call()</a>, <a class="el" href="chan__iax2_8c_source.html#l09458">socket_process()</a>, and <a class="el" href="chan__iax2_8c_source.html#l08346">update_registry()</a>.</p>

</div>
</div>
<a class="anchor" id="acc12c2bc03dce67ddd1590d67ab11f4d"></a><!-- doxytag: member="manager.h::EVENT_FLAG_USER" ref="acc12c2bc03dce67ddd1590d67ab11f4d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_USER&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 6)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="manager_8h_source.html#l00067">67</a> of file <a class="el" href="manager_8h_source.html">manager.h</a>.</p>

<p>Referenced by <a class="el" href="manager_8c_source.html#l04061">__init_manager()</a>, <a class="el" href="manager_8c_source.html#l02684">action_userevent()</a>, <a class="el" href="res__jabber_8c_source.html#l00863">aji_log_hook()</a>, and <a class="el" href="app__userevent_8c_source.html#l00059">userevent_exec()</a>.</p>

</div>
</div>
<a class="anchor" id="a02eaf5c4a70ebad8e543c2efb7707869"></a><!-- doxytag: member="manager.h::EVENT_FLAG_VERBOSE" ref="a02eaf5c4a70ebad8e543c2efb7707869" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_VERBOSE&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 3)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="manager_8h_source.html#l00064">64</a> of file <a class="el" href="manager_8h_source.html">manager.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1ef0ee0044dbbeb4c3a5abc6c046b208"></a><!-- doxytag: member="manager.h::manager_event" ref="a1ef0ee0044dbbeb4c3a5abc6c046b208" args="(category, event, contents,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define manager_event</td>
          <td>(</td>
          <td class="paramtype">category, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">event, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">contents, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"> <em>...</em>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;__manager_event(category, event, __FILE__, __LINE__, __PRETTY_FUNCTION__, contents , ## __VA_ARGS__)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>External routines may send asterisk manager events this way. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>category</em>&nbsp;</td><td>Event category, matches manager authorization </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>event</em>&nbsp;</td><td>Event name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>contents</em>&nbsp;</td><td>Contents of event </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="manager_8h_source.html#l00181">181</a> of file <a class="el" href="manager_8h_source.html">manager.h</a>.</p>

<p>Referenced by <a class="el" href="channel_8c_source.html#l00772">__ast_channel_alloc_ap()</a>, <a class="el" href="chan__iax2_8c_source.html#l08254">__expire_registry()</a>, <a class="el" href="chan__iax2_8c_source.html#l11441">__iax2_poke_noanswer()</a>, <a class="el" href="manager_8c_source.html#l04061">__init_manager()</a>, <a class="el" href="manager_8c_source.html#l02684">action_userevent()</a>, <a class="el" href="app__queue_8c_source.html#l04455">add_to_queue()</a>, <a class="el" href="chan__agent_8c_source.html#l01645">agent_logoff_maintenance()</a>, <a class="el" href="res__agi_8c_source.html#l02777">agi_handle_command()</a>, <a class="el" href="res__jabber_8c_source.html#l00863">aji_log_hook()</a>, <a class="el" href="cdr_8c_source.html#l00936">ast_cdr_setaccount()</a>, <a class="el" href="channel_8c_source.html#l04296">ast_change_name()</a>, <a class="el" href="channel_8c_source.html#l05055">ast_channel_bridge()</a>, <a class="el" href="channel_8c_source.html#l04393">ast_do_masquerade()</a>, <a class="el" href="channel_8c_source.html#l01690">ast_hangup()</a>, <a class="el" href="res__monitor_8c_source.html#l00148">ast_monitor_start()</a>, <a class="el" href="res__monitor_8c_source.html#l00291">ast_monitor_stop()</a>, <a class="el" href="rtp_8c_source.html#l01168">ast_rtcp_read()</a>, <a class="el" href="rtp_8c_source.html#l03311">ast_rtcp_write_sr()</a>, <a class="el" href="rtp_8c_source.html#l03058">ast_rtp_destroy()</a>, <a class="el" href="channel_8c_source.html#l04695">ast_setstate()</a>, <a class="el" href="features_8c_source.html#l04524">bridge_exec()</a>, <a class="el" href="app__chanspy_8c_source.html#l00445">channel_spy()</a>, <a class="el" href="app__meetme_8c_source.html#l01648">conf_free()</a>, <a class="el" href="app__meetme_8c_source.html#l01998">conf_run()</a>, <a class="el" href="chan__dahdi_8c_source.html#l07662">dahdi_dnd()</a>, <a class="el" href="chan__dahdi_8c_source.html#l05699">dahdi_handle_event()</a>, <a class="el" href="cdr_8c_source.html#l01396">do_reload()</a>, <a class="el" href="chan__sip_8c_source.html#l12018">expire_register()</a>, <a class="el" href="manager_8c_source.html#l02329">fast_originate()</a>, <a class="el" href="app__stack_8c_source.html#l00192">frame_set_var()</a>, <a class="el" href="chan__gtalk_8c_source.html#l00513">gtalk_answer()</a>, <a class="el" href="chan__gtalk_8c_source.html#l00989">gtalk_new()</a>, <a class="el" href="chan__dahdi_8c_source.html#l05688">handle_alarms()</a>, <a class="el" href="chan__dahdi_8c_source.html#l09269">handle_init_event()</a>, <a class="el" href="chan__sip_8c_source.html#l20572">handle_request_refer()</a>, <a class="el" href="chan__sip_8c_source.html#l17572">handle_response_invite()</a>, <a class="el" href="chan__sip_8c_source.html#l18198">handle_response_peerpoke()</a>, <a class="el" href="chan__sip_8c_source.html#l18054">handle_response_register()</a>, <a class="el" href="chan__iax2_8c_source.html#l08091">iax2_ack_registry()</a>, <a class="el" href="chan__iax2_8c_source.html#l01192">iax2_ami_channelupdate()</a>, <a class="el" href="app__queue_8c_source.html#l01956">join_queue()</a>, <a class="el" href="res__agi_8c_source.html#l00617">launch_asyncagi()</a>, <a class="el" href="app__queue_8c_source.html#l02243">leave_queue()</a>, <a class="el" href="loader_8c_source.html#l00941">load_modules()</a>, <a class="el" href="res__musiconhold_8c_source.html#l01223">local_ast_moh_start()</a>, <a class="el" href="res__musiconhold_8c_source.html#l01433">local_ast_moh_stop()</a>, <a class="el" href="chan__sip_8c_source.html#l20405">local_attended_transfer()</a>, <a class="el" href="chan__iax2_8c_source.html#l09064">log_jitterstats()</a>, <a class="el" href="logger_8c_source.html#l00863">logger_print_normal()</a>, <a class="el" href="chan__agent_8c_source.html#l01981">login_exec()</a>, <a class="el" href="channel_8c_source.html#l04972">manager_bridge_event()</a>, <a class="el" href="cdr__manager_8c_source.html#l00134">manager_log()</a>, <a class="el" href="pbx_8c_source.html#l06094">manager_show_dialplan()</a>, <a class="el" href="manager_8c_source.html#l03402">manager_state_cb()</a>, <a class="el" href="chan__dahdi_8c_source.html#l08925">mwi_thread()</a>, <a class="el" href="app__minivm_8c_source.html#l01527">notify_new_message()</a>, <a class="el" href="features_8c_source.html#l00678">park_call_full()</a>, <a class="el" href="features_8c_source.html#l03335">park_exec_full()</a>, <a class="el" href="chan__sip_8c_source.html#l12222">parse_register_contact()</a>, <a class="el" href="pbx_8c_source.html#l09023">pbx_builtin_setvar_helper()</a>, <a class="el" href="pbx_8c_source.html#l03647">pbx_extension_helper()</a>, <a class="el" href="app__fax_8c_source.html#l00202">phase_e_handler()</a>, <a class="el" href="features_8c_source.html#l02946">post_manager_event()</a>, <a class="el" href="enum_8c_source.html#l00959">private_enum_init()</a>, <a class="el" href="chan__sip_8c_source.html#l08040">process_sdp()</a>, <a class="el" href="asterisk_8c_source.html#l01549">quit_handler()</a>, <a class="el" href="pbx__realtime_8c_source.html#l00186">realtime_exec()</a>, <a class="el" href="app__queue_8c_source.html#l02784">record_abandoned()</a>, <a class="el" href="chan__sip_8c_source.html#l12942">register_verify()</a>, <a class="el" href="chan__sip_8c_source.html#l24245">reload_config()</a>, <a class="el" href="logger_8c_source.html#l00586">reload_logger()</a>, <a class="el" href="app__queue_8c_source.html#l04403">remove_from_queue()</a>, <a class="el" href="channel_8c_source.html#l04371">report_new_callerid()</a>, <a class="el" href="app__queue_8c_source.html#l02467">ring_entry()</a>, <a class="el" href="app__queue_8c_source.html#l02801">rna()</a>, <a class="el" href="app__queue_8c_source.html#l03383">send_agent_complete()</a>, <a class="el" href="channel_8c_source.html#l02517">send_dtmf_event()</a>, <a class="el" href="app__meetme_8c_source.html#l01969">send_talking_event()</a>, <a class="el" href="app__dial_8c_source.html#l00696">senddialendevent()</a>, <a class="el" href="app__dial_8c_source.html#l00680">senddialevent()</a>, <a class="el" href="app__queue_8c_source.html#l04509">set_member_paused()</a>, <a class="el" href="app__queue_8c_source.html#l04586">set_member_penalty()</a>, <a class="el" href="func__global_8c_source.html#l00176">shared_write()</a>, <a class="el" href="chan__sip_8c_source.html#l06599">sip_new()</a>, <a class="el" href="chan__sip_8c_source.html#l22832">sip_poke_noanswer()</a>, <a class="el" href="chan__sip_8c_source.html#l11487">sip_reg_timeout()</a>, <a class="el" href="chan__sip_8c_source.html#l23066">sip_request_call()</a>, <a class="el" href="chan__iax2_8c_source.html#l09458">socket_process()</a>, <a class="el" href="app__queue_8c_source.html#l03569">try_calling()</a>, <a class="el" href="chan__iax2_8c_source.html#l08346">update_registry()</a>, <a class="el" href="app__queue_8c_source.html#l01021">update_status()</a>, <a class="el" href="app__userevent_8c_source.html#l00059">userevent_exec()</a>, and <a class="el" href="app__voicemail_8c_source.html#l09099">vm_execmain()</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a7552ea1b684fbcf440e5c9ecce471fcb"></a><!-- doxytag: member="manager.h::manager_hook_t" ref="a7552ea1b684fbcf440e5c9ecce471fcb" args=")(int, const char *, char *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="manager_8h.html#a7552ea1b684fbcf440e5c9ecce471fcb">manager_hook_t</a>)(int, const char *, char *)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Manager Helper Function. </p>

<p>Definition at line <a class="el" href="manager_8h_source.html#l00081">81</a> of file <a class="el" href="manager_8h_source.html">manager.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a56275a7a3b863c8b4a49d2e74ebe739c"></a><!-- doxytag: member="manager.h::astman_datastore_add" ref="a56275a7a3b863c8b4a49d2e74ebe739c" args="(struct mansession *s, struct ast_datastore *datastore)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int astman_datastore_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmansession.html">mansession</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structast__datastore.html">ast_datastore</a> *&nbsp;</td>
          <td class="paramname"> <em>datastore</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a datastore to a session. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>non-zero</em>&nbsp;</td><td>failure </td></tr>
  </table>
  </dd>
</dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.6.1 </dd></dl>

<p>Definition at line <a class="el" href="manager_8c_source.html#l04386">4386</a> of file <a class="el" href="manager_8c_source.html">manager.c</a>.</p>

<p>References <a class="el" href="linkedlists_8h_source.html#l00695">AST_LIST_INSERT_HEAD</a>, <a class="el" href="structmansession__session.html#ac973a08be5923acefc1e920ce302f47b">mansession_session::datastores</a>, and <a class="el" href="manager_8c_source.html#l00219">mansession::session</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l04387"></a>04387 {
<a name="l04388"></a>04388    <a class="code" href="linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307" title="Inserts a list entry at the head of a list.">AST_LIST_INSERT_HEAD</a>(&amp;s-&gt;<a class="code" href="structmansession.html#ab51bd75c585f6401e1e7b7fb4000760d">session</a>-&gt;<a class="code" href="structmansession__session.html#ac973a08be5923acefc1e920ce302f47b">datastores</a>, datastore, entry);
<a name="l04389"></a>04389 
<a name="l04390"></a>04390    <span class="keywordflow">return</span> 0;
<a name="l04391"></a>04391 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1a24728a1340746b7d1e914f0bc6bc78"></a><!-- doxytag: member="manager.h::astman_datastore_find" ref="a1a24728a1340746b7d1e914f0bc6bc78" args="(struct mansession *s, const struct ast_datastore_info *info, const char *uid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structast__datastore.html">ast_datastore</a>* astman_datastore_find </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmansession.html">mansession</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structast__datastore__info.html">ast_datastore_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>uid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find a datastore on a session. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pointer</em>&nbsp;</td><td>to the datastore if found </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NULL</em>&nbsp;</td><td>if not found </td></tr>
  </table>
  </dd>
</dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.6.1 </dd></dl>

<p>Definition at line <a class="el" href="manager_8c_source.html#l04398">4398</a> of file <a class="el" href="manager_8c_source.html">manager.c</a>.</p>

<p>References <a class="el" href="linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="linkedlists_8h_source.html#l00599">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="structmansession__session.html#ac973a08be5923acefc1e920ce302f47b">mansession_session::datastores</a>, <a class="el" href="datastore_8h_source.html#l00057">ast_datastore::info</a>, <a class="el" href="manager_8c_source.html#l00219">mansession::session</a>, and <a class="el" href="datastore_8h_source.html#l00055">ast_datastore::uid</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l04399"></a>04399 {
<a name="l04400"></a>04400    <span class="keyword">struct </span><a class="code" href="structast__datastore.html" title="Structure for a data store object.">ast_datastore</a> *datastore = NULL;
<a name="l04401"></a>04401    
<a name="l04402"></a>04402    <span class="keywordflow">if</span> (info == NULL)
<a name="l04403"></a>04403       <span class="keywordflow">return</span> NULL;
<a name="l04404"></a>04404 
<a name="l04405"></a>04405    <a class="code" href="linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d" title="Loops safely over (traverses) the entries in a list.">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(&amp;s-&gt;<a class="code" href="structmansession.html#ab51bd75c585f6401e1e7b7fb4000760d">session</a>-&gt;<a class="code" href="structmansession__session.html#ac973a08be5923acefc1e920ce302f47b">datastores</a>, datastore, entry) {
<a name="l04406"></a>04406       <span class="keywordflow">if</span> (datastore-&gt;<a class="code" href="structast__datastore.html#ac63f10c4295eed928ba083bcdff5500c">info</a> != info) {
<a name="l04407"></a>04407          <span class="keywordflow">continue</span>;
<a name="l04408"></a>04408       }
<a name="l04409"></a>04409 
<a name="l04410"></a>04410       <span class="keywordflow">if</span> (<a class="code" href="structast__datastore.html#a2daadcdbac635c83b7bfc6375b4c9be4">uid</a> == NULL) {
<a name="l04411"></a>04411          <span class="comment">/* matched by type only */</span>
<a name="l04412"></a>04412          <span class="keywordflow">break</span>;
<a name="l04413"></a>04413       }
<a name="l04414"></a>04414 
<a name="l04415"></a>04415       <span class="keywordflow">if</span> ((datastore-&gt;<a class="code" href="structast__datastore.html#a2daadcdbac635c83b7bfc6375b4c9be4">uid</a> != NULL) &amp;&amp; !strcasecmp(<a class="code" href="structast__datastore.html#a2daadcdbac635c83b7bfc6375b4c9be4">uid</a>, datastore-&gt;<a class="code" href="structast__datastore.html#a2daadcdbac635c83b7bfc6375b4c9be4">uid</a>)) {
<a name="l04416"></a>04416          <span class="comment">/* Matched by type AND uid */</span>
<a name="l04417"></a>04417          <span class="keywordflow">break</span>;
<a name="l04418"></a>04418       }
<a name="l04419"></a>04419    }
<a name="l04420"></a>04420    <a class="code" href="linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9" title="Closes a safe loop traversal block.">AST_LIST_TRAVERSE_SAFE_END</a>;
<a name="l04421"></a>04421 
<a name="l04422"></a>04422    <span class="keywordflow">return</span> datastore;
<a name="l04423"></a>04423 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af9f2dfb1df89986ee6613d2bfa541688"></a><!-- doxytag: member="manager.h::astman_datastore_remove" ref="af9f2dfb1df89986ee6613d2bfa541688" args="(struct mansession *s, struct ast_datastore *datastore)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int astman_datastore_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmansession.html">mansession</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structast__datastore.html">ast_datastore</a> *&nbsp;</td>
          <td class="paramname"> <em>datastore</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove a datastore from a session. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>non-zero</em>&nbsp;</td><td>failure </td></tr>
  </table>
  </dd>
</dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.6.1 </dd></dl>

<p>Definition at line <a class="el" href="manager_8c_source.html#l04393">4393</a> of file <a class="el" href="manager_8c_source.html">manager.c</a>.</p>

<p>References <a class="el" href="linkedlists_8h_source.html#l00838">AST_LIST_REMOVE</a>, <a class="el" href="structmansession__session.html#ac973a08be5923acefc1e920ce302f47b">mansession_session::datastores</a>, and <a class="el" href="manager_8c_source.html#l00219">mansession::session</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l04394"></a>04394 {
<a name="l04395"></a>04395    <span class="keywordflow">return</span> <a class="code" href="linkedlists_8h.html#aa36e72b77f1b80881cd0a9fcca66ce19" title="Removes a specific entry from a list.">AST_LIST_REMOVE</a>(&amp;s-&gt;<a class="code" href="structmansession.html#ab51bd75c585f6401e1e7b7fb4000760d">session</a>-&gt;<a class="code" href="structmansession__session.html#ac973a08be5923acefc1e920ce302f47b">datastores</a>, datastore, entry) ? 0 : -1;
<a name="l04396"></a>04396 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acb49e15f3ae80cc0ee0cfa3a250d00c0"></a><!-- doxytag: member="manager.h::astman_is_authed" ref="acb49e15f3ae80cc0ee0cfa3a250d00c0" args="(uint32_t ident)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int astman_is_authed </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>ident</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Determinie if a manager session ident is authenticated. </p>

<p>Definition at line <a class="el" href="manager_8c_source.html#l03521">3521</a> of file <a class="el" href="manager_8c_source.html">manager.c</a>.</p>

<p>References <a class="el" href="manager_8c_source.html#l00186">mansession_session::__lock</a>, <a class="el" href="lock_8h_source.html#l01707">ast_mutex_unlock()</a>, <a class="el" href="manager_8c_source.html#l00199">mansession_session::authenticated</a>, and <a class="el" href="manager_8c_source.html#l03500">find_session()</a>.</p>

<p>Referenced by <a class="el" href="http_8c_source.html#l00423">handle_uri()</a>, and <a class="el" href="http_8c_source.html#l00154">static_callback()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l03522"></a>03522 {
<a name="l03523"></a>03523    <span class="keywordtype">int</span> authed;
<a name="l03524"></a>03524    <span class="keyword">struct </span><a class="code" href="structmansession__session.html">mansession_session</a> *session;
<a name="l03525"></a>03525 
<a name="l03526"></a>03526    <span class="keywordflow">if</span> (!(session = <a class="code" href="manager_8c.html#a914dce58348e2b56ed139c441198b82f">find_session</a>(ident, 0)))
<a name="l03527"></a>03527       <span class="keywordflow">return</span> 0;
<a name="l03528"></a>03528 
<a name="l03529"></a>03529    authed = (session-&gt;<a class="code" href="structmansession__session.html#a29e86d0f6d62ef1edac10a46e4c92095">authenticated</a> != 0);
<a name="l03530"></a>03530 
<a name="l03531"></a>03531    <a class="code" href="lock_8h.html#aa9b39f0e22f44a7e7f587d4252e41a0b">ast_mutex_unlock</a>(&amp;session-&gt;<a class="code" href="structmansession__session.html#acc08bc856eb8a6f898a257a7d76f1dba">__lock</a>);
<a name="l03532"></a>03532 
<a name="l03533"></a>03533    <span class="keywordflow">return</span> authed;
<a name="l03534"></a>03534 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a73a22446241314099a4e371157e360f5"></a><!-- doxytag: member="manager.h::astman_verify_session_readpermissions" ref="a73a22446241314099a4e371157e360f5" args="(uint32_t ident, int perm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int astman_verify_session_readpermissions </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>ident</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>perm</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Verify a session's read permissions against a <a class="el" href="structpermission.html">permission</a> mask. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ident</em>&nbsp;</td><td>session identity </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>perm</em>&nbsp;</td><td><a class="el" href="structpermission.html">permission</a> mask to verify </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>1</em>&nbsp;</td><td>if the session has the <a class="el" href="structpermission.html">permission</a> mask capabilities </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>otherwise </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="manager_8c_source.html#l03536">3536</a> of file <a class="el" href="manager_8c_source.html">manager.c</a>.</p>

<p>References <a class="el" href="manager_8c_source.html#l00186">mansession_session::__lock</a>, <a class="el" href="linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="lock_8h_source.html#l01717">ast_mutex_lock()</a>, <a class="el" href="lock_8h_source.html#l01707">ast_mutex_unlock()</a>, <a class="el" href="manager_8c_source.html#l00194">mansession_session::managerid</a>, and <a class="el" href="manager_8c_source.html#l00200">mansession_session::readperm</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l03537"></a>03537 {
<a name="l03538"></a>03538    <span class="keywordtype">int</span> result = 0;
<a name="l03539"></a>03539    <span class="keyword">struct </span><a class="code" href="structmansession__session.html">mansession_session</a> *session;
<a name="l03540"></a>03540 
<a name="l03541"></a>03541    <a class="code" href="linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40" title="Locks a list.">AST_LIST_LOCK</a>(&amp;<a class="code" href="structsessions.html">sessions</a>);
<a name="l03542"></a>03542    <a class="code" href="linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef" title="Loops over (traverses) the entries in a list.">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="structsessions.html">sessions</a>, session, <a class="code" href="structmansession__session.html#a815de629926cb685e0c54eab5ac892ff">list</a>) {
<a name="l03543"></a>03543       <a class="code" href="lock_8h.html#ad941566de4050aa7358493af94d2ba4d">ast_mutex_lock</a>(&amp;session-&gt;<a class="code" href="structmansession__session.html#acc08bc856eb8a6f898a257a7d76f1dba">__lock</a>);
<a name="l03544"></a>03544       <span class="keywordflow">if</span> ((session-&gt;<a class="code" href="structmansession__session.html#a24367fd57bd683dd7fdba2db57ce314e">managerid</a> == ident) &amp;&amp; (session-&gt;<a class="code" href="structmansession__session.html#afaabb85e65efc5fed1a5f4d08bf272a4">readperm</a> &amp; perm)) {
<a name="l03545"></a>03545          result = 1;
<a name="l03546"></a>03546          <a class="code" href="lock_8h.html#aa9b39f0e22f44a7e7f587d4252e41a0b">ast_mutex_unlock</a>(&amp;session-&gt;<a class="code" href="structmansession__session.html#acc08bc856eb8a6f898a257a7d76f1dba">__lock</a>);
<a name="l03547"></a>03547          <span class="keywordflow">break</span>;
<a name="l03548"></a>03548       }
<a name="l03549"></a>03549       <a class="code" href="lock_8h.html#aa9b39f0e22f44a7e7f587d4252e41a0b">ast_mutex_unlock</a>(&amp;session-&gt;<a class="code" href="structmansession__session.html#acc08bc856eb8a6f898a257a7d76f1dba">__lock</a>);
<a name="l03550"></a>03550    }
<a name="l03551"></a>03551    <a class="code" href="linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01" title="Attempts to unlock a list.">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="structsessions.html">sessions</a>);
<a name="l03552"></a>03552    <span class="keywordflow">return</span> result;
<a name="l03553"></a>03553 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a38eb222ca678604d4f203c9e9d5295ab"></a><!-- doxytag: member="manager.h::astman_verify_session_writepermissions" ref="a38eb222ca678604d4f203c9e9d5295ab" args="(uint32_t ident, int perm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int astman_verify_session_writepermissions </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>ident</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>perm</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Verify a session's write permissions against a <a class="el" href="structpermission.html">permission</a> mask. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ident</em>&nbsp;</td><td>session identity </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>perm</em>&nbsp;</td><td><a class="el" href="structpermission.html">permission</a> mask to verify </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>1</em>&nbsp;</td><td>if the session has the <a class="el" href="structpermission.html">permission</a> mask capabilities, otherwise 0 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>otherwise </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="manager_8c_source.html#l03555">3555</a> of file <a class="el" href="manager_8c_source.html">manager.c</a>.</p>

<p>References <a class="el" href="manager_8c_source.html#l00186">mansession_session::__lock</a>, <a class="el" href="linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="lock_8h_source.html#l01717">ast_mutex_lock()</a>, <a class="el" href="lock_8h_source.html#l01707">ast_mutex_unlock()</a>, <a class="el" href="manager_8c_source.html#l00194">mansession_session::managerid</a>, and <a class="el" href="manager_8c_source.html#l00201">mansession_session::writeperm</a>.</p>

<p>Referenced by <a class="el" href="res__http__post_8c_source.html#l00296">http_post_callback()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l03556"></a>03556 {
<a name="l03557"></a>03557    <span class="keywordtype">int</span> result = 0;
<a name="l03558"></a>03558    <span class="keyword">struct </span><a class="code" href="structmansession__session.html">mansession_session</a> *session;
<a name="l03559"></a>03559 
<a name="l03560"></a>03560    <a class="code" href="linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40" title="Locks a list.">AST_LIST_LOCK</a>(&amp;<a class="code" href="structsessions.html">sessions</a>);
<a name="l03561"></a>03561    <a class="code" href="linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef" title="Loops over (traverses) the entries in a list.">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="structsessions.html">sessions</a>, session, <a class="code" href="structmansession__session.html#a815de629926cb685e0c54eab5ac892ff">list</a>) {
<a name="l03562"></a>03562       <a class="code" href="lock_8h.html#ad941566de4050aa7358493af94d2ba4d">ast_mutex_lock</a>(&amp;session-&gt;<a class="code" href="structmansession__session.html#acc08bc856eb8a6f898a257a7d76f1dba">__lock</a>);
<a name="l03563"></a>03563       <span class="keywordflow">if</span> ((session-&gt;<a class="code" href="structmansession__session.html#a24367fd57bd683dd7fdba2db57ce314e">managerid</a> == ident) &amp;&amp; (session-&gt;<a class="code" href="structmansession__session.html#a006a09ed1c51271c4b6f582a2a42ba5f">writeperm</a> &amp; perm)) {
<a name="l03564"></a>03564          result = 1;
<a name="l03565"></a>03565          <a class="code" href="lock_8h.html#aa9b39f0e22f44a7e7f587d4252e41a0b">ast_mutex_unlock</a>(&amp;session-&gt;<a class="code" href="structmansession__session.html#acc08bc856eb8a6f898a257a7d76f1dba">__lock</a>);
<a name="l03566"></a>03566          <span class="keywordflow">break</span>;
<a name="l03567"></a>03567       }
<a name="l03568"></a>03568       <a class="code" href="lock_8h.html#aa9b39f0e22f44a7e7f587d4252e41a0b">ast_mutex_unlock</a>(&amp;session-&gt;<a class="code" href="structmansession__session.html#acc08bc856eb8a6f898a257a7d76f1dba">__lock</a>);
<a name="l03569"></a>03569    }
<a name="l03570"></a>03570    <a class="code" href="linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01" title="Attempts to unlock a list.">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="structsessions.html">sessions</a>);
<a name="l03571"></a>03571    <span class="keywordflow">return</span> result;
<a name="l03572"></a>03572 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="abd67495092f6edf4b7e5b6ae94be3154"></a><!-- doxytag: member="manager.h::init_manager" ref="abd67495092f6edf4b7e5b6ae94be3154" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_manager </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called by Asterisk initialization. </p>

<p>Definition at line <a class="el" href="manager_8c_source.html#l04376">4376</a> of file <a class="el" href="manager_8c_source.html">manager.c</a>.</p>

<p>References <a class="el" href="manager_8c_source.html#l04061">__init_manager()</a>.</p>

<p>Referenced by <a class="el" href="asterisk_8c_source.html#l03095">main()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l04377"></a>04377 {
<a name="l04378"></a>04378    <span class="keywordflow">return</span> <a class="code" href="manager_8c.html#a1d18fccb8dd1b468c17c0a89983b7d82">__init_manager</a>(0);
<a name="l04379"></a>04379 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a272b99cacf89996831cfd6dc5253d6e8"></a><!-- doxytag: member="manager.h::reload_manager" ref="a272b99cacf89996831cfd6dc5253d6e8" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int reload_manager </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called by Asterisk module functions and the CLI command. </p>

<p>Definition at line <a class="el" href="manager_8c_source.html#l04381">4381</a> of file <a class="el" href="manager_8c_source.html">manager.c</a>.</p>

<p>References <a class="el" href="manager_8c_source.html#l04061">__init_manager()</a>.</p>

<p>Referenced by <a class="el" href="manager_8c_source.html#l00784">handle_manager_reload()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l04382"></a>04382 {
<a name="l04383"></a>04383    <span class="keywordflow">return</span> <a class="code" href="manager_8c.html#a1d18fccb8dd1b468c17c0a89983b7d82">__init_manager</a>(1);
<a name="l04384"></a>04384 }
</pre></div></p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed May 5 15:22:23 2010 for Asterisk - the Open Source PBX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
