<HTML>
    <HEAD>
      <TITLE>Asterisk.org: Developer Documentation (5 May 2010)</TITLE>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<div><font size="2" align="right">Wed May 5 15:23:35 2010</font></div>

<h2>Asterisk developer's documentation</h2>
<hr/>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="CommitMessages">Guidelines for Commit Messages </a></h1><dl class="note"><dt><b>Note:</b></dt><dd>The information contained on this page may be out of date. To make sure you get the most current information, please make sure that you are using the documentation generated from Asterisk trunk.</dd></dl>
<hr/>
<h2><a class="anchor" id="CommitMsgFormatting">
Commit Message Formatting</a></h2>
<p>The following illustrates the basic outline for commit messages:</p>
<div class="fragment"><pre class="fragment">
  &lt;One-liner summary of changes&gt;
 
  &lt;Verbose description of the changes&gt;

  &lt;Special Tags&gt;
  </pre></div><p>Some commit history viewers treat the first line of commit messages as the summary for the commit. So, an effort should be made to format our commit messages in that fashion. The verbose description may contain multiple paragraphs, itemized lists, etc.</p>
<p>Commit messages should be wrapped at 80 columns.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>For trivial commits, such as "fix the build", or "fix spelling mistake", the verbose description may not be necessary.</dd></dl>
<hr/>
<h2><a class="anchor" id="CommitMsgTags">
Special Tags for Commit Messages</a></h2>
<h3><a class="anchor" id="MantisTags">
Mantis (http://bugs.digium.com/)</a></h3>
<p>To have a commit noted in an issue, use a tag of the form: </p>
<ul>
<li>(issue #1234)</li>
</ul>
<p>To have a commit automatically close an issue, use a tag of the form: </p>
<ul>
<li>(closes issue #1234)</li>
</ul>
<p>When making a commit for a mantis issue, it is easiest to use the provided commit message template functionality. It will format the special tags appropriately, and will also include information about who reported the issue, which patches are being applied, and who did testing.</p>
<p>Assuming that you have bug marshal access (and if you have commit access, it is pretty safe to assume that you do), you will find the commit message template section directly below the issue details section and above the issue relationships section. You will have to click the '+' next to "Commit message template" to make the contents of the section visible.</p>
<p>Here is an example of what the template will generate for you:</p>
<div class="fragment"><pre class="fragment">
  (closes issue #1234)
  Reported by: SomeGuy
  Patches:
       fix_bug_1234.diff uploaded by SomeDeveloper (license 5678)
  </pre></div><p>If the patch being committed was written by the person doing the commit, and is not available to reference as an upload to the issue, there is no need to include something like "fixed by me", as that will be the default assumption when a specific patch is not referenced.</p>
<h3><a class="anchor" id="ReviewBoardTags">
Review Board (http://reviewboard.digium.com/)</a></h3>
<p>To have a commit set a review request as submitted, include the full URL to the review request. For example: </p>
<ul>
<li>Review: http://reviewboard.digium.com/r/95/</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd>The trailing slash in the review URL is required.</dd></dl>
<hr/>
<h2><a class="anchor" id="CommitMsgSvnmerge">
Commit Messages with svnmerge</a></h2>
<p>When using the svnmerge tool for merging changes between branches, use the commit message generated by svnmerge. The '-f' option to svnmerge allows you to specify a file for svnmerge to write out a commit message to. The '-F' option to svn commit allows you to specify a file that contains the commit message.</p>
<p>If you are using the expect script wrappers for svnmerge from repotools, a commit message is automatically placed in the file '../merge.msg'.</p>
<p>For more detailed information about working with branches and merging, see the following page on asterisk.org: </p>
<ul>
<li><a href="http://www.asterisk.org/developers/svn-branching-merging">http://www.asterisk.org/developers/svn-branching-merging</a> </li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed May 5 15:23:35 2010 for Asterisk - the Open Source PBX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
