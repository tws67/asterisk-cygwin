<HTML>
    <HEAD>
      <TITLE>Asterisk.org: Developer Documentation (5 May 2010)</TITLE>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<div><font size="2" align="right">Wed May 5 15:22:12 2010</font></div>

<h2>Asterisk developer's documentation</h2>
<hr/>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_0ca6ff3bf6b340411b2c6edd15b1a34d.html">channels</a>
  </div>
</div>
<div class="contents">
<h1>iax2-provision.h File Reference</h1>
<p>IAX2 Provisioning protocol.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="iax2-parser_8h_source.html">iax2-parser.h</a>&quot;</code><br/>

<p><a href="iax2-provision_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#a641f85beff3707d1e4acf6027cdd118f">PROV_FLAG_DEBUG</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 3)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#acb3f99cf2eb3b546c93e5af7c4406f85">PROV_FLAG_DIS_CALLERID</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 4)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#aa127ba81222e3d459c7707497768abb5">PROV_FLAG_DIS_CALLWAIT</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 5)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#a95a3a9a59bbec50a60f1551640e9a9df">PROV_FLAG_DIS_CIDCW</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 6)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#a196c71883f40f1e27d3448b5859945a6">PROV_FLAG_DIS_THREEWAY</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 7)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#a0e879c3024b271e3eef13edfcac58d8c">PROV_FLAG_HEARTBEAT</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#ac2996870e35677da857d7e2d6ea8eff6">PROV_FLAG_REGISTER</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#a8295c74d588b3896224a15fa507f1c8d">PROV_FLAG_SECURE</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#ac9be69b6b7d40403c71f7aeef078a5f7">PROV_IE_AESKEY</a>&nbsp;&nbsp;&nbsp;14</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#ac94a0feff8be27b26e51ba405ff1e8fb">PROV_IE_ALTSERVER</a>&nbsp;&nbsp;&nbsp;19</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#a9790f3ad351aaf2d3d3ebe93e74baae1">PROV_IE_FLAGS</a>&nbsp;&nbsp;&nbsp;12</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#a6a2e89497ab0b9084447e33768bb1e15">PROV_IE_FORMAT</a>&nbsp;&nbsp;&nbsp;13</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#a043e852664f7f997ffa0b2979c6fd751">PROV_IE_GATEWAY</a>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#a8d0bf9a9dd46ad3281d8b620845e6acb">PROV_IE_IPADDR</a>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#ab2ad5339dbf3db517465d50d77eb9a27">PROV_IE_LANG</a>&nbsp;&nbsp;&nbsp;10</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#a5ec5f7cf3dafc2ca20c3010a63209eba">PROV_IE_NEWAESKEY</a>&nbsp;&nbsp;&nbsp;17</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#aa61a72516b9299b9eeb8bb991f7e42e0">PROV_IE_PASS</a>&nbsp;&nbsp;&nbsp;7</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#a259dace31edbb69e2ff463e099b75ddf">PROV_IE_PORTNO</a>&nbsp;&nbsp;&nbsp;5</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#a0fdc1f7d18c524a91139b4f04d368d10">PROV_IE_PROVVER</a>&nbsp;&nbsp;&nbsp;18</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#a4ca326bf7fd02b34eb29a3951b314790">PROV_IE_SERVERIP</a>&nbsp;&nbsp;&nbsp;15</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#a6e49c7a09fe3b36cd3d8ddac5f9758be">PROV_IE_SERVERPASS</a>&nbsp;&nbsp;&nbsp;9</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#a9bdb858968d2dedaf628bf2219ce270a">PROV_IE_SERVERPORT</a>&nbsp;&nbsp;&nbsp;16</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#ac657ab2de7416353f749066e956fa061">PROV_IE_SERVERUSER</a>&nbsp;&nbsp;&nbsp;8</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#a6823ab99e7f311ec8f35198fd8c0f418">PROV_IE_SUBNET</a>&nbsp;&nbsp;&nbsp;3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#a979ccb08043f2e843396b9656b371dc1">PROV_IE_TOS</a>&nbsp;&nbsp;&nbsp;11</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#a625aa684044ea36f75024665f07592fc">PROV_IE_USEDHCP</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#a84ce655c0b44b83ae34986c8ec0833ec">PROV_IE_USER</a>&nbsp;&nbsp;&nbsp;6</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#a37fe1c9461e11b52a9349aa79d90dcf6">iax_prov_complete_template</a> (const char *line, const char *word, int pos, int <a class="el" href="structstate.html">state</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#a6ac38b0d78b4ca300da3815c64e158be">iax_provflags2str</a> (char *<a class="el" href="adsistub_8c.html#aa95cbf1d00929438101e64ee5a216d0c">buf</a>, int buflen, unsigned int flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#a7287d78c6f1063fabd563fa0a325bc14">iax_provision_build</a> (struct <a class="el" href="structiax__ie__data.html">iax_ie_data</a> *provdata, unsigned int *signature, const char *template, int force)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#a051a4fcc9414603f37de057900261c13">iax_provision_reload</a> (int reload)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#a91a2d80b234f3c818eb02b6d24aea4ce">iax_provision_unload</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="iax2-provision_8h.html#aa5df42002a9fb3a2e07bc0f3b5a00bad">iax_provision_version</a> (unsigned int *signature, const char *template, int force)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>IAX2 Provisioning protocol. </p>

<p>Definition in file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a641f85beff3707d1e4acf6027cdd118f"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_FLAG_DEBUG" ref="a641f85beff3707d1e4acf6027cdd118f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_FLAG_DEBUG&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 3)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00041">41</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

</div>
</div>
<a class="anchor" id="acb3f99cf2eb3b546c93e5af7c4406f85"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_FLAG_DIS_CALLERID" ref="acb3f99cf2eb3b546c93e5af7c4406f85" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_FLAG_DIS_CALLERID&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 4)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00043">43</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa127ba81222e3d459c7707497768abb5"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_FLAG_DIS_CALLWAIT" ref="aa127ba81222e3d459c7707497768abb5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_FLAG_DIS_CALLWAIT&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 5)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00044">44</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

</div>
</div>
<a class="anchor" id="a95a3a9a59bbec50a60f1551640e9a9df"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_FLAG_DIS_CIDCW" ref="a95a3a9a59bbec50a60f1551640e9a9df" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_FLAG_DIS_CIDCW&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 6)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00045">45</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

</div>
</div>
<a class="anchor" id="a196c71883f40f1e27d3448b5859945a6"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_FLAG_DIS_THREEWAY" ref="a196c71883f40f1e27d3448b5859945a6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_FLAG_DIS_THREEWAY&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 7)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00046">46</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0e879c3024b271e3eef13edfcac58d8c"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_FLAG_HEARTBEAT" ref="a0e879c3024b271e3eef13edfcac58d8c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_FLAG_HEARTBEAT&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 2)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00040">40</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac2996870e35677da857d7e2d6ea8eff6"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_FLAG_REGISTER" ref="ac2996870e35677da857d7e2d6ea8eff6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_FLAG_REGISTER&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00038">38</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8295c74d588b3896224a15fa507f1c8d"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_FLAG_SECURE" ref="a8295c74d588b3896224a15fa507f1c8d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_FLAG_SECURE&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00039">39</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac9be69b6b7d40403c71f7aeef078a5f7"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_IE_AESKEY" ref="ac9be69b6b7d40403c71f7aeef078a5f7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_IE_AESKEY&nbsp;&nbsp;&nbsp;14</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00031">31</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac94a0feff8be27b26e51ba405ff1e8fb"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_IE_ALTSERVER" ref="ac94a0feff8be27b26e51ba405ff1e8fb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_IE_ALTSERVER&nbsp;&nbsp;&nbsp;19</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00036">36</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

<p>Referenced by <a class="el" href="iax2-provision_8c_source.html#l00206">iax_provision_build()</a>.</p>

</div>
</div>
<a class="anchor" id="a9790f3ad351aaf2d3d3ebe93e74baae1"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_IE_FLAGS" ref="a9790f3ad351aaf2d3d3ebe93e74baae1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_IE_FLAGS&nbsp;&nbsp;&nbsp;12</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00029">29</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

<p>Referenced by <a class="el" href="iax2-provision_8c_source.html#l00206">iax_provision_build()</a>.</p>

</div>
</div>
<a class="anchor" id="a6a2e89497ab0b9084447e33768bb1e15"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_IE_FORMAT" ref="a6a2e89497ab0b9084447e33768bb1e15" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_IE_FORMAT&nbsp;&nbsp;&nbsp;13</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00030">30</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

<p>Referenced by <a class="el" href="iax2-provision_8c_source.html#l00206">iax_provision_build()</a>.</p>

</div>
</div>
<a class="anchor" id="a043e852664f7f997ffa0b2979c6fd751"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_IE_GATEWAY" ref="a043e852664f7f997ffa0b2979c6fd751" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_IE_GATEWAY&nbsp;&nbsp;&nbsp;4</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00021">21</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8d0bf9a9dd46ad3281d8b620845e6acb"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_IE_IPADDR" ref="a8d0bf9a9dd46ad3281d8b620845e6acb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_IE_IPADDR&nbsp;&nbsp;&nbsp;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00019">19</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab2ad5339dbf3db517465d50d77eb9a27"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_IE_LANG" ref="ab2ad5339dbf3db517465d50d77eb9a27" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_IE_LANG&nbsp;&nbsp;&nbsp;10</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00027">27</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

<p>Referenced by <a class="el" href="iax2-provision_8c_source.html#l00206">iax_provision_build()</a>.</p>

</div>
</div>
<a class="anchor" id="a5ec5f7cf3dafc2ca20c3010a63209eba"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_IE_NEWAESKEY" ref="a5ec5f7cf3dafc2ca20c3010a63209eba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_IE_NEWAESKEY&nbsp;&nbsp;&nbsp;17</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00034">34</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa61a72516b9299b9eeb8bb991f7e42e0"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_IE_PASS" ref="aa61a72516b9299b9eeb8bb991f7e42e0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_IE_PASS&nbsp;&nbsp;&nbsp;7</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00024">24</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

<p>Referenced by <a class="el" href="iax2-provision_8c_source.html#l00206">iax_provision_build()</a>.</p>

</div>
</div>
<a class="anchor" id="a259dace31edbb69e2ff463e099b75ddf"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_IE_PORTNO" ref="a259dace31edbb69e2ff463e099b75ddf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_IE_PORTNO&nbsp;&nbsp;&nbsp;5</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00022">22</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

<p>Referenced by <a class="el" href="iax2-provision_8c_source.html#l00206">iax_provision_build()</a>.</p>

</div>
</div>
<a class="anchor" id="a0fdc1f7d18c524a91139b4f04d368d10"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_IE_PROVVER" ref="a0fdc1f7d18c524a91139b4f04d368d10" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_IE_PROVVER&nbsp;&nbsp;&nbsp;18</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00035">35</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

<p>Referenced by <a class="el" href="iax2-provision_8c_source.html#l00206">iax_provision_build()</a>.</p>

</div>
</div>
<a class="anchor" id="a4ca326bf7fd02b34eb29a3951b314790"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_IE_SERVERIP" ref="a4ca326bf7fd02b34eb29a3951b314790" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_IE_SERVERIP&nbsp;&nbsp;&nbsp;15</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00032">32</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

<p>Referenced by <a class="el" href="iax2-provision_8c_source.html#l00206">iax_provision_build()</a>.</p>

</div>
</div>
<a class="anchor" id="a6e49c7a09fe3b36cd3d8ddac5f9758be"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_IE_SERVERPASS" ref="a6e49c7a09fe3b36cd3d8ddac5f9758be" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_IE_SERVERPASS&nbsp;&nbsp;&nbsp;9</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00026">26</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9bdb858968d2dedaf628bf2219ce270a"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_IE_SERVERPORT" ref="a9bdb858968d2dedaf628bf2219ce270a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_IE_SERVERPORT&nbsp;&nbsp;&nbsp;16</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00033">33</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

<p>Referenced by <a class="el" href="iax2-provision_8c_source.html#l00206">iax_provision_build()</a>.</p>

</div>
</div>
<a class="anchor" id="ac657ab2de7416353f749066e956fa061"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_IE_SERVERUSER" ref="ac657ab2de7416353f749066e956fa061" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_IE_SERVERUSER&nbsp;&nbsp;&nbsp;8</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00025">25</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6823ab99e7f311ec8f35198fd8c0f418"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_IE_SUBNET" ref="a6823ab99e7f311ec8f35198fd8c0f418" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_IE_SUBNET&nbsp;&nbsp;&nbsp;3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00020">20</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

</div>
</div>
<a class="anchor" id="a979ccb08043f2e843396b9656b371dc1"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_IE_TOS" ref="a979ccb08043f2e843396b9656b371dc1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_IE_TOS&nbsp;&nbsp;&nbsp;11</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00028">28</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

<p>Referenced by <a class="el" href="iax2-provision_8c_source.html#l00206">iax_provision_build()</a>.</p>

</div>
</div>
<a class="anchor" id="a625aa684044ea36f75024665f07592fc"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_IE_USEDHCP" ref="a625aa684044ea36f75024665f07592fc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_IE_USEDHCP&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00018">18</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

</div>
</div>
<a class="anchor" id="a84ce655c0b44b83ae34986c8ec0833ec"></a><!-- doxytag: member="iax2&#45;provision.h::PROV_IE_USER" ref="a84ce655c0b44b83ae34986c8ec0833ec" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROV_IE_USER&nbsp;&nbsp;&nbsp;6</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8h_source.html#l00023">23</a> of file <a class="el" href="iax2-provision_8h_source.html">iax2-provision.h</a>.</p>

<p>Referenced by <a class="el" href="iax2-provision_8c_source.html#l00206">iax_provision_build()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a37fe1c9461e11b52a9349aa79d90dcf6"></a><!-- doxytag: member="iax2&#45;provision.h::iax_prov_complete_template" ref="a37fe1c9461e11b52a9349aa79d90dcf6" args="(const char *line, const char *word, int pos, int state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* iax_prov_complete_template </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>state</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8c_source.html#l00176">176</a> of file <a class="el" href="iax2-provision_8c_source.html">iax2-provision.c</a>.</p>

<p>References <a class="el" href="linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="lock_8h_source.html#l01717">ast_mutex_lock()</a>, <a class="el" href="lock_8h_source.html#l01707">ast_mutex_unlock()</a>, <a class="el" href="astmm_8h_source.html#l00099">ast_strdup</a>, and <a class="el" href="iax2-provision_8c_source.html#l00052">iax_template::name</a>.</p>

<p>Referenced by <a class="el" href="chan__iax2_8c_source.html#l11402">handle_cli_iax2_provision()</a>, and <a class="el" href="iax2-provision_8c_source.html#l00431">iax_show_provisioning()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00177"></a>00177 {
<a name="l00178"></a>00178    <span class="keyword">struct </span><a class="code" href="structiax__template.html">iax_template</a> *c;
<a name="l00179"></a>00179    <span class="keywordtype">int</span> which=0;
<a name="l00180"></a>00180    <span class="keywordtype">char</span> *ret = NULL;
<a name="l00181"></a>00181    <span class="keywordtype">int</span> wordlen = strlen(<a class="code" href="ael_8tab_8c.html#a836535f59bf515522a395858a8029d42">word</a>);
<a name="l00182"></a>00182 
<a name="l00183"></a>00183    <span class="keywordflow">if</span> (pos == 3) {
<a name="l00184"></a>00184       <a class="code" href="lock_8h.html#ad941566de4050aa7358493af94d2ba4d">ast_mutex_lock</a>(&amp;provlock);
<a name="l00185"></a>00185       <a class="code" href="linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef" title="Loops over (traverses) the entries in a list.">AST_LIST_TRAVERSE</a>(&amp;templates, c, list) {
<a name="l00186"></a>00186          <span class="keywordflow">if</span> (!strncasecmp(<a class="code" href="ael_8tab_8c.html#a836535f59bf515522a395858a8029d42">word</a>, c-&gt;<a class="code" href="structiax__template.html#a3777dbae63a15da001b2baa317a25149">name</a>, wordlen) &amp;&amp; ++which &gt; <a class="code" href="structstate.html">state</a>) {
<a name="l00187"></a>00187             ret = <a class="code" href="astmm_8h.html#a2ef2401ade6b4b773138a82c86c40903">ast_strdup</a>(c-&gt;<a class="code" href="structiax__template.html#a3777dbae63a15da001b2baa317a25149">name</a>);
<a name="l00188"></a>00188             <span class="keywordflow">break</span>;
<a name="l00189"></a>00189          }
<a name="l00190"></a>00190       }
<a name="l00191"></a>00191       <a class="code" href="lock_8h.html#aa9b39f0e22f44a7e7f587d4252e41a0b">ast_mutex_unlock</a>(&amp;provlock);
<a name="l00192"></a>00192    }
<a name="l00193"></a>00193    <span class="keywordflow">return</span> ret;
<a name="l00194"></a>00194 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6ac38b0d78b4ca300da3815c64e158be"></a><!-- doxytag: member="iax2&#45;provision.h::iax_provflags2str" ref="a6ac38b0d78b4ca300da3815c64e158be" args="(char *buf, int buflen, unsigned int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* iax_provflags2str </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>buflen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8c_source.html#l00085">85</a> of file <a class="el" href="iax2-provision_8c_source.html">iax2-provision.c</a>.</p>

<p>References <a class="el" href="isdn__lib_8c_source.html#l00040">ARRAY_LEN</a>, <a class="el" href="strings_8h_source.html#l00063">ast_strlen_zero()</a>, <a class="el" href="iax2-provision_8c.html#a7e216a5c44f07d1632da676ee107cad4">iax_flags</a>, and <a class="el" href="iax2-provision_8c_source.html#l00052">iax_template::name</a>.</p>

<p>Referenced by <a class="el" href="iax2-parser_8c_source.html#l00180">dump_prov_flags()</a>, and <a class="el" href="iax2-provision_8c_source.html#l00431">iax_show_provisioning()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00086"></a>00086 {
<a name="l00087"></a>00087    <span class="keywordtype">int</span> x;
<a name="l00088"></a>00088 
<a name="l00089"></a>00089    <span class="keywordflow">if</span> (!<a class="code" href="adsistub_8c.html#aa95cbf1d00929438101e64ee5a216d0c">buf</a> || buflen &lt; 1)
<a name="l00090"></a>00090       <span class="keywordflow">return</span> NULL;
<a name="l00091"></a>00091    
<a name="l00092"></a>00092    <a class="code" href="adsistub_8c.html#aa95cbf1d00929438101e64ee5a216d0c">buf</a>[0] = <span class="charliteral">&apos;\0&apos;</span>;
<a name="l00093"></a>00093 
<a name="l00094"></a>00094    <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="iax2-provision_8c.html#a7e216a5c44f07d1632da676ee107cad4">iax_flags</a>); x++) {
<a name="l00095"></a>00095       <span class="keywordflow">if</span> (<a class="code" href="structiax__template.html#ac92588540e8c1d014a08cd8a45462b19">flags</a> &amp; <a class="code" href="iax2-provision_8c.html#a7e216a5c44f07d1632da676ee107cad4">iax_flags</a>[x].value){
<a name="l00096"></a>00096          strncat(<a class="code" href="adsistub_8c.html#aa95cbf1d00929438101e64ee5a216d0c">buf</a>, <a class="code" href="iax2-provision_8c.html#a7e216a5c44f07d1632da676ee107cad4">iax_flags</a>[x].<a class="code" href="cdr__adaptive__odbc_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, buflen - strlen(<a class="code" href="adsistub_8c.html#aa95cbf1d00929438101e64ee5a216d0c">buf</a>) - 1);
<a name="l00097"></a>00097          strncat(<a class="code" href="adsistub_8c.html#aa95cbf1d00929438101e64ee5a216d0c">buf</a>, <span class="stringliteral">&quot;,&quot;</span>, buflen - strlen(<a class="code" href="adsistub_8c.html#aa95cbf1d00929438101e64ee5a216d0c">buf</a>) - 1);
<a name="l00098"></a>00098       }
<a name="l00099"></a>00099    }
<a name="l00100"></a>00100 
<a name="l00101"></a>00101    <span class="keywordflow">if</span> (!<a class="code" href="strings_8h.html#a5c8aa5212ecb665fb072eac00c799da6">ast_strlen_zero</a>(<a class="code" href="adsistub_8c.html#aa95cbf1d00929438101e64ee5a216d0c">buf</a>)) 
<a name="l00102"></a>00102       <a class="code" href="adsistub_8c.html#aa95cbf1d00929438101e64ee5a216d0c">buf</a>[strlen(<a class="code" href="adsistub_8c.html#aa95cbf1d00929438101e64ee5a216d0c">buf</a>) - 1] = <span class="charliteral">&apos;\0&apos;</span>;
<a name="l00103"></a>00103    <span class="keywordflow">else</span>
<a name="l00104"></a>00104       strncpy(<a class="code" href="adsistub_8c.html#aa95cbf1d00929438101e64ee5a216d0c">buf</a>, <span class="stringliteral">&quot;none&quot;</span>, buflen - 1);
<a name="l00105"></a>00105 
<a name="l00106"></a>00106    <span class="keywordflow">return</span> <a class="code" href="adsistub_8c.html#aa95cbf1d00929438101e64ee5a216d0c">buf</a>;
<a name="l00107"></a>00107 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7287d78c6f1063fabd563fa0a325bc14"></a><!-- doxytag: member="iax2&#45;provision.h::iax_provision_build" ref="a7287d78c6f1063fabd563fa0a325bc14" args="(struct iax_ie_data *provdata, unsigned int *signature, const char *template, int force)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iax_provision_build </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structiax__ie__data.html">iax_ie_data</a> *&nbsp;</td>
          <td class="paramname"> <em>provdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>signature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>template</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>force</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8c_source.html#l00206">206</a> of file <a class="el" href="iax2-provision_8c_source.html">iax2-provision.c</a>.</p>

<p>References <a class="el" href="iax2-provision_8c_source.html#l00060">iax_template::altserver</a>, <a class="el" href="db_8c_source.html#l00138">ast_db_put()</a>, <a class="el" href="lock_8h_source.html#l01717">ast_mutex_lock()</a>, <a class="el" href="lock_8h_source.html#l01707">ast_mutex_unlock()</a>, <a class="el" href="iax2-provision_8c_source.html#l00061">iax_template::flags</a>, <a class="el" href="iax2-provision_8c_source.html#l00062">iax_template::format</a>, <a class="el" href="iax2-parser_8c_source.html#l00697">iax_ie_append_byte()</a>, <a class="el" href="iax2-parser_8c_source.html#l00678">iax_ie_append_int()</a>, <a class="el" href="iax2-parser_8c_source.html#l00685">iax_ie_append_short()</a>, <a class="el" href="iax2-parser_8c_source.html#l00692">iax_ie_append_str()</a>, <a class="el" href="iax2-provision_8c_source.html#l00160">iax_template_find()</a>, <a class="el" href="iax2-provision_8c_source.html#l00056">iax_template::lang</a>, <a class="el" href="iax2-provision_8c_source.html#l00055">iax_template::pass</a>, <a class="el" href="iax2-provision_8c_source.html#l00057">iax_template::port</a>, <a class="el" href="iax2-provision_8h_source.html#l00036">PROV_IE_ALTSERVER</a>, <a class="el" href="iax2-provision_8h_source.html#l00029">PROV_IE_FLAGS</a>, <a class="el" href="iax2-provision_8h_source.html#l00030">PROV_IE_FORMAT</a>, <a class="el" href="iax2-provision_8h_source.html#l00027">PROV_IE_LANG</a>, <a class="el" href="iax2-provision_8h_source.html#l00024">PROV_IE_PASS</a>, <a class="el" href="iax2-provision_8h_source.html#l00022">PROV_IE_PORTNO</a>, <a class="el" href="iax2-provision_8h_source.html#l00035">PROV_IE_PROVVER</a>, <a class="el" href="iax2-provision_8h_source.html#l00032">PROV_IE_SERVERIP</a>, <a class="el" href="iax2-provision_8h_source.html#l00033">PROV_IE_SERVERPORT</a>, <a class="el" href="iax2-provision_8h_source.html#l00028">PROV_IE_TOS</a>, <a class="el" href="iax2-provision_8h_source.html#l00023">PROV_IE_USER</a>, <a class="el" href="iax2-provision_8c_source.html#l00196">prov_ver_calc()</a>, <a class="el" href="iax2-provision_8c_source.html#l00058">iax_template::server</a>, <a class="el" href="iax2-provision_8c_source.html#l00059">iax_template::serverport</a>, <a class="el" href="iax2-provision_8c_source.html#l00063">iax_template::tos</a>, and <a class="el" href="iax2-provision_8c_source.html#l00054">iax_template::user</a>.</p>

<p>Referenced by <a class="el" href="chan__iax2_8c_source.html#l11321">iax2_provision()</a>, and <a class="el" href="iax2-provision_8c_source.html#l00255">iax_provision_version()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00207"></a>00207 {
<a name="l00208"></a>00208    <span class="keyword">struct </span><a class="code" href="structiax__template.html">iax_template</a> *cur;
<a name="l00209"></a>00209    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sig;
<a name="l00210"></a>00210    <span class="keywordtype">char</span> tmp[40];
<a name="l00211"></a>00211    memset(provdata, 0, <span class="keyword">sizeof</span>(*provdata));
<a name="l00212"></a>00212    <a class="code" href="lock_8h.html#ad941566de4050aa7358493af94d2ba4d">ast_mutex_lock</a>(&amp;provlock);
<a name="l00213"></a>00213    cur = <a class="code" href="iax2-provision_8c.html#af6ee10bf2d071790643b255ab4363902">iax_template_find</a>(<span class="keyword">template</span>, 1);
<a name="l00214"></a>00214    <span class="comment">/* If no match, try searching for &apos;*&apos; */</span>
<a name="l00215"></a>00215    <span class="keywordflow">if</span> (!cur)
<a name="l00216"></a>00216       cur = <a class="code" href="iax2-provision_8c.html#af6ee10bf2d071790643b255ab4363902">iax_template_find</a>(<span class="stringliteral">&quot;*&quot;</span>, 1);
<a name="l00217"></a>00217    <span class="keywordflow">if</span> (cur) {
<a name="l00218"></a>00218       <span class="comment">/* found it -- add information elements as appropriate */</span>
<a name="l00219"></a>00219       <span class="keywordflow">if</span> (force || strlen(cur-&gt;<a class="code" href="structiax__template.html#a5d3c37c25271af8d09ce76fb32508f26">user</a>))
<a name="l00220"></a>00220          <a class="code" href="iax2-parser_8c.html#ad94f0fdb4e50d38876577242d132709f">iax_ie_append_str</a>(provdata, <a class="code" href="iax2-provision_8h.html#a84ce655c0b44b83ae34986c8ec0833ec">PROV_IE_USER</a>, cur-&gt;<a class="code" href="structiax__template.html#a5d3c37c25271af8d09ce76fb32508f26">user</a>);
<a name="l00221"></a>00221       <span class="keywordflow">if</span> (force || strlen(cur-&gt;<a class="code" href="structiax__template.html#a66d8e7eb200051aa1aac4a0456cc9e62">pass</a>))
<a name="l00222"></a>00222          <a class="code" href="iax2-parser_8c.html#ad94f0fdb4e50d38876577242d132709f">iax_ie_append_str</a>(provdata, <a class="code" href="iax2-provision_8h.html#aa61a72516b9299b9eeb8bb991f7e42e0">PROV_IE_PASS</a>, cur-&gt;<a class="code" href="structiax__template.html#a66d8e7eb200051aa1aac4a0456cc9e62">pass</a>);
<a name="l00223"></a>00223       <span class="keywordflow">if</span> (force || strlen(cur-&gt;<a class="code" href="structiax__template.html#a95e60dc43b9fef623ab8782e824fc695">lang</a>))
<a name="l00224"></a>00224          <a class="code" href="iax2-parser_8c.html#ad94f0fdb4e50d38876577242d132709f">iax_ie_append_str</a>(provdata, <a class="code" href="iax2-provision_8h.html#ab2ad5339dbf3db517465d50d77eb9a27">PROV_IE_LANG</a>, cur-&gt;<a class="code" href="structiax__template.html#a95e60dc43b9fef623ab8782e824fc695">lang</a>);
<a name="l00225"></a>00225       <span class="keywordflow">if</span> (force || cur-&gt;<a class="code" href="structiax__template.html#ab85ff85aa1f60f4a1c1ca1225a9dad06">port</a>)
<a name="l00226"></a>00226          <a class="code" href="iax2-parser_8c.html#ad08e1debfa7325dfa3f22a8cc09f4945">iax_ie_append_short</a>(provdata, <a class="code" href="iax2-provision_8h.html#a259dace31edbb69e2ff463e099b75ddf">PROV_IE_PORTNO</a>, cur-&gt;<a class="code" href="structiax__template.html#ab85ff85aa1f60f4a1c1ca1225a9dad06">port</a>);
<a name="l00227"></a>00227       <span class="keywordflow">if</span> (force || cur-&gt;<a class="code" href="structiax__template.html#a3a754bb2e80237e81aabfbee0403260f">server</a>)
<a name="l00228"></a>00228          <a class="code" href="iax2-parser_8c.html#aa67b90e85b844cfc53a539813aca05ca">iax_ie_append_int</a>(provdata, <a class="code" href="iax2-provision_8h.html#a4ca326bf7fd02b34eb29a3951b314790">PROV_IE_SERVERIP</a>, cur-&gt;<a class="code" href="structiax__template.html#a3a754bb2e80237e81aabfbee0403260f">server</a>);
<a name="l00229"></a>00229       <span class="keywordflow">if</span> (force || cur-&gt;<a class="code" href="structiax__template.html#aee1d4adc596fbc8619c2f8daceefaea5">serverport</a>)
<a name="l00230"></a>00230          <a class="code" href="iax2-parser_8c.html#ad08e1debfa7325dfa3f22a8cc09f4945">iax_ie_append_short</a>(provdata, <a class="code" href="iax2-provision_8h.html#a9bdb858968d2dedaf628bf2219ce270a">PROV_IE_SERVERPORT</a>, cur-&gt;<a class="code" href="structiax__template.html#aee1d4adc596fbc8619c2f8daceefaea5">serverport</a>);
<a name="l00231"></a>00231       <span class="keywordflow">if</span> (force || cur-&gt;<a class="code" href="structiax__template.html#a445ba3e53843a877ba362472bcc6d0eb">altserver</a>)
<a name="l00232"></a>00232          <a class="code" href="iax2-parser_8c.html#aa67b90e85b844cfc53a539813aca05ca">iax_ie_append_int</a>(provdata, <a class="code" href="iax2-provision_8h.html#ac94a0feff8be27b26e51ba405ff1e8fb">PROV_IE_ALTSERVER</a>, cur-&gt;<a class="code" href="structiax__template.html#a445ba3e53843a877ba362472bcc6d0eb">altserver</a>);
<a name="l00233"></a>00233       <span class="keywordflow">if</span> (force || cur-&gt;<a class="code" href="structiax__template.html#ac92588540e8c1d014a08cd8a45462b19">flags</a>)
<a name="l00234"></a>00234          <a class="code" href="iax2-parser_8c.html#aa67b90e85b844cfc53a539813aca05ca">iax_ie_append_int</a>(provdata, <a class="code" href="iax2-provision_8h.html#a9790f3ad351aaf2d3d3ebe93e74baae1">PROV_IE_FLAGS</a>, cur-&gt;<a class="code" href="structiax__template.html#ac92588540e8c1d014a08cd8a45462b19">flags</a>);
<a name="l00235"></a>00235       <span class="keywordflow">if</span> (force || cur-&gt;<a class="code" href="structiax__template.html#a6fea735e1b12f87689267ca76a7f4037">format</a>)
<a name="l00236"></a>00236          <a class="code" href="iax2-parser_8c.html#aa67b90e85b844cfc53a539813aca05ca">iax_ie_append_int</a>(provdata, <a class="code" href="iax2-provision_8h.html#a6a2e89497ab0b9084447e33768bb1e15">PROV_IE_FORMAT</a>, cur-&gt;<a class="code" href="structiax__template.html#a6fea735e1b12f87689267ca76a7f4037">format</a>);
<a name="l00237"></a>00237       <span class="keywordflow">if</span> (force || cur-&gt;<a class="code" href="structiax__template.html#a25a9305efab3b493ca2519562fcec3d5">tos</a>)
<a name="l00238"></a>00238          <a class="code" href="iax2-parser_8c.html#a4543258d0eaca83fe806bfae857f65d8">iax_ie_append_byte</a>(provdata, <a class="code" href="iax2-provision_8h.html#a979ccb08043f2e843396b9656b371dc1">PROV_IE_TOS</a>, cur-&gt;<a class="code" href="structiax__template.html#a25a9305efab3b493ca2519562fcec3d5">tos</a>);
<a name="l00239"></a>00239       
<a name="l00240"></a>00240       <span class="comment">/* Calculate checksum of message so far */</span>
<a name="l00241"></a>00241       sig = <a class="code" href="iax2-provision_8c.html#a2742509032c636110188c1df9e10d556">prov_ver_calc</a>(provdata);
<a name="l00242"></a>00242       <span class="keywordflow">if</span> (signature)
<a name="l00243"></a>00243          *signature = sig;
<a name="l00244"></a>00244       <span class="comment">/* Store signature */</span>
<a name="l00245"></a>00245       <a class="code" href="iax2-parser_8c.html#aa67b90e85b844cfc53a539813aca05ca">iax_ie_append_int</a>(provdata, <a class="code" href="iax2-provision_8h.html#a0fdc1f7d18c524a91139b4f04d368d10">PROV_IE_PROVVER</a>, sig);
<a name="l00246"></a>00246       <span class="comment">/* Cache signature for later verification so we need not recalculate all this */</span>
<a name="l00247"></a>00247       snprintf(tmp, <span class="keyword">sizeof</span>(tmp), <span class="stringliteral">&quot;v0x%08x&quot;</span>, sig);
<a name="l00248"></a>00248       <a class="code" href="astdb_8h.html#a0f14f6bff4f412c88b50aba34d3a5e35" title="Store value addressed by family/key.">ast_db_put</a>(<span class="stringliteral">&quot;iax/provisioning/cache&quot;</span>, <span class="keyword">template</span>, tmp);
<a name="l00249"></a>00249    } <span class="keywordflow">else</span>
<a name="l00250"></a>00250       <a class="code" href="astdb_8h.html#a0f14f6bff4f412c88b50aba34d3a5e35" title="Store value addressed by family/key.">ast_db_put</a>(<span class="stringliteral">&quot;iax/provisioning/cache&quot;</span>, <span class="keyword">template</span>, <span class="stringliteral">&quot;u&quot;</span>);
<a name="l00251"></a>00251    <a class="code" href="lock_8h.html#aa9b39f0e22f44a7e7f587d4252e41a0b">ast_mutex_unlock</a>(&amp;provlock);
<a name="l00252"></a>00252    <span class="keywordflow">return</span> cur ? 0 : -1;
<a name="l00253"></a>00253 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a051a4fcc9414603f37de057900261c13"></a><!-- doxytag: member="iax2&#45;provision.h::iax_provision_reload" ref="a051a4fcc9414603f37de057900261c13" args="(int reload)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iax_provision_reload </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>reload</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8c_source.html#l00522">522</a> of file <a class="el" href="iax2-provision_8c_source.html">iax2-provision.c</a>.</p>

<p>References <a class="el" href="config_8c_source.html#l00613">ast_category_browse()</a>, <a class="el" href="config_8c_source.html#l00827">ast_config_destroy()</a>, <a class="el" href="config_8c_source.html#l02071">ast_config_load2()</a>, <a class="el" href="db_8c_source.html#l00091">ast_db_deltree()</a>, <a class="el" href="linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="logger_8c_source.html#l01090">ast_log()</a>, <a class="el" href="logger_8h_source.html#l00220">ast_verb</a>, <a class="el" href="config_8h_source.html#l00043">CONFIG_FLAG_FILEUNCHANGED</a>, <a class="el" href="config_8h_source.html#l00050">CONFIG_STATUS_FILEINVALID</a>, <a class="el" href="config_8h_source.html#l00049">CONFIG_STATUS_FILEUNCHANGED</a>, <a class="el" href="iax2-provision_8c_source.html#l00051">iax_template::dead</a>, <a class="el" href="iax2-provision_8c_source.html#l00380">iax_process_template()</a>, <a class="el" href="iax2-provision_8c_source.html#l00497">iax_provision_free_templates()</a>, <a class="el" href="iax2-provision_8c_source.html#l00490">iax_provision_init()</a>, and <a class="el" href="logger_8h_source.html#l00141">LOG_NOTICE</a>.</p>

<p>Referenced by <a class="el" href="chan__iax2_8c_source.html#l13805">load_module()</a>, and <a class="el" href="chan__iax2_8c_source.html#l12947">reload_config()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00523"></a>00523 {
<a name="l00524"></a>00524    <span class="keyword">struct </span><a class="code" href="structast__config.html">ast_config</a> *cfg;
<a name="l00525"></a>00525    <span class="keyword">struct </span><a class="code" href="structiax__template.html">iax_template</a> *cur;
<a name="l00526"></a>00526    <span class="keywordtype">char</span> *cat;
<a name="l00527"></a>00527    <span class="keywordtype">int</span> found = 0;
<a name="l00528"></a>00528    <span class="keyword">struct </span><a class="code" href="structast__flags.html" title="Structure used to handle boolean flags.">ast_flags</a> <a class="code" href="app__rpt_8c.html#a1f57f20c1f46890828791a4827fe8752">config_flags</a> = { <a class="code" href="app__amd_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a> ? <a class="code" href="config_8h.html#a2d5492e116eebd5075f247d21fb9db26afa887389dc380bbdcffb65fec379f037">CONFIG_FLAG_FILEUNCHANGED</a> : 0 };
<a name="l00529"></a>00529    <span class="keywordflow">if</span> (!<a class="code" href="iax2-provision_8c.html#a4f7c71928fab4c335f5add231171384a">provinit</a>)
<a name="l00530"></a>00530       <a class="code" href="iax2-provision_8c.html#a66dcf4bc8c19e70e8125bd487d715de8">iax_provision_init</a>();
<a name="l00531"></a>00531    
<a name="l00532"></a>00532    cfg = <a class="code" href="config_8h.html#aab3eac8fa82a86a93c074deb7b77dbc9" title="Load a config file.">ast_config_load2</a>(<span class="stringliteral">&quot;iaxprov.conf&quot;</span>, <span class="stringliteral">&quot;chan_iax2&quot;</span>, config_flags);
<a name="l00533"></a>00533    <span class="keywordflow">if</span> (cfg != NULL &amp;&amp; cfg != <a class="code" href="config_8h.html#a846844eb2c4eb44554445936b3770711">CONFIG_STATUS_FILEUNCHANGED</a> &amp;&amp; cfg != <a class="code" href="config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a>) {
<a name="l00534"></a>00534       <span class="comment">/* Mark all as dead.  No need for locking */</span>
<a name="l00535"></a>00535       <a class="code" href="linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef" title="Loops over (traverses) the entries in a list.">AST_LIST_TRAVERSE</a>(&amp;templates, cur, list) {
<a name="l00536"></a>00536          cur-&gt;<a class="code" href="structiax__template.html#aeddb1df77f26fbe111539b1c4c0c1929">dead</a> = 1;
<a name="l00537"></a>00537       }
<a name="l00538"></a>00538 
<a name="l00539"></a>00539       <span class="comment">/* Load as appropriate */</span>
<a name="l00540"></a>00540       cat = <a class="code" href="config_8h.html#a611776300f941a63266cb220ac62b4db" title="Goes through categories.">ast_category_browse</a>(cfg, NULL);
<a name="l00541"></a>00541       <span class="keywordflow">while</span>(cat) {
<a name="l00542"></a>00542          <span class="keywordflow">if</span> (strcasecmp(cat, <span class="stringliteral">&quot;general&quot;</span>)) {
<a name="l00543"></a>00543             <a class="code" href="iax2-provision_8c.html#a06a476be852a9801632ae7a124532fa3">iax_process_template</a>(cfg, cat, found ? <span class="stringliteral">&quot;default&quot;</span> : NULL);
<a name="l00544"></a>00544             found++;
<a name="l00545"></a>00545             <a class="code" href="logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Loaded provisioning template &apos;%s&apos;\n&quot;</span>, cat);
<a name="l00546"></a>00546          }
<a name="l00547"></a>00547          cat = <a class="code" href="config_8h.html#a611776300f941a63266cb220ac62b4db" title="Goes through categories.">ast_category_browse</a>(cfg, cat);
<a name="l00548"></a>00548       }
<a name="l00549"></a>00549       <a class="code" href="config_8h.html#a710f0b2a897849572b77dd0854b8dc03" title="Destroys a config.">ast_config_destroy</a>(cfg);
<a name="l00550"></a>00550    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cfg == <a class="code" href="config_8h.html#a846844eb2c4eb44554445936b3770711">CONFIG_STATUS_FILEUNCHANGED</a>)
<a name="l00551"></a>00551       <span class="keywordflow">return</span> 0;
<a name="l00552"></a>00552    <span class="keywordflow">else</span>
<a name="l00553"></a>00553       <a class="code" href="logger_8h.html#a93dd824dff97fe84941d6d71b7a3710e" title="Used for sending a log message This is the standard logger function. Probably the...">ast_log</a>(<a class="code" href="logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;No IAX provisioning configuration found, IAX provisioning disabled.\n&quot;</span>);
<a name="l00554"></a>00554 
<a name="l00555"></a>00555    <a class="code" href="iax2-provision_8c.html#acbfe567c3f21436515a449e39d36ed55">iax_provision_free_templates</a>(1 <span class="comment">/* remove only marked as dead */</span>);
<a name="l00556"></a>00556 
<a name="l00557"></a>00557    <span class="comment">/* Purge cached signature DB entries */</span>
<a name="l00558"></a>00558    <a class="code" href="astdb_8h.html#af251d986cfe884ffd5ca864531253f62" title="Delete a whole family (for some reason also called &amp;quot;tree&amp;quot;.">ast_db_deltree</a>(<span class="stringliteral">&quot;iax/provisioning/cache&quot;</span>, NULL);
<a name="l00559"></a>00559    <span class="keywordflow">return</span> 0;
<a name="l00560"></a>00560 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a91a2d80b234f3c818eb02b6d24aea4ce"></a><!-- doxytag: member="iax2&#45;provision.h::iax_provision_unload" ref="a91a2d80b234f3c818eb02b6d24aea4ce" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iax_provision_unload </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8c_source.html#l00513">513</a> of file <a class="el" href="iax2-provision_8c_source.html">iax2-provision.c</a>.</p>

<p>References <a class="el" href="cli_8c_source.html#l01937">ast_cli_unregister_multiple()</a>, <a class="el" href="iax2-provision_8c_source.html#l00486">cli_iax2_provision</a>, and <a class="el" href="iax2-provision_8c_source.html#l00497">iax_provision_free_templates()</a>.</p>

<p>Referenced by <a class="el" href="chan__iax2_8c_source.html#l13611">__unload_module()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00514"></a>00514 {
<a name="l00515"></a>00515    <a class="code" href="iax2-provision_8c.html#a4f7c71928fab4c335f5add231171384a">provinit</a> = 0;
<a name="l00516"></a>00516    <a class="code" href="cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09" title="Unregister multiple commands.">ast_cli_unregister_multiple</a>(<a class="code" href="iax2-provision_8c.html#adb8745c7473cdfca5ec3583128f52a32">cli_iax2_provision</a>, <span class="keyword">sizeof</span>(<a class="code" href="iax2-provision_8c.html#adb8745c7473cdfca5ec3583128f52a32">cli_iax2_provision</a>) / <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structast__cli__entry.html" title="descriptor for a cli entry.">ast_cli_entry</a>));
<a name="l00517"></a>00517    <a class="code" href="iax2-provision_8c.html#acbfe567c3f21436515a449e39d36ed55">iax_provision_free_templates</a>(0 <span class="comment">/* Remove all templates. */</span>);
<a name="l00518"></a>00518 
<a name="l00519"></a>00519    <span class="keywordflow">return</span> 0;
<a name="l00520"></a>00520 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa5df42002a9fb3a2e07bc0f3b5a00bad"></a><!-- doxytag: member="iax2&#45;provision.h::iax_provision_version" ref="aa5df42002a9fb3a2e07bc0f3b5a00bad" args="(unsigned int *signature, const char *template, int force)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iax_provision_version </td>
          <td>(</td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>signature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>template</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>force</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iax2-provision_8c_source.html#l00255">255</a> of file <a class="el" href="iax2-provision_8c_source.html">iax2-provision.c</a>.</p>

<p>References <a class="el" href="db_8c_source.html#l00165">ast_db_get()</a>, <a class="el" href="logger_8h_source.html#l00213">ast_debug</a>, <a class="el" href="lock_8h_source.html#l01717">ast_mutex_lock()</a>, <a class="el" href="lock_8h_source.html#l01707">ast_mutex_unlock()</a>, and <a class="el" href="iax2-provision_8c_source.html#l00206">iax_provision_build()</a>.</p>

<p>Referenced by <a class="el" href="chan__iax2_8c_source.html#l08994">check_provisioning()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00256"></a>00256 {
<a name="l00257"></a>00257    <span class="keywordtype">char</span> tmp[80] = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00258"></a>00258    <span class="keyword">struct </span><a class="code" href="structiax__ie__data.html">iax_ie_data</a> ied;
<a name="l00259"></a>00259    <span class="keywordtype">int</span> ret=0;
<a name="l00260"></a>00260    memset(&amp;ied, 0, <span class="keyword">sizeof</span>(ied));
<a name="l00261"></a>00261 
<a name="l00262"></a>00262    <a class="code" href="lock_8h.html#ad941566de4050aa7358493af94d2ba4d">ast_mutex_lock</a>(&amp;provlock);
<a name="l00263"></a>00263    <a class="code" href="astdb_8h.html#a48033762bf6ab77f15dd72277a1fe7fa" title="Get key value specified by family/key.">ast_db_get</a>(<span class="stringliteral">&quot;iax/provisioning/cache&quot;</span>, <span class="keyword">template</span>, tmp, <span class="keyword">sizeof</span>(tmp));
<a name="l00264"></a>00264    <span class="keywordflow">if</span> (sscanf(tmp, <span class="stringliteral">&quot;v%30x&quot;</span>, <a class="code" href="res__config__ldap_8c.html#aad880fc4455c253781e8968f2239d56f">version</a>) != 1) {
<a name="l00265"></a>00265       <span class="keywordflow">if</span> (strcmp(tmp, <span class="stringliteral">&quot;u&quot;</span>)) {
<a name="l00266"></a>00266          ret = <a class="code" href="iax2-provision_8c.html#a7287d78c6f1063fabd563fa0a325bc14">iax_provision_build</a>(&amp;ied, <a class="code" href="res__config__ldap_8c.html#aad880fc4455c253781e8968f2239d56f">version</a>, <span class="keyword">template</span>, force);
<a name="l00267"></a>00267          <span class="keywordflow">if</span> (ret)
<a name="l00268"></a>00268             <a class="code" href="logger_8h.html#a3f248112c8d6ce7e3959aa723dade648" title="Log a DEBUG message.">ast_debug</a>(1, <span class="stringliteral">&quot;Unable to create provisioning packet for &apos;%s&apos;\n&quot;</span>, <span class="keyword">template</span>);
<a name="l00269"></a>00269       } <span class="keywordflow">else</span>
<a name="l00270"></a>00270          ret = -1;
<a name="l00271"></a>00271    } <span class="keywordflow">else</span>
<a name="l00272"></a>00272       <a class="code" href="logger_8h.html#a3f248112c8d6ce7e3959aa723dade648" title="Log a DEBUG message.">ast_debug</a>(1, <span class="stringliteral">&quot;Retrieved cached version &apos;%s&apos; = &apos;%08x&apos;\n&quot;</span>, tmp, *<a class="code" href="res__config__ldap_8c.html#aad880fc4455c253781e8968f2239d56f">version</a>);
<a name="l00273"></a>00273    <a class="code" href="lock_8h.html#aa9b39f0e22f44a7e7f587d4252e41a0b">ast_mutex_unlock</a>(&amp;provlock);
<a name="l00274"></a>00274    <span class="keywordflow">return</span> ret;
<a name="l00275"></a>00275 }
</pre></div></p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed May 5 15:22:12 2010 for Asterisk - the Open Source PBX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
