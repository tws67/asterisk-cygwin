<HTML>
    <HEAD>
      <TITLE>Asterisk.org: Developer Documentation (5 May 2010)</TITLE>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<div><font size="2" align="right">Wed May 5 15:19:39 2010</font></div>

<h2>Asterisk developer's documentation</h2>
<hr/>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_1ab815038f534adda65c8b4ae4993449.html">include</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_16d825f1fa9ecca2e70b1a8d9256d0e6.html">asterisk</a>
  </div>
</div>
<div class="contents">
<h1>astobj.h File Reference</h1>
<p>A set of macros implementing objects and containers. Macros are used for maximum performance, to support multiple inheritance, and to be easily integrated into existing structures without additional malloc calls, etc.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="lock_8h_source.html">asterisk/lock.h</a>&quot;</code><br/>

<p><a href="astobj_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#ae99a3a50f57dd8523c505b04900e0be8">__ASTOBJ_HASH</a>(<a class="el" href="evt_8c.html#a69e2889a94aeb9ac881abb82d3c22116">type</a>, hashes)&nbsp;&nbsp;&nbsp;<a class="el" href="evt_8c.html#a69e2889a94aeb9ac881abb82d3c22116">type</a> *next[1]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#a23d93bf0a462be576f3b8d175b26625d">ASTOBJ_COMPONENTS</a>(<a class="el" href="evt_8c.html#a69e2889a94aeb9ac881abb82d3c22116">type</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add ASTOBJ components to a struct (with locking support).  <a href="#a23d93bf0a462be576f3b8d175b26625d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#a07b6111d4b5944517e2662b8124ed7da">ASTOBJ_COMPONENTS_FULL</a>(<a class="el" href="evt_8c.html#a69e2889a94aeb9ac881abb82d3c22116">type</a>, namelen, hashes)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add ASTOBJ components to a struct (with locking support).  <a href="#a07b6111d4b5944517e2662b8124ed7da"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#ada2413606654b070bf275375e6afddc3">ASTOBJ_COMPONENTS_NOLOCK</a>(<a class="el" href="evt_8c.html#a69e2889a94aeb9ac881abb82d3c22116">type</a>)&nbsp;&nbsp;&nbsp;ASTOBJ_COMPONENTS_NOLOCK_FULL(<a class="el" href="evt_8c.html#a69e2889a94aeb9ac881abb82d3c22116">type</a>,ASTOBJ_DEFAULT_NAMELEN,1)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add ASTOBJ components to a struct (without locking support).  <a href="#ada2413606654b070bf275375e6afddc3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#ac7e616461d429cfdd4cf3df03f09b14d">ASTOBJ_COMPONENTS_NOLOCK_FULL</a>(<a class="el" href="evt_8c.html#a69e2889a94aeb9ac881abb82d3c22116">type</a>, namelen, hashes)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add ASTOBJ components to a struct (without locking support).  <a href="#ac7e616461d429cfdd4cf3df03f09b14d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#a632bdb71578342a84ac7a23dc795823a">ASTOBJ_CONTAINER_COMPONENTS</a>(<a class="el" href="evt_8c.html#a69e2889a94aeb9ac881abb82d3c22116">type</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a container for ASTOBJs (with locking support).  <a href="#a632bdb71578342a84ac7a23dc795823a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#a09a08c07dcd40f99b05e9a36b05feb9f">ASTOBJ_CONTAINER_COMPONENTS_NOLOCK</a>(<a class="el" href="evt_8c.html#a69e2889a94aeb9ac881abb82d3c22116">type</a>)&nbsp;&nbsp;&nbsp;ASTOBJ_CONTAINER_COMPONENTS_NOLOCK_FULL(<a class="el" href="evt_8c.html#a69e2889a94aeb9ac881abb82d3c22116">type</a>,1,ASTOBJ_DEFAULT_BUCKETS)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a container for ASTOBJs (without locking support).  <a href="#a09a08c07dcd40f99b05e9a36b05feb9f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#a57f29044a06154e898e913bc7968cd1b">ASTOBJ_CONTAINER_COMPONENTS_NOLOCK_FULL</a>(<a class="el" href="evt_8c.html#a69e2889a94aeb9ac881abb82d3c22116">type</a>, hashes, buckets)&nbsp;&nbsp;&nbsp;<a class="el" href="evt_8c.html#a69e2889a94aeb9ac881abb82d3c22116">type</a> *head</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a container for ASTOBJs (without locking support).  <a href="#a57f29044a06154e898e913bc7968cd1b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#a49ab9467549d53be33f3f9f3ecae97f9">ASTOBJ_CONTAINER_DESTROY</a>(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>)&nbsp;&nbsp;&nbsp;ASTOBJ_CONTAINER_DESTROY_FULL(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>,1,ASTOBJ_DEFAULT_BUCKETS)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroy a container.  <a href="#a49ab9467549d53be33f3f9f3ecae97f9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#a3f11aef30334e5e94857bc2f4edee79a">ASTOBJ_CONTAINER_DESTROY_FULL</a>(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, hashes, buckets)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroy a container.  <a href="#a3f11aef30334e5e94857bc2f4edee79a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#a5b923418ce1d4908359bb3b27b211411">ASTOBJ_CONTAINER_DESTROYALL</a>(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, destructor)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Empty a container.  <a href="#a5b923418ce1d4908359bb3b27b211411"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#af8403232b730c5eed65cbb1a2191820a">ASTOBJ_CONTAINER_DUMP</a>(fd, s, slen, <a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>)&nbsp;&nbsp;&nbsp;ASTOBJ_CONTAINER_TRAVERSE(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, 1, do { ASTOBJ_DUMP(s,slen,iterator); ast_cli(fd, &quot;%s&quot;, s); } while(0))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dump information about all the objects in a container to a file descriptor.  <a href="#af8403232b730c5eed65cbb1a2191820a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#aca5d7206cd0c6817140bba786a9b6b8a">ASTOBJ_CONTAINER_FIND</a>(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, namestr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find an object in a container.  <a href="#aca5d7206cd0c6817140bba786a9b6b8a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#a2714c822060df6eec7241ee4b250cc3c">ASTOBJ_CONTAINER_FIND_FULL</a>(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, data, field, hashfunc, hashoffset, comparefunc)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find an object in a container.  <a href="#a2714c822060df6eec7241ee4b250cc3c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#ae8b901ccd399d0a617ef4a5557f3e199">ASTOBJ_CONTAINER_FIND_UNLINK</a>(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, namestr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find and remove an object from a container.  <a href="#ae8b901ccd399d0a617ef4a5557f3e199"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#a6c76bfbc9e80b029038df1805f824446">ASTOBJ_CONTAINER_FIND_UNLINK_FULL</a>(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, data, field, hashfunc, hashoffset, comparefunc)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find and remove an object in a container.  <a href="#a6c76bfbc9e80b029038df1805f824446"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#a8551f606c8aecc4797ef7728c7792827">ASTOBJ_CONTAINER_INIT</a>(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>)&nbsp;&nbsp;&nbsp;ASTOBJ_CONTAINER_INIT_FULL(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>,1,ASTOBJ_DEFAULT_BUCKETS)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize a container.  <a href="#a8551f606c8aecc4797ef7728c7792827"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#a581d2605094a2a22450f9bfa4b34f2a3">ASTOBJ_CONTAINER_INIT_FULL</a>(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, hashes, buckets)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize a container.  <a href="#a581d2605094a2a22450f9bfa4b34f2a3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#a73bb2d9f59430fd47007a3c6ea651de6">ASTOBJ_CONTAINER_LINK</a>(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, newobj)&nbsp;&nbsp;&nbsp;ASTOBJ_CONTAINER_LINK_FULL(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>,newobj,(newobj)-&gt;<a class="el" href="channel_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,<a class="el" href="channel_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,ASTOBJ_DEFAULT_HASH,0,strcasecmp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add an object to a container.  <a href="#a73bb2d9f59430fd47007a3c6ea651de6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#a0133062dfa738a600b244275c03a15ac">ASTOBJ_CONTAINER_LINK_END</a>(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, newobj)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add an object to the end of a container.  <a href="#a0133062dfa738a600b244275c03a15ac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#abfe4af2bf8336e6879ac44741fa8d312">ASTOBJ_CONTAINER_LINK_FULL</a>(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, newobj, data, field, hashfunc, hashoffset, comparefunc)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add an object to a container.  <a href="#abfe4af2bf8336e6879ac44741fa8d312"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#afcb742aeb1fcf29e0f2ae75b6f9e0bd2">ASTOBJ_CONTAINER_LINK_START</a>(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, newobj)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add an object to the front of a container.  <a href="#afcb742aeb1fcf29e0f2ae75b6f9e0bd2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#a5e865869ca1acadd652b42810fec2ec9">ASTOBJ_CONTAINER_MARKALL</a>(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>)&nbsp;&nbsp;&nbsp;ASTOBJ_CONTAINER_TRAVERSE(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, 1, ASTOBJ_MARK(iterator))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Mark all the objects in a container.  <a href="#a5e865869ca1acadd652b42810fec2ec9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#a794727ca4ef71982250ff9f36a9668d7">ASTOBJ_CONTAINER_PRUNE_MARKED</a>(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, destructor)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Prune marked objects from a container.  <a href="#a794727ca4ef71982250ff9f36a9668d7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#ae08cb94fa026f1534c5fafd0e95a788d">ASTOBJ_CONTAINER_RDLOCK</a>(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>)&nbsp;&nbsp;&nbsp;ast_mutex_lock(&amp;(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>)-&gt;_lock)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lock an ASTOBJ_CONTAINER for reading.  <a href="#ae08cb94fa026f1534c5fafd0e95a788d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#a8483cbd2bcf0b91ac62168fb1cb7f5b1">ASTOBJ_CONTAINER_TRAVERSE</a>(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, continue, eval)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Iterate through the objects in a container.  <a href="#a8483cbd2bcf0b91ac62168fb1cb7f5b1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#a823017bcbb6cbd758faaeae9feae113f">ASTOBJ_CONTAINER_UNLINK</a>(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, obj)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove an object from a container.  <a href="#a823017bcbb6cbd758faaeae9feae113f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#a524bda8342b3198a0c1fc9a23f6fb095">ASTOBJ_CONTAINER_UNLINK_START</a>(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove an object from the front of a container.  <a href="#a524bda8342b3198a0c1fc9a23f6fb095"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#aa427859308cff6f8153760f7f67e5e30">ASTOBJ_CONTAINER_UNLOCK</a>(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>)&nbsp;&nbsp;&nbsp;ast_mutex_unlock(&amp;(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>)-&gt;_lock)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unlock an ASTOBJ_CONTAINER.  <a href="#aa427859308cff6f8153760f7f67e5e30"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#aaf600365443e11c6255b69e9015622f9">ASTOBJ_CONTAINER_UNMARKALL</a>(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>)&nbsp;&nbsp;&nbsp;ASTOBJ_CONTAINER_TRAVERSE(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, 1, ASTOBJ_UNMARK(iterator))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unmark all the objects in a container.  <a href="#aaf600365443e11c6255b69e9015622f9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#afd5426b59fc40457028874afefbf2220">ASTOBJ_CONTAINER_WRLOCK</a>(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>)&nbsp;&nbsp;&nbsp;ast_mutex_lock(&amp;(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>)-&gt;_lock)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lock an ASTOBJ_CONTAINER for writing.  <a href="#afd5426b59fc40457028874afefbf2220"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#acbf15cdb57616f8736c92e71960a8d06">ASTOBJ_DEFAULT_BUCKETS</a>&nbsp;&nbsp;&nbsp;256</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#abc6cff11022d0bc3385895afd8980816">ASTOBJ_DEFAULT_HASH</a>&nbsp;&nbsp;&nbsp;ast_strhash</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#ac7c2819a6cb04fe16014b32bdf7148e3">ASTOBJ_DEFAULT_NAMELEN</a>&nbsp;&nbsp;&nbsp;80</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#aa519784c0c7342d7c14ca56aec46a9d3">ASTOBJ_DUMP</a>(s, slen, obj)&nbsp;&nbsp;&nbsp;snprintf((s),(slen),&quot;name: %s\nobjflags: %d\nrefcount: %d\n\n&quot;, (obj)-&gt;<a class="el" href="channel_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, (obj)-&gt;objflags, (obj)-&gt;refcount);</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dump information about an object into a string.  <a href="#aa519784c0c7342d7c14ca56aec46a9d3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#af7030201e6809c62d208b04bba558555">ASTOBJ_FLAG_MARKED</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#a996db3d193843755068f61f21e14c3dd">ASTOBJ_INIT</a>(object)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize an object.  <a href="#a996db3d193843755068f61f21e14c3dd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#ad51464686c5c2948bd337f8bb2c483b7">ASTOBJ_MARK</a>(object)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Mark an ASTOBJ by adding the <a class="el" href="astobj_8h.html#af7030201e6809c62d208b04bba558555">ASTOBJ_FLAG_MARKED</a> flag to its objflags mask.  <a href="#ad51464686c5c2948bd337f8bb2c483b7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#a8d411cc142b0b49472fe38cf7b0845e1">ASTOBJ_RDLOCK</a>(object)&nbsp;&nbsp;&nbsp;ast_mutex_lock(&amp;(object)-&gt;_lock)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lock an ASTOBJ for reading.  <a href="#a8d411cc142b0b49472fe38cf7b0845e1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#ab9c2c3dae8dc0cd67210b5e03b3b7d6e">ASTOBJ_REF</a>(object)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Increment an object reference count.  <a href="#ab9c2c3dae8dc0cd67210b5e03b3b7d6e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#aca79ffc1e341dbbae76d98de69f80d9b">ASTOBJ_TRYWRLOCK</a>(object)&nbsp;&nbsp;&nbsp;ast_mutex_trylock(&amp;(object)-&gt;_lock)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#a9acee27cc52e8533d439f6cc10d11fbc">ASTOBJ_UNLOCK</a>(object)&nbsp;&nbsp;&nbsp;ast_mutex_unlock(&amp;(object)-&gt;_lock)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unlock a locked object.  <a href="#a9acee27cc52e8533d439f6cc10d11fbc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#a789fc1432f54cb615e839f0db9decad5">ASTOBJ_UNMARK</a>(object)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unmark an ASTOBJ by subtracting the <a class="el" href="astobj_8h.html#af7030201e6809c62d208b04bba558555">ASTOBJ_FLAG_MARKED</a> flag from its objflags mask.  <a href="#a789fc1432f54cb615e839f0db9decad5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#aed02826b481ce75ec710c1184ac8f059">ASTOBJ_UNREF</a>(object, destructor)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Decrement the reference count on an object.  <a href="#aed02826b481ce75ec710c1184ac8f059"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="astobj_8h.html#ab4a4c9fe0af3b6237d81ae6fd7b857d4">ASTOBJ_WRLOCK</a>(object)&nbsp;&nbsp;&nbsp;ast_mutex_lock(&amp;(object)-&gt;_lock)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lock an ASTOBJ for writing.  <a href="#ab4a4c9fe0af3b6237d81ae6fd7b857d4"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>A set of macros implementing objects and containers. Macros are used for maximum performance, to support multiple inheritance, and to be easily integrated into existing structures without additional malloc calls, etc. </p>
<p>These macros expect to operate on two different object types, ASTOBJs and ASTOBJ_CONTAINERs. These are not actual types, as any struct can be converted into an ASTOBJ compatible object or container using the supplied macros.</p>
<p><b>Sample Usage:</b> </p>
<div class="fragment"><pre class="fragment"> <span class="keyword">struct </span>sample_object {
    <a class="code" href="astobj_8h.html#a23d93bf0a462be576f3b8d175b26625d" title="Add ASTOBJ components to a struct (with locking support).">ASTOBJ_COMPONENTS</a>(<span class="keyword">struct</span> sample_object);
 };

 <span class="keyword">struct </span>sample_container {
    <a class="code" href="astobj_8h.html#a632bdb71578342a84ac7a23dc795823a" title="Create a container for ASTOBJs (with locking support).">ASTOBJ_CONTAINER_COMPONENTS</a>(<span class="keyword">struct</span> sample_object);
 } super_container;

 <span class="keywordtype">void</span> sample_object_destroy(<span class="keyword">struct</span> sample_object *obj)
 {
    <a class="code" href="astmm_8h.html#aa7157aa9480bb73f090dca36776419bf">free</a>(obj);
 }

 <span class="keywordtype">int</span> init_stuff()
 {
    <span class="keyword">struct </span>sample_object *obj1;
    <span class="keyword">struct </span>sample_object *found_obj;

    obj1 = <a class="code" href="astmm_8h.html#ab8b25cd8f16d4a6552afe4e65c4f082d">malloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> sample_object));

    <a class="code" href="astobj_8h.html#a8551f606c8aecc4797ef7728c7792827" title="Initialize a container.">ASTOBJ_CONTAINER_INIT</a>(&amp;super_container);

    <a class="code" href="astobj_8h.html#a996db3d193843755068f61f21e14c3dd" title="Initialize an object.">ASTOBJ_INIT</a>(obj1);
    <a class="code" href="astobj_8h.html#ab4a4c9fe0af3b6237d81ae6fd7b857d4" title="Lock an ASTOBJ for writing.">ASTOBJ_WRLOCK</a>(obj1);
    <a class="code" href="strings_8h.html#a17df4d252f3e2ecb230b526475ac4d93" title="Size-limited null-terminating string copy.">ast_copy_string</a>(obj1-&gt;name, <span class="stringliteral">&quot;obj1&quot;</span>, <span class="keyword">sizeof</span>(obj1-&gt;name));
    <a class="code" href="astobj_8h.html#a9acee27cc52e8533d439f6cc10d11fbc" title="Unlock a locked object.">ASTOBJ_UNLOCK</a>(obj1);

    <a class="code" href="astobj_8h.html#a73bb2d9f59430fd47007a3c6ea651de6" title="Add an object to a container.">ASTOBJ_CONTAINER_LINK</a>(&amp;super_container, obj1);

    found_obj = <a class="code" href="astobj_8h.html#aca5d7206cd0c6817140bba786a9b6b8a" title="Find an object in a container.">ASTOBJ_CONTAINER_FIND</a>(&amp;super_container, <span class="stringliteral">&quot;obj1&quot;</span>);

    <span class="keywordflow">if</span>(found_obj) {
       printf(<span class="stringliteral">&quot;Found object: %s&quot;</span>, found_obj-&gt;name); 
       <a class="code" href="astobj_8h.html#aed02826b481ce75ec710c1184ac8f059" title="Decrement the reference count on an object.">ASTOBJ_UNREF</a>(found_obj,sample_object_destroy);
    }

    <a class="code" href="astobj_8h.html#a5b923418ce1d4908359bb3b27b211411" title="Empty a container.">ASTOBJ_CONTAINER_DESTROYALL</a>(&amp;super_container,sample_object_destroy);
    <a class="code" href="astobj_8h.html#a49ab9467549d53be33f3f9f3ecae97f9" title="Destroy a container.">ASTOBJ_CONTAINER_DESTROY</a>(&amp;super_container);
 
    <span class="keywordflow">return</span> 0;
 }
</pre></div> 
<p>Definition in file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ae99a3a50f57dd8523c505b04900e0be8"></a><!-- doxytag: member="astobj.h::__ASTOBJ_HASH" ref="ae99a3a50f57dd8523c505b04900e0be8" args="(type, hashes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __ASTOBJ_HASH</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="evt_8c.html#a69e2889a94aeb9ac881abb82d3c22116">type</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hashes&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;<a class="el" href="evt_8c.html#a69e2889a94aeb9ac881abb82d3c22116">type</a> *next[1]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00115">115</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

</div>
</div>
<a class="anchor" id="a23d93bf0a462be576f3b8d175b26625d"></a><!-- doxytag: member="astobj.h::ASTOBJ_COMPONENTS" ref="a23d93bf0a462be576f3b8d175b26625d" args="(type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_COMPONENTS</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="evt_8c.html#a69e2889a94aeb9ac881abb82d3c22116">type</a>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><a class="code" href="astobj_8h.html#ada2413606654b070bf275375e6afddc3" title="Add ASTOBJ components to a struct (without locking support).">ASTOBJ_COMPONENTS_NOLOCK</a>(<a class="code" href="chan__nbs_8c.html#abda2c6671470e62e2e93b09986c9117e">type</a>); \
   <a class="code" href="lock_8h.html#a2d9118a2a8939f115eea771bce3a52f2">ast_mutex_t</a> _lock;
</pre></div>
<p>Add ASTOBJ components to a struct (with locking support). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>The datatype of the object.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro works like <a class="el" href="astobj_8h.html#ada2413606654b070bf275375e6afddc3" title="Add ASTOBJ components to a struct (without locking support).">ASTOBJ_COMPONENTS_NOLOCK()</a> except it includes locking support.</p>
<p><b>Sample Usage:</b> </p>
<div class="fragment"><pre class="fragment"> <span class="keyword">struct </span>sample_struct {
    <a class="code" href="astobj_8h.html#a23d93bf0a462be576f3b8d175b26625d" title="Add ASTOBJ components to a struct (with locking support).">ASTOBJ_COMPONENTS</a>(<span class="keyword">struct</span> sample_struct);
 };
</pre></div> 
<p>Definition at line <a class="el" href="astobj_8h_source.html#l00173">173</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

</div>
</div>
<a class="anchor" id="a07b6111d4b5944517e2662b8124ed7da"></a><!-- doxytag: member="astobj.h::ASTOBJ_COMPONENTS_FULL" ref="a07b6111d4b5944517e2662b8124ed7da" args="(type, namelen, hashes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_COMPONENTS_FULL</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="evt_8c.html#a69e2889a94aeb9ac881abb82d3c22116">type</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">namelen, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hashes&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><a class="code" href="astobj_8h.html#ac7e616461d429cfdd4cf3df03f09b14d" title="Add ASTOBJ components to a struct (without locking support).">ASTOBJ_COMPONENTS_NOLOCK_FULL</a>(<a class="code" href="chan__nbs_8c.html#abda2c6671470e62e2e93b09986c9117e">type</a>,namelen,hashes); \
   <a class="code" href="lock_8h.html#a2d9118a2a8939f115eea771bce3a52f2">ast_mutex_t</a> _lock;
</pre></div>
<p>Add ASTOBJ components to a struct (with locking support). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>The datatype of the object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>namelen</em>&nbsp;</td><td>The length to make the name char array. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hashes</em>&nbsp;</td><td>The <a class="el" href="structnumber.html" title="Number structure.">number</a> of containers the object can be present in.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro adds components to a struct to make it an ASTOBJ and includes support for locking.</p>
<p><b>Sample Usage:</b> </p>
<div class="fragment"><pre class="fragment"> <span class="keyword">struct </span>sample_struct {
    <a class="code" href="astobj_8h.html#a07b6111d4b5944517e2662b8124ed7da" title="Add ASTOBJ components to a struct (with locking support).">ASTOBJ_COMPONENTS_FULL</a>(<span class="keyword">struct</span> sample_struct,1,1);
 };
</pre></div> 
<p>Definition at line <a class="el" href="astobj_8h_source.html#l00193">193</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

</div>
</div>
<a class="anchor" id="ada2413606654b070bf275375e6afddc3"></a><!-- doxytag: member="astobj.h::ASTOBJ_COMPONENTS_NOLOCK" ref="ada2413606654b070bf275375e6afddc3" args="(type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_COMPONENTS_NOLOCK</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="evt_8c.html#a69e2889a94aeb9ac881abb82d3c22116">type</a>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;ASTOBJ_COMPONENTS_NOLOCK_FULL(<a class="el" href="evt_8c.html#a69e2889a94aeb9ac881abb82d3c22116">type</a>,ASTOBJ_DEFAULT_NAMELEN,1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add ASTOBJ components to a struct (without locking support). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>The datatype of the object.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro works like <a class="el" href="astobj_8h.html#ac7e616461d429cfdd4cf3df03f09b14d" title="Add ASTOBJ components to a struct (without locking support).">ASTOBJ_COMPONENTS_NOLOCK_FULL()</a> except it only accepts a type and uses default <a class="el" href="structvalues.html">values</a> for namelen and hashes.</p>
<p><b>Sample Usage:</b> </p>
<div class="fragment"><pre class="fragment"> <span class="keyword">struct </span>sample_struct_componets {
    <a class="code" href="astobj_8h.html#ada2413606654b070bf275375e6afddc3" title="Add ASTOBJ components to a struct (without locking support).">ASTOBJ_COMPONENTS_NOLOCK</a>(<span class="keyword">struct</span> sample_struct);
 };
</pre></div> 
<p>Definition at line <a class="el" href="astobj_8h_source.html#l00156">156</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac7e616461d429cfdd4cf3df03f09b14d"></a><!-- doxytag: member="astobj.h::ASTOBJ_COMPONENTS_NOLOCK_FULL" ref="ac7e616461d429cfdd4cf3df03f09b14d" args="(type, namelen, hashes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_COMPONENTS_NOLOCK_FULL</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="evt_8c.html#a69e2889a94aeb9ac881abb82d3c22116">type</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">namelen, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hashes&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordtype">char</span> <a class="code" href="cdr__adaptive__odbc_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>[namelen]; \
   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> refcount; \
   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> objflags; \
   <a class="code" href="astobj_8h.html#ae99a3a50f57dd8523c505b04900e0be8">__ASTOBJ_HASH</a>(<a class="code" href="chan__nbs_8c.html#abda2c6671470e62e2e93b09986c9117e">type</a>,hashes)
</pre></div>
<p>Add ASTOBJ components to a struct (without locking support). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>The datatype of the object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>namelen</em>&nbsp;</td><td>The length to make the name char array. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hashes</em>&nbsp;</td><td>The <a class="el" href="structnumber.html" title="Number structure.">number</a> of containers the object can be present in.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro adds components to a struct to make it an ASTOBJ. This macro differs from ASTOBJ_COMPONENTS_FULL in that it does not create a mutex for locking.</p>
<p><b>Sample Usage:</b> </p>
<div class="fragment"><pre class="fragment"> <span class="keyword">struct </span>sample_struct {
    <a class="code" href="astobj_8h.html#ac7e616461d429cfdd4cf3df03f09b14d" title="Add ASTOBJ components to a struct (without locking support).">ASTOBJ_COMPONENTS_NOLOCK_FULL</a>(<span class="keyword">struct</span> sample_struct,1,1);
 };
</pre></div> 
<p>Definition at line <a class="el" href="astobj_8h_source.html#l00136">136</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

</div>
</div>
<a class="anchor" id="a632bdb71578342a84ac7a23dc795823a"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_COMPONENTS" ref="a632bdb71578342a84ac7a23dc795823a" args="(type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_COMPONENTS</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="evt_8c.html#a69e2889a94aeb9ac881abb82d3c22116">type</a>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><a class="code" href="lock_8h.html#a2d9118a2a8939f115eea771bce3a52f2">ast_mutex_t</a> _lock; \
   <a class="code" href="astobj_8h.html#a09a08c07dcd40f99b05e9a36b05feb9f" title="Create a container for ASTOBJs (without locking support).">ASTOBJ_CONTAINER_COMPONENTS_NOLOCK</a>(<a class="code" href="chan__nbs_8c.html#abda2c6671470e62e2e93b09986c9117e">type</a>)
</pre></div>
<p>Create a container for ASTOBJs (with locking support). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>The type of objects the container will hold.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro is used to create a container for ASTOBJs with locking support.</p>
<p><b>Sample Usage:</b> </p>
<div class="fragment"><pre class="fragment"> <span class="keyword">struct </span>sample_struct_container {
    <a class="code" href="astobj_8h.html#a632bdb71578342a84ac7a23dc795823a" title="Create a container for ASTOBJs (with locking support).">ASTOBJ_CONTAINER_COMPONENTS</a>(<span class="keyword">struct</span> sample_struct);
 };
</pre></div> 
<p>Definition at line <a class="el" href="astobj_8h_source.html#l00729">729</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

</div>
</div>
<a class="anchor" id="a09a08c07dcd40f99b05e9a36b05feb9f"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_COMPONENTS_NOLOCK" ref="a09a08c07dcd40f99b05e9a36b05feb9f" args="(type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_COMPONENTS_NOLOCK</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="evt_8c.html#a69e2889a94aeb9ac881abb82d3c22116">type</a>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;ASTOBJ_CONTAINER_COMPONENTS_NOLOCK_FULL(<a class="el" href="evt_8c.html#a69e2889a94aeb9ac881abb82d3c22116">type</a>,1,ASTOBJ_DEFAULT_BUCKETS)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a container for ASTOBJs (without locking support). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>The type of objects the container will hold.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro is used to create a container for ASTOBJs without locking support.</p>
<p><b>Sample Usage:</b> </p>
<div class="fragment"><pre class="fragment"> <span class="keyword">struct </span>sample_struct_nolock_container {
    <a class="code" href="astobj_8h.html#a09a08c07dcd40f99b05e9a36b05feb9f" title="Create a container for ASTOBJs (without locking support).">ASTOBJ_CONTAINER_COMPONENTS_NOLOCK</a>(<span class="keyword">struct</span> sample_struct);
 };
</pre></div> 
<p>Definition at line <a class="el" href="astobj_8h_source.html#l00712">712</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

</div>
</div>
<a class="anchor" id="a57f29044a06154e898e913bc7968cd1b"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_COMPONENTS_NOLOCK_FULL" ref="a57f29044a06154e898e913bc7968cd1b" args="(type, hashes, buckets)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_COMPONENTS_NOLOCK_FULL</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="evt_8c.html#a69e2889a94aeb9ac881abb82d3c22116">type</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hashes, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">buckets&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;<a class="el" href="evt_8c.html#a69e2889a94aeb9ac881abb82d3c22116">type</a> *head</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a container for ASTOBJs (without locking support). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>The type of objects the container will hold. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hashes</em>&nbsp;</td><td>Currently unused. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buckets</em>&nbsp;</td><td>Currently unused.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro is used to create a container for ASTOBJs without locking support.</p>
<p><b>Sample Usage:</b> </p>
<div class="fragment"><pre class="fragment"> <span class="keyword">struct </span>sample_struct_nolock_container {
    <a class="code" href="astobj_8h.html#a57f29044a06154e898e913bc7968cd1b" title="Create a container for ASTOBJs (without locking support).">ASTOBJ_CONTAINER_COMPONENTS_NOLOCK_FULL</a>(<span class="keyword">struct</span> sample_struct,1,1);
 };
</pre></div> 
<p>Definition at line <a class="el" href="astobj_8h_source.html#l00306">306</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

</div>
</div>
<a class="anchor" id="a49ab9467549d53be33f3f9f3ecae97f9"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_DESTROY" ref="a49ab9467549d53be33f3f9f3ecae97f9" args="(container)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_DESTROY</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;ASTOBJ_CONTAINER_DESTROY_FULL(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>,1,ASTOBJ_DEFAULT_BUCKETS)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destroy a container. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>container</em>&nbsp;</td><td>A pointer to the container to destory.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro frees up resources used by a container. It does not operate on the objects in the container. To unlink the objects from the container use <a class="el" href="astobj_8h.html#a5b923418ce1d4908359bb3b27b211411" title="Empty a container.">ASTOBJ_CONTAINER_DESTROYALL()</a>.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This macro should only be used on containers with locking support. </dd></dl>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00765">765</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="res__jabber_8c_source.html#l00257">aji_client_destroy()</a>, <a class="el" href="netsock_8c_source.html#l00080">ast_netsock_release()</a>, <a class="el" href="res__smdi_8c_source.html#l00132">ast_smdi_interface_destroy()</a>, <a class="el" href="chan__h323_8c_source.html#l03222">load_module()</a>, and <a class="el" href="chan__gtalk_8c_source.html#l02084">unload_module()</a>.</p>

</div>
</div>
<a class="anchor" id="a3f11aef30334e5e94857bc2f4edee79a"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_DESTROY_FULL" ref="a3f11aef30334e5e94857bc2f4edee79a" args="(container, hashes, buckets)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_DESTROY_FULL</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hashes, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">buckets&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> { \
      <a class="code" href="lock_8h.html#ab237e70b569019bfb490ab0c3c09b8c5">ast_mutex_destroy</a>(&amp;(<a class="code" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47" title="Container of cached events.">container</a>)-&gt;_lock); \
   } <span class="keywordflow">while</span>(0)
</pre></div>
<p>Destroy a container. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>container</em>&nbsp;</td><td>A pointer to the container to destroy. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hashes</em>&nbsp;</td><td>Currently unused. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buckets</em>&nbsp;</td><td>Currently unused.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro frees up resources used by a container. It does not operate on the objects in the container. To unlink the objects from the container use <a class="el" href="astobj_8h.html#a5b923418ce1d4908359bb3b27b211411" title="Empty a container.">ASTOBJ_CONTAINER_DESTROYALL()</a>.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This macro should only be used on containers with locking support. </dd></dl>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00347">347</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5b923418ce1d4908359bb3b27b211411"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_DESTROYALL" ref="a5b923418ce1d4908359bb3b27b211411" args="(container, destructor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_DESTROYALL</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">destructor&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Empty a container. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>container</em>&nbsp;</td><td>A pointer to the container to operate on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destructor</em>&nbsp;</td><td>A destructor function to call on each object.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro loops through a container removing all the items from it using <a class="el" href="astobj_8h.html#aed02826b481ce75ec710c1184ac8f059" title="Decrement the reference count on an object.">ASTOBJ_UNREF()</a>. This does not destroy the container itself, use <a class="el" href="astobj_8h.html#a49ab9467549d53be33f3f9f3ecae97f9" title="Destroy a container.">ASTOBJ_CONTAINER_DESTROY()</a> for that.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>If any object in the container is only referenced by the container, the destructor will be called for that object once it has been removed. </dd></dl>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00453">453</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="res__jabber_8c_source.html#l00257">aji_client_destroy()</a>, <a class="el" href="netsock_8c_source.html#l00080">ast_netsock_release()</a>, <a class="el" href="res__smdi_8c_source.html#l00132">ast_smdi_interface_destroy()</a>, <a class="el" href="chan__h323_8c_source.html#l03222">load_module()</a>, <a class="el" href="chan__sip_8c_source.html#l24245">reload_config()</a>, and <a class="el" href="chan__gtalk_8c_source.html#l02084">unload_module()</a>.</p>

</div>
</div>
<a class="anchor" id="af8403232b730c5eed65cbb1a2191820a"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_DUMP" ref="af8403232b730c5eed65cbb1a2191820a" args="(fd, s, slen, container)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_DUMP</td>
          <td>(</td>
          <td class="paramtype">fd, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">s, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">slen, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;ASTOBJ_CONTAINER_TRAVERSE(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, 1, do { ASTOBJ_DUMP(s,slen,iterator); ast_cli(fd, &quot;%s&quot;, s); } while(0))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Dump information about all the objects in a container to a file descriptor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fd</em>&nbsp;</td><td>The file descriptor to write to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>A string buffer, same as <a class="el" href="astobj_8h.html#aa519784c0c7342d7c14ca56aec46a9d3" title="Dump information about an object into a string.">ASTOBJ_DUMP()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>slen</em>&nbsp;</td><td>The length of s, same as <a class="el" href="astobj_8h.html#aa519784c0c7342d7c14ca56aec46a9d3" title="Dump information about an object into a string.">ASTOBJ_DUMP()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>container</em>&nbsp;</td><td>A pointer to the container to dump.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro dumps a text representation of the name, objectflags, and refcount fields of all the objects in a container to the specified file descriptor. </p>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00814">814</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="chan__sip_8c_source.html#l14862">sip_show_objects()</a>.</p>

</div>
</div>
<a class="anchor" id="aca5d7206cd0c6817140bba786a9b6b8a"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_FIND" ref="aca5d7206cd0c6817140bba786a9b6b8a" args="(container, namestr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_FIND</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">namestr&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find an object in a container. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>container</em>&nbsp;</td><td>A pointer to the container to search. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>namestr</em>&nbsp;</td><td>The name to search for.</td></tr>
  </table>
  </dd>
</dl>
<p>Use this function to find an object with the specfied name in a container.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>When the returned object is no longer in use, <a class="el" href="astobj_8h.html#aed02826b481ce75ec710c1184ac8f059" title="Decrement the reference count on an object.">ASTOBJ_UNREF()</a> should be used to free the additional reference created by this macro.</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A new reference to the object located or NULL if nothing is found. </dd></dl>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00401">401</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="res__jabber_8c_source.html#l00489">acf_jabberstatus_read()</a>, <a class="el" href="res__jabber_8c_source.html#l01353">aji_client_info_handler()</a>, <a class="el" href="res__jabber_8c_source.html#l02880">aji_create_buddy()</a>, <a class="el" href="res__jabber_8c_source.html#l02660">aji_create_client()</a>, <a class="el" href="res__jabber_8c_source.html#l01413">aji_dinfo_handler()</a>, <a class="el" href="res__jabber_8c_source.html#l01604">aji_handle_presence()</a>, <a class="el" href="res__jabber_8c_source.html#l01822">aji_handle_subscribe()</a>, <a class="el" href="res__jabber_8c_source.html#l01187">aji_register_query_handler()</a>, <a class="el" href="res__jabber_8c_source.html#l00432">aji_status_exec()</a>, <a class="el" href="res__jabber_8c_source.html#l02595">aji_test()</a>, <a class="el" href="res__jabber_8c_source.html#l02954">ast_aji_get_client()</a>, <a class="el" href="res__smdi_8c_source.html#l00528">ast_smdi_interface_find()</a>, <a class="el" href="chan__h323_8c_source.html#l01811">find_alias()</a>, <a class="el" href="chan__gtalk_8c_source.html#l00242">find_gtalk()</a>, <a class="el" href="chan__jingle_8c_source.html#l00244">find_jingle()</a>, <a class="el" href="chan__h323_8c_source.html#l01632">find_peer()</a>, <a class="el" href="chan__h323_8c_source.html#l01602">find_user()</a>, <a class="el" href="chan__gtalk_8c_source.html#l00909">gtalk_alloc()</a>, <a class="el" href="chan__gtalk_8c_source.html#l01840">gtalk_create_member()</a>, <a class="el" href="chan__jingle_8c_source.html#l00741">jingle_alloc()</a>, <a class="el" href="chan__jingle_8c_source.html#l01666">jingle_create_member()</a>, and <a class="el" href="res__smdi_8c_source.html#l00861">smdi_load()</a>.</p>

</div>
</div>
<a class="anchor" id="a2714c822060df6eec7241ee4b250cc3c"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_FIND_FULL" ref="a2714c822060df6eec7241ee4b250cc3c" args="(container, data, field, hashfunc, hashoffset, comparefunc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_FIND_FULL</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">data, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">field, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hashfunc, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hashoffset, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">comparefunc&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find an object in a container. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>container</em>&nbsp;</td><td>A pointer to the container to search. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>The data to search for. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>field</em>&nbsp;</td><td>The field/member of the container's objects to search. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hashfunc</em>&nbsp;</td><td>The hash function to use, currently not implemented. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hashoffset</em>&nbsp;</td><td>The hash offset to use, currently not implemented. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>comparefunc</em>&nbsp;</td><td>The function used to compare the field and data <a class="el" href="structvalues.html">values</a>.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro iterates through a container passing the specified field and data elements to the specified comparefunc. The function should return 0 when a match is found.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>When the returned object is no longer in use, <a class="el" href="astobj_8h.html#aed02826b481ce75ec710c1184ac8f059" title="Decrement the reference count on an object.">ASTOBJ_UNREF()</a> should be used to free the additional reference created by this macro.</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to the object located or NULL if nothing is found. </dd></dl>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00428">428</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="chan__gtalk_8c_source.html#l00242">find_gtalk()</a>, <a class="el" href="chan__jingle_8c_source.html#l00244">find_jingle()</a>, <a class="el" href="chan__h323_8c_source.html#l01632">find_peer()</a>, and <a class="el" href="chan__h323_8c_source.html#l01602">find_user()</a>.</p>

</div>
</div>
<a class="anchor" id="ae8b901ccd399d0a617ef4a5557f3e199"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_FIND_UNLINK" ref="ae8b901ccd399d0a617ef4a5557f3e199" args="(container, namestr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_FIND_UNLINK</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">namestr&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find and remove an object from a container. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>container</em>&nbsp;</td><td>A pointer to the container to operate on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>namestr</em>&nbsp;</td><td>The name of the object to remove.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro iterates through a container and removes the first object with the specfied name from the container.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This macro does not destroy any objects, it simply unlinks them. No destructors are called.</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The container's reference to the removed object or NULL if no matching object was found. </dd></dl>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00512">512</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6c76bfbc9e80b029038df1805f824446"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_FIND_UNLINK_FULL" ref="a6c76bfbc9e80b029038df1805f824446" args="(container, data, field, hashfunc, hashoffset, comparefunc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_FIND_UNLINK_FULL</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">data, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">field, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hashfunc, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hashoffset, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">comparefunc&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find and remove an object in a container. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>container</em>&nbsp;</td><td>A pointer to the container to search. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>The data to search for. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>field</em>&nbsp;</td><td>The field/member of the container's objects to search. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hashfunc</em>&nbsp;</td><td>The hash function to use, currently not implemented. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hashoffset</em>&nbsp;</td><td>The hash offset to use, currently not implemented. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>comparefunc</em>&nbsp;</td><td>The function used to compare the field and data <a class="el" href="structvalues.html">values</a>.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro iterates through a container passing the specified field and data elements to the specified comparefunc. The function should return 0 when a match is found. If a match is found it is removed from the list.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This macro does not destroy any objects, it simply unlinks them. No destructors are called.</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The container's reference to the removed object or NULL if no match was found. </dd></dl>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00551">551</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="chan__h323_8c_source.html#l01191">build_alias()</a>, <a class="el" href="chan__h323_8c_source.html#l01478">build_peer()</a>, and <a class="el" href="chan__h323_8c_source.html#l01360">build_user()</a>.</p>

</div>
</div>
<a class="anchor" id="a8551f606c8aecc4797ef7728c7792827"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_INIT" ref="a8551f606c8aecc4797ef7728c7792827" args="(container)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_INIT</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;ASTOBJ_CONTAINER_INIT_FULL(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>,1,ASTOBJ_DEFAULT_BUCKETS)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize a container. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>container</em>&nbsp;</td><td>A pointer to the container to initialize.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro initializes a container. It should only be used on containers that support locking.</p>
<p><b>Sample Usage:</b> </p>
<div class="fragment"><pre class="fragment"> <span class="keyword">struct </span>sample_struct_container {
    <a class="code" href="astobj_8h.html#a632bdb71578342a84ac7a23dc795823a" title="Create a container for ASTOBJs (with locking support).">ASTOBJ_CONTAINER_COMPONENTS</a>(<span class="keyword">struct</span> sample_struct);
 } <a class="code" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47" title="Container of cached events.">container</a>;

 <span class="keywordtype">int</span> func()
 {
    <a class="code" href="astobj_8h.html#a8551f606c8aecc4797ef7728c7792827" title="Initialize a container.">ASTOBJ_CONTAINER_INIT</a>(&amp;<a class="code" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47" title="Container of cached events.">container</a>);
 }
</pre></div> 
<p>Definition at line <a class="el" href="astobj_8h_source.html#l00752">752</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="res__jabber_8c_source.html#l02660">aji_create_client()</a>, <a class="el" href="res__smdi_8c_source.html#l00831">alloc_smdi_interface()</a>, <a class="el" href="netsock_8c_source.html#l00072">ast_netsock_init()</a>, and <a class="el" href="chan__gtalk_8c_source.html#l02033">load_module()</a>.</p>

</div>
</div>
<a class="anchor" id="a581d2605094a2a22450f9bfa4b34f2a3"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_INIT_FULL" ref="a581d2605094a2a22450f9bfa4b34f2a3" args="(container, hashes, buckets)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_INIT_FULL</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hashes, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">buckets&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> { \
      <a class="code" href="lock_8h.html#a5dc895fe6e8c089175159fc22e33fc3b">ast_mutex_init</a>(&amp;(<a class="code" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47" title="Container of cached events.">container</a>)-&gt;_lock); \
   } <span class="keywordflow">while</span>(0)
</pre></div>
<p>Initialize a container. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>container</em>&nbsp;</td><td>A pointer to the container to initialize. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hashes</em>&nbsp;</td><td>Currently unused. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buckets</em>&nbsp;</td><td>Currently unused.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro initializes a container. It should only be used on containers that support locking.</p>
<p><b>Sample Usage:</b> </p>
<div class="fragment"><pre class="fragment"> <span class="keyword">struct </span>sample_struct_container {
    ASTOBJ_CONTAINER_COMPONENTS_FULL(<span class="keyword">struct</span> sample_struct,1,1);
 } <a class="code" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47" title="Container of cached events.">container</a>;

 <span class="keywordtype">int</span> func()
 {
    <a class="code" href="astobj_8h.html#a581d2605094a2a22450f9bfa4b34f2a3" title="Initialize a container.">ASTOBJ_CONTAINER_INIT_FULL</a>(&amp;<a class="code" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47" title="Container of cached events.">container</a>,1,1);
 }
</pre></div> 
<p>Definition at line <a class="el" href="astobj_8h_source.html#l00330">330</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

</div>
</div>
<a class="anchor" id="a73bb2d9f59430fd47007a3c6ea651de6"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_LINK" ref="a73bb2d9f59430fd47007a3c6ea651de6" args="(container, newobj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_LINK</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">newobj&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;ASTOBJ_CONTAINER_LINK_FULL(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>,newobj,(newobj)-&gt;<a class="el" href="channel_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,<a class="el" href="channel_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,ASTOBJ_DEFAULT_HASH,0,strcasecmp)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add an object to a container. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>container</em>&nbsp;</td><td>A pointer to the container to operate on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>newobj</em>&nbsp;</td><td>A pointer to the object to be added.</td></tr>
  </table>
  </dd>
</dl>
<p>Currently this macro adds an object to the head of a container. One day it should add an object in alphabetical order. </p>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00776">776</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="res__jabber_8c_source.html#l02880">aji_create_buddy()</a>, <a class="el" href="netsock_8c_source.html#l00104">ast_netsock_bindaddr()</a>, <a class="el" href="chan__gtalk_8c_source.html#l01901">gtalk_load_config()</a>, <a class="el" href="chan__jingle_8c_source.html#l01724">jingle_load_config()</a>, <a class="el" href="chan__h323_8c_source.html#l02832">reload_config()</a>, <a class="el" href="chan__sip_8c_source.html#l07472">sip_register()</a>, <a class="el" href="chan__sip_8c_source.html#l07663">sip_subscribe_mwi()</a>, and <a class="el" href="res__smdi_8c_source.html#l00861">smdi_load()</a>.</p>

</div>
</div>
<a class="anchor" id="a0133062dfa738a600b244275c03a15ac"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_LINK_END" ref="a0133062dfa738a600b244275c03a15ac" args="(container, newobj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_LINK_END</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">newobj&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add an object to the end of a container. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>container</em>&nbsp;</td><td>A pointer to the container to operate on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>newobj</em>&nbsp;</td><td>A pointer to the object to be added.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro adds an object to the end of a container. </p>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00580">580</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="res__smdi_8c_source.html#l00171">ast_smdi_md_message_push()</a>, and <a class="el" href="res__smdi_8c_source.html#l00185">ast_smdi_mwi_message_push()</a>.</p>

</div>
</div>
<a class="anchor" id="abfe4af2bf8336e6879ac44741fa8d312"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_LINK_FULL" ref="abfe4af2bf8336e6879ac44741fa8d312" args="(container, newobj, data, field, hashfunc, hashoffset, comparefunc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_LINK_FULL</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">newobj, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">data, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">field, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hashfunc, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hashoffset, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">comparefunc&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add an object to a container. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>container</em>&nbsp;</td><td>A pointer to the container to operate on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>newobj</em>&nbsp;</td><td>A pointer to the object to be added. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Currently unused. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>field</em>&nbsp;</td><td>Currently unused. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hashfunc</em>&nbsp;</td><td>Currently unused. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hashoffset</em>&nbsp;</td><td>Currently unused. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>comparefunc</em>&nbsp;</td><td>Currently unused.</td></tr>
  </table>
  </dd>
</dl>
<p>Currently this function adds an object to the head of the list. One day it will support adding objects atthe position specified using the various options this macro offers. </p>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00686">686</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

</div>
</div>
<a class="anchor" id="afcb742aeb1fcf29e0f2ae75b6f9e0bd2"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_LINK_START" ref="afcb742aeb1fcf29e0f2ae75b6f9e0bd2" args="(container, newobj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_LINK_START</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">newobj&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add an object to the front of a container. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>container</em>&nbsp;</td><td>A pointer to the container to operate on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>newobj</em>&nbsp;</td><td>A pointer to the object to be added.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro adds an object to the start of a container. </p>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00610">610</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="res__smdi_8c_source.html#l00230">ast_smdi_md_message_putback()</a>, and <a class="el" href="res__smdi_8c_source.html#l00238">ast_smdi_mwi_message_putback()</a>.</p>

</div>
</div>
<a class="anchor" id="a5e865869ca1acadd652b42810fec2ec9"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_MARKALL" ref="a5e865869ca1acadd652b42810fec2ec9" args="(container)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_MARKALL</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;ASTOBJ_CONTAINER_TRAVERSE(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, 1, ASTOBJ_MARK(iterator))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mark all the objects in a container. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>container</em>&nbsp;</td><td>A pointer to the container to operate on. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00782">782</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="res__jabber_8c_source.html#l02660">aji_create_client()</a>, <a class="el" href="res__jabber_8c_source.html#l03035">aji_reload()</a>, and <a class="el" href="res__smdi_8c_source.html#l00861">smdi_load()</a>.</p>

</div>
</div>
<a class="anchor" id="a794727ca4ef71982250ff9f36a9668d7"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_PRUNE_MARKED" ref="a794727ca4ef71982250ff9f36a9668d7" args="(container, destructor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_PRUNE_MARKED</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">destructor&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Prune marked objects from a container. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>container</em>&nbsp;</td><td>A pointer to the container to prune. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destructor</em>&nbsp;</td><td>A destructor function to call on each marked object.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro iterates through the specfied container and prunes any marked objects executing the specfied destructor if necessary. </p>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00651">651</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="res__jabber_8c_source.html#l03035">aji_reload()</a>, <a class="el" href="chan__h323_8c_source.html#l02808">delete_aliases()</a>, <a class="el" href="chan__h323_8c_source.html#l02782">delete_users()</a>, <a class="el" href="chan__h323_8c_source.html#l02826">prune_peers()</a>, and <a class="el" href="res__smdi_8c_source.html#l00861">smdi_load()</a>.</p>

</div>
</div>
<a class="anchor" id="ae08cb94fa026f1534c5fafd0e95a788d"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_RDLOCK" ref="ae08cb94fa026f1534c5fafd0e95a788d" args="(container)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_RDLOCK</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;ast_mutex_lock(&amp;(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>)-&gt;_lock)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Lock an ASTOBJ_CONTAINER for reading. </p>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00276">276</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="res__smdi_8c_source.html#l00861">smdi_load()</a>.</p>

</div>
</div>
<a class="anchor" id="a8483cbd2bcf0b91ac62168fb1cb7f5b1"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_TRAVERSE" ref="a8483cbd2bcf0b91ac62168fb1cb7f5b1" args="(container, continue, eval)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_TRAVERSE</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">continue, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">eval&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Iterate through the objects in a container. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>container</em>&nbsp;</td><td>A pointer to the container to traverse. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>continue</em>&nbsp;</td><td>A condition to allow the traversal to continue. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>eval</em>&nbsp;</td><td>A statement to evaluate in the iteration loop.</td></tr>
  </table>
  </dd>
</dl>
<p>This is macro is a little complicated, but it may help to think of it as a loop. Basically it iterates through the specfied containter as long as the condition is met. Two variables, iterator and next, are provided for use in your <code>eval</code> statement. See the sample code for an example.</p>
<p><b>Sample Usage:</b> </p>
<div class="fragment"><pre class="fragment"> <a class="code" href="astobj_8h.html#a8483cbd2bcf0b91ac62168fb1cb7f5b1" title="Iterate through the objects in a container.">ASTOBJ_CONTAINER_TRAVERSE</a>(&amp;sample_container,1, {
    <a class="code" href="astobj_8h.html#a8d411cc142b0b49472fe38cf7b0845e1" title="Lock an ASTOBJ for reading.">ASTOBJ_RDLOCK</a>(iterator);
    printf(<span class="stringliteral">&quot;Currently iterating over &apos;%s&apos;\n&quot;</span>, iterator-&gt;name);
    <a class="code" href="astobj_8h.html#a9acee27cc52e8533d439f6cc10d11fbc" title="Unlock a locked object.">ASTOBJ_UNLOCK</a>(iterator);
 } );
</pre></div><div class="fragment"><pre class="fragment"> <a class="code" href="astobj_8h.html#a8483cbd2bcf0b91ac62168fb1cb7f5b1" title="Iterate through the objects in a container.">ASTOBJ_CONTAINER_TRAVERSE</a>(&amp;sample_container,1, sample_func(iterator));
</pre></div> 
<p>Definition at line <a class="el" href="astobj_8h_source.html#l00376">376</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="res__jabber_8c_source.html#l02442">aji_do_set_debug()</a>, <a class="el" href="res__jabber_8c_source.html#l02200">aji_filter_roster()</a>, <a class="el" href="res__jabber_8c_source.html#l02146">aji_pruneregister()</a>, <a class="el" href="res__jabber_8c_source.html#l03035">aji_reload()</a>, <a class="el" href="res__jabber_8c_source.html#l02549">aji_show_buddies()</a>, <a class="el" href="res__jabber_8c_source.html#l02504">aji_show_clients()</a>, <a class="el" href="res__jabber_8c_source.html#l02595">aji_test()</a>, <a class="el" href="res__jabber_8c_source.html#l02954">ast_aji_get_client()</a>, <a class="el" href="netsock_8c_source.html#l00089">ast_netsock_find()</a>, <a class="el" href="chan__h323_8c_source.html#l02808">delete_aliases()</a>, <a class="el" href="chan__h323_8c_source.html#l02782">delete_users()</a>, <a class="el" href="chan__gtalk_8c_source.html#l00242">find_gtalk()</a>, <a class="el" href="chan__jingle_8c_source.html#l00244">find_jingle()</a>, <a class="el" href="chan__gtalk_8c_source.html#l01901">gtalk_load_config()</a>, <a class="el" href="chan__gtalk_8c_source.html#l01683">gtalk_show_channels()</a>, <a class="el" href="chan__jingle_8c_source.html#l01724">jingle_load_config()</a>, <a class="el" href="chan__jingle_8c_source.html#l01513">jingle_show_channels()</a>, <a class="el" href="chan__sip_8c_source.html#l14567">manager_show_registry()</a>, <a class="el" href="chan__h323_8c_source.html#l02832">reload_config()</a>, <a class="el" href="chan__sip_8c_source.html#l25628">sip_send_all_mwi_subscriptions()</a>, <a class="el" href="chan__sip_8c_source.html#l25605">sip_send_all_registers()</a>, <a class="el" href="chan__sip_8c_source.html#l16120">sip_show_mwi()</a>, <a class="el" href="chan__sip_8c_source.html#l15748">sip_show_registry()</a>, <a class="el" href="res__smdi_8c_source.html#l00375">smdi_msg_find()</a>, and <a class="el" href="chan__gtalk_8c_source.html#l02084">unload_module()</a>.</p>

</div>
</div>
<a class="anchor" id="a823017bcbb6cbd758faaeae9feae113f"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_UNLINK" ref="a823017bcbb6cbd758faaeae9feae113f" args="(container, obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_UNLINK</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">obj&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove an object from a container. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>container</em>&nbsp;</td><td>A pointer to the container to operate on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>A pointer to the object to remove.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro iterates through a container and removes the specfied object if it exists in the container.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This macro does not destroy any objects, it simply unlinks them from the list. No destructors are called.</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The container's reference to the removed object or NULL if no matching object was found. </dd></dl>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00478">478</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

</div>
</div>
<a class="anchor" id="a524bda8342b3198a0c1fc9a23f6fb095"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_UNLINK_START" ref="a524bda8342b3198a0c1fc9a23f6fb095" args="(container)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_UNLINK_START</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove an object from the front of a container. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>container</em>&nbsp;</td><td>A pointer to the container to operate on.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro removes the first object in a container.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This macro does not destroy any objects, it simply unlinks them from the list. No destructors are called.</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The container's reference to the removed object or NULL if no matching object was found. </dd></dl>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00630">630</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="res__smdi_8c_source.html#l00275">unlink_from_msg_q()</a>.</p>

</div>
</div>
<a class="anchor" id="aa427859308cff6f8153760f7f67e5e30"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_UNLOCK" ref="aa427859308cff6f8153760f7f67e5e30" args="(container)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_UNLOCK</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;ast_mutex_unlock(&amp;(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>)-&gt;_lock)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Unlock an ASTOBJ_CONTAINER. </p>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00283">283</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="chan__h323_8c_source.html#l02808">delete_aliases()</a>, <a class="el" href="chan__h323_8c_source.html#l02782">delete_users()</a>, <a class="el" href="chan__h323_8c_source.html#l02832">reload_config()</a>, and <a class="el" href="res__smdi_8c_source.html#l00861">smdi_load()</a>.</p>

</div>
</div>
<a class="anchor" id="aaf600365443e11c6255b69e9015622f9"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_UNMARKALL" ref="aaf600365443e11c6255b69e9015622f9" args="(container)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_UNMARKALL</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;ASTOBJ_CONTAINER_TRAVERSE(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>, 1, ASTOBJ_UNMARK(iterator))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Unmark all the objects in a container. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>container</em>&nbsp;</td><td>A pointer to the container to operate on. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00788">788</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

</div>
</div>
<a class="anchor" id="afd5426b59fc40457028874afefbf2220"></a><!-- doxytag: member="astobj.h::ASTOBJ_CONTAINER_WRLOCK" ref="afd5426b59fc40457028874afefbf2220" args="(container)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_CONTAINER_WRLOCK</td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;ast_mutex_lock(&amp;(<a class="el" href="event_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>)-&gt;_lock)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Lock an ASTOBJ_CONTAINER for writing. </p>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00280">280</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="chan__h323_8c_source.html#l02808">delete_aliases()</a>, <a class="el" href="chan__h323_8c_source.html#l02782">delete_users()</a>, and <a class="el" href="chan__h323_8c_source.html#l02832">reload_config()</a>.</p>

</div>
</div>
<a class="anchor" id="acbf15cdb57616f8736c92e71960a8d06"></a><!-- doxytag: member="astobj.h::ASTOBJ_DEFAULT_BUCKETS" ref="acbf15cdb57616f8736c92e71960a8d06" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_DEFAULT_BUCKETS&nbsp;&nbsp;&nbsp;256</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00090">90</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

</div>
</div>
<a class="anchor" id="abc6cff11022d0bc3385895afd8980816"></a><!-- doxytag: member="astobj.h::ASTOBJ_DEFAULT_HASH" ref="abc6cff11022d0bc3385895afd8980816" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_DEFAULT_HASH&nbsp;&nbsp;&nbsp;ast_strhash</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00091">91</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac7c2819a6cb04fe16014b32bdf7148e3"></a><!-- doxytag: member="astobj.h::ASTOBJ_DEFAULT_NAMELEN" ref="ac7c2819a6cb04fe16014b32bdf7148e3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_DEFAULT_NAMELEN&nbsp;&nbsp;&nbsp;80</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00089">89</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa519784c0c7342d7c14ca56aec46a9d3"></a><!-- doxytag: member="astobj.h::ASTOBJ_DUMP" ref="aa519784c0c7342d7c14ca56aec46a9d3" args="(s, slen, obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_DUMP</td>
          <td>(</td>
          <td class="paramtype">s, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">slen, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">obj&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;snprintf((s),(slen),&quot;name: %s\nobjflags: %d\nrefcount: %d\n\n&quot;, (obj)-&gt;<a class="el" href="channel_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, (obj)-&gt;objflags, (obj)-&gt;refcount);</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Dump information about an object into a string. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>A pointer to the string buffer to use. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>slen</em>&nbsp;</td><td>The length of s. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>A pointer to the object to dump.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro dumps a text representation of the name, objectflags, and refcount fields of an object to the specfied string buffer. </p>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00800">800</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

</div>
</div>
<a class="anchor" id="af7030201e6809c62d208b04bba558555"></a><!-- doxytag: member="astobj.h::ASTOBJ_FLAG_MARKED" ref="af7030201e6809c62d208b04bba558555" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_FLAG_MARKED&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00093">93</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

</div>
</div>
<a class="anchor" id="a996db3d193843755068f61f21e14c3dd"></a><!-- doxytag: member="astobj.h::ASTOBJ_INIT" ref="a996db3d193843755068f61f21e14c3dd" args="(object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_INIT</td>
          <td>(</td>
          <td class="paramtype">object&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> { \
      <a class="code" href="lock_8h.html#a5dc895fe6e8c089175159fc22e33fc3b">ast_mutex_init</a>(&amp;(<span class="keywordtype">object</span>)-&gt;_lock); \
      <span class="keywordtype">object</span>-&gt;name[0] = <span class="charliteral">&apos;\0&apos;</span>; \
      <span class="keywordtype">object</span>-&gt;refcount = 1; \
   } <span class="keywordflow">while</span>(0)
</pre></div>
<p>Initialize an object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>object</em>&nbsp;</td><td>A pointer to the object to operate on.</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This should only be used on objects that support locking (objects created with <a class="el" href="astobj_8h.html#a23d93bf0a462be576f3b8d175b26625d" title="Add ASTOBJ components to a struct (with locking support).">ASTOBJ_COMPONENTS()</a> or <a class="el" href="astobj_8h.html#a07b6111d4b5944517e2662b8124ed7da" title="Add ASTOBJ components to a struct (with locking support).">ASTOBJ_COMPONENTS_FULL()</a>) </dd></dl>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00264">264</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="res__jabber_8c_source.html#l02880">aji_create_buddy()</a>, <a class="el" href="res__jabber_8c_source.html#l02660">aji_create_client()</a>, <a class="el" href="res__smdi_8c_source.html#l00831">alloc_smdi_interface()</a>, <a class="el" href="netsock_8c_source.html#l00104">ast_netsock_bindaddr()</a>, <a class="el" href="chan__h323_8c_source.html#l01191">build_alias()</a>, <a class="el" href="chan__h323_8c_source.html#l01478">build_peer()</a>, <a class="el" href="chan__h323_8c_source.html#l01360">build_user()</a>, <a class="el" href="chan__gtalk_8c_source.html#l01901">gtalk_load_config()</a>, <a class="el" href="chan__jingle_8c_source.html#l01724">jingle_load_config()</a>, <a class="el" href="chan__sip_8c_source.html#l07472">sip_register()</a>, <a class="el" href="chan__sip_8c_source.html#l07663">sip_subscribe_mwi()</a>, and <a class="el" href="res__smdi_8c_source.html#l00542">smdi_read()</a>.</p>

</div>
</div>
<a class="anchor" id="ad51464686c5c2948bd337f8bb2c483b7"></a><!-- doxytag: member="astobj.h::ASTOBJ_MARK" ref="ad51464686c5c2948bd337f8bb2c483b7" args="(object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_MARK</td>
          <td>(</td>
          <td class="paramtype">object&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> { \
      <a class="code" href="astobj_8h.html#ab4a4c9fe0af3b6237d81ae6fd7b857d4" title="Lock an ASTOBJ for writing.">ASTOBJ_WRLOCK</a>(<span class="keywordtype">object</span>); \
      (object)-&gt;objflags |= <a class="code" href="astobj_8h.html#af7030201e6809c62d208b04bba558555">ASTOBJ_FLAG_MARKED</a>; \
      <a class="code" href="astobj_8h.html#a9acee27cc52e8533d439f6cc10d11fbc" title="Unlock a locked object.">ASTOBJ_UNLOCK</a>(<span class="keywordtype">object</span>); \
   } <span class="keywordflow">while</span>(0)
</pre></div>
<p>Mark an ASTOBJ by adding the <a class="el" href="astobj_8h.html#af7030201e6809c62d208b04bba558555">ASTOBJ_FLAG_MARKED</a> flag to its objflags mask. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>object</em>&nbsp;</td><td>A pointer to the object to operate on.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro "marks" an object. Marked objects can later be unlinked from a container using <a class="el" href="astobj_8h.html#a794727ca4ef71982250ff9f36a9668d7" title="Prune marked objects from a container.">ASTOBJ_CONTAINER_PRUNE_MARKED()</a>. </p>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00241">241</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="chan__h323_8c_source.html#l02808">delete_aliases()</a>, and <a class="el" href="chan__h323_8c_source.html#l02782">delete_users()</a>.</p>

</div>
</div>
<a class="anchor" id="a8d411cc142b0b49472fe38cf7b0845e1"></a><!-- doxytag: member="astobj.h::ASTOBJ_RDLOCK" ref="a8d411cc142b0b49472fe38cf7b0845e1" args="(object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_RDLOCK</td>
          <td>(</td>
          <td class="paramtype">object&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;ast_mutex_lock(&amp;(object)-&gt;_lock)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Lock an ASTOBJ for reading. </p>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00100">100</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="res__jabber_8c_source.html#l02442">aji_do_set_debug()</a>, <a class="el" href="res__jabber_8c_source.html#l02200">aji_filter_roster()</a>, <a class="el" href="res__jabber_8c_source.html#l02146">aji_pruneregister()</a>, <a class="el" href="res__jabber_8c_source.html#l03035">aji_reload()</a>, <a class="el" href="res__jabber_8c_source.html#l02549">aji_show_buddies()</a>, <a class="el" href="res__jabber_8c_source.html#l02504">aji_show_clients()</a>, <a class="el" href="res__jabber_8c_source.html#l02595">aji_test()</a>, <a class="el" href="netsock_8c_source.html#l00089">ast_netsock_find()</a>, <a class="el" href="chan__h323_8c_source.html#l02808">delete_aliases()</a>, <a class="el" href="chan__h323_8c_source.html#l02782">delete_users()</a>, <a class="el" href="chan__gtalk_8c_source.html#l00242">find_gtalk()</a>, <a class="el" href="chan__jingle_8c_source.html#l00244">find_jingle()</a>, <a class="el" href="chan__sip_8c_source.html#l14567">manager_show_registry()</a>, <a class="el" href="chan__h323_8c_source.html#l02832">reload_config()</a>, <a class="el" href="chan__sip_8c_source.html#l16120">sip_show_mwi()</a>, <a class="el" href="chan__sip_8c_source.html#l15748">sip_show_registry()</a>, and <a class="el" href="res__jabber_8c_source.html#l03061">unload_module()</a>.</p>

</div>
</div>
<a class="anchor" id="ab9c2c3dae8dc0cd67210b5e03b3b7d6e"></a><!-- doxytag: member="astobj.h::ASTOBJ_REF" ref="ab9c2c3dae8dc0cd67210b5e03b3b7d6e" args="(object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_REF</td>
          <td>(</td>
          <td class="paramtype">object&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Increment an object reference count. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>object</em>&nbsp;</td><td>A pointer to the object to operate on. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The object. </dd></dl>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00201">201</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="chan__sip_8c_source.html#l10966">__sip_subscribe_mwi_do()</a>, <a class="el" href="res__jabber_8c_source.html#l00944">aji_act_hook()</a>, <a class="el" href="res__jabber_8c_source.html#l02327">aji_client_connect()</a>, <a class="el" href="res__jabber_8c_source.html#l01353">aji_client_info_handler()</a>, <a class="el" href="res__jabber_8c_source.html#l01413">aji_dinfo_handler()</a>, <a class="el" href="res__jabber_8c_source.html#l01258">aji_ditems_handler()</a>, <a class="el" href="res__jabber_8c_source.html#l02200">aji_filter_roster()</a>, <a class="el" href="res__jabber_8c_source.html#l00863">aji_log_hook()</a>, <a class="el" href="res__jabber_8c_source.html#l01985">aji_recv_loop()</a>, <a class="el" href="res__jabber_8c_source.html#l01144">aji_register_approve_handler()</a>, <a class="el" href="res__jabber_8c_source.html#l01187">aji_register_query_handler()</a>, <a class="el" href="res__smdi_8c_source.html#l00752">append_mailbox_mapping()</a>, <a class="el" href="chan__gtalk_8c_source.html#l01764">gtalk_parser()</a>, <a class="el" href="chan__sip_8c_source.html#l17936">handle_response_subscribe()</a>, <a class="el" href="chan__jingle_8c_source.html#l01593">jingle_parser()</a>, <a class="el" href="chan__sip_8c_source.html#l03234">registry_addref()</a>, <a class="el" href="chan__sip_8c_source.html#l25628">sip_send_all_mwi_subscriptions()</a>, <a class="el" href="res__smdi_8c_source.html#l00375">smdi_msg_find()</a>, and <a class="el" href="res__smdi_8c_source.html#l01122">smdi_msg_retrieve_read()</a>.</p>

</div>
</div>
<a class="anchor" id="aca79ffc1e341dbbae76d98de69f80d9b"></a><!-- doxytag: member="astobj.h::ASTOBJ_TRYWRLOCK" ref="aca79ffc1e341dbbae76d98de69f80d9b" args="(object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_TRYWRLOCK</td>
          <td>(</td>
          <td class="paramtype">object&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;ast_mutex_trylock(&amp;(object)-&gt;_lock)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00106">106</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9acee27cc52e8533d439f6cc10d11fbc"></a><!-- doxytag: member="astobj.h::ASTOBJ_UNLOCK" ref="a9acee27cc52e8533d439f6cc10d11fbc" args="(object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_UNLOCK</td>
          <td>(</td>
          <td class="paramtype">object&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;ast_mutex_unlock(&amp;(object)-&gt;_lock)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Unlock a locked object. </p>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00109">109</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="res__jabber_8c_source.html#l02880">aji_create_buddy()</a>, <a class="el" href="res__jabber_8c_source.html#l02442">aji_do_set_debug()</a>, <a class="el" href="res__jabber_8c_source.html#l02200">aji_filter_roster()</a>, <a class="el" href="res__jabber_8c_source.html#l01604">aji_handle_presence()</a>, <a class="el" href="res__jabber_8c_source.html#l03035">aji_reload()</a>, <a class="el" href="res__jabber_8c_source.html#l02549">aji_show_buddies()</a>, <a class="el" href="res__jabber_8c_source.html#l02504">aji_show_clients()</a>, <a class="el" href="res__jabber_8c_source.html#l02595">aji_test()</a>, <a class="el" href="netsock_8c_source.html#l00089">ast_netsock_find()</a>, <a class="el" href="chan__h323_8c_source.html#l02808">delete_aliases()</a>, <a class="el" href="chan__h323_8c_source.html#l02782">delete_users()</a>, <a class="el" href="chan__gtalk_8c_source.html#l00242">find_gtalk()</a>, <a class="el" href="chan__jingle_8c_source.html#l00244">find_jingle()</a>, <a class="el" href="chan__gtalk_8c_source.html#l01901">gtalk_load_config()</a>, <a class="el" href="chan__gtalk_8c_source.html#l01637">gtalk_request()</a>, <a class="el" href="chan__gtalk_8c_source.html#l01683">gtalk_show_channels()</a>, <a class="el" href="chan__jingle_8c_source.html#l01724">jingle_load_config()</a>, <a class="el" href="chan__jingle_8c_source.html#l01468">jingle_request()</a>, <a class="el" href="chan__jingle_8c_source.html#l01513">jingle_show_channels()</a>, <a class="el" href="chan__sip_8c_source.html#l14567">manager_show_registry()</a>, <a class="el" href="chan__h323_8c_source.html#l02832">reload_config()</a>, <a class="el" href="chan__sip_8c_source.html#l25628">sip_send_all_mwi_subscriptions()</a>, <a class="el" href="chan__sip_8c_source.html#l25605">sip_send_all_registers()</a>, <a class="el" href="chan__sip_8c_source.html#l16120">sip_show_mwi()</a>, <a class="el" href="chan__sip_8c_source.html#l15748">sip_show_registry()</a>, <a class="el" href="res__smdi_8c_source.html#l00193">smdi_toggle_mwi()</a>, and <a class="el" href="chan__gtalk_8c_source.html#l02084">unload_module()</a>.</p>

</div>
</div>
<a class="anchor" id="a789fc1432f54cb615e839f0db9decad5"></a><!-- doxytag: member="astobj.h::ASTOBJ_UNMARK" ref="a789fc1432f54cb615e839f0db9decad5" args="(object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_UNMARK</td>
          <td>(</td>
          <td class="paramtype">object&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> { \
      <a class="code" href="astobj_8h.html#ab4a4c9fe0af3b6237d81ae6fd7b857d4" title="Lock an ASTOBJ for writing.">ASTOBJ_WRLOCK</a>(<span class="keywordtype">object</span>); \
      (object)-&gt;objflags &amp;= ~<a class="code" href="astobj_8h.html#af7030201e6809c62d208b04bba558555">ASTOBJ_FLAG_MARKED</a>; \
      <a class="code" href="astobj_8h.html#a9acee27cc52e8533d439f6cc10d11fbc" title="Unlock a locked object.">ASTOBJ_UNLOCK</a>(<span class="keywordtype">object</span>); \
   } <span class="keywordflow">while</span>(0)
</pre></div>
<p>Unmark an ASTOBJ by subtracting the <a class="el" href="astobj_8h.html#af7030201e6809c62d208b04bba558555">ASTOBJ_FLAG_MARKED</a> flag from its objflags mask. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>object</em>&nbsp;</td><td>A pointer to the object to operate on. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00251">251</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="res__jabber_8c_source.html#l02880">aji_create_buddy()</a>, <a class="el" href="res__jabber_8c_source.html#l02660">aji_create_client()</a>, <a class="el" href="chan__h323_8c_source.html#l01191">build_alias()</a>, <a class="el" href="chan__h323_8c_source.html#l01478">build_peer()</a>, <a class="el" href="chan__h323_8c_source.html#l01360">build_user()</a>, and <a class="el" href="res__smdi_8c_source.html#l00861">smdi_load()</a>.</p>

</div>
</div>
<a class="anchor" id="aed02826b481ce75ec710c1184ac8f059"></a><!-- doxytag: member="astobj.h::ASTOBJ_UNREF" ref="aed02826b481ce75ec710c1184ac8f059" args="(object, destructor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_UNREF</td>
          <td>(</td>
          <td class="paramtype">object, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">destructor&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Decrement the reference count on an object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>object</em>&nbsp;</td><td>A pointer the object to operate on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destructor</em>&nbsp;</td><td>The destructor to call if the object is no longer referenced. It will be passed the pointer as an argument.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro unreferences an object and calls the specfied destructor if the object is no longer referenced. The destructor should free the object if it was dynamically allocated. </p>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00218">218</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="res__jabber_8c_source.html#l00944">aji_act_hook()</a>, <a class="el" href="res__jabber_8c_source.html#l02327">aji_client_connect()</a>, <a class="el" href="res__jabber_8c_source.html#l01353">aji_client_info_handler()</a>, <a class="el" href="res__jabber_8c_source.html#l02880">aji_create_buddy()</a>, <a class="el" href="res__jabber_8c_source.html#l01413">aji_dinfo_handler()</a>, <a class="el" href="res__jabber_8c_source.html#l01258">aji_ditems_handler()</a>, <a class="el" href="res__jabber_8c_source.html#l01604">aji_handle_presence()</a>, <a class="el" href="res__jabber_8c_source.html#l00863">aji_log_hook()</a>, <a class="el" href="res__jabber_8c_source.html#l01985">aji_recv_loop()</a>, <a class="el" href="res__jabber_8c_source.html#l01144">aji_register_approve_handler()</a>, <a class="el" href="res__jabber_8c_source.html#l01187">aji_register_query_handler()</a>, <a class="el" href="res__jabber_8c_source.html#l02380">ast_aji_disconnect()</a>, <a class="el" href="netsock_8c_source.html#l00213">ast_netsock_unref()</a>, <a class="el" href="res__smdi_8c_source.html#l00160">ast_smdi_interface_unref()</a>, <a class="el" href="chan__h323_8c_source.html#l01478">build_peer()</a>, <a class="el" href="chan__h323_8c_source.html#l01360">build_user()</a>, <a class="el" href="chan__h323_8c_source.html#l01650">create_addr()</a>, <a class="el" href="res__smdi_8c_source.html#l00735">destroy_mailbox_mapping()</a>, <a class="el" href="chan__gtalk_8c_source.html#l01901">gtalk_load_config()</a>, <a class="el" href="chan__gtalk_8c_source.html#l01764">gtalk_parser()</a>, <a class="el" href="chan__gtalk_8c_source.html#l01637">gtalk_request()</a>, <a class="el" href="chan__sip_8c_source.html#l17936">handle_response_subscribe()</a>, <a class="el" href="chan__jingle_8c_source.html#l01724">jingle_load_config()</a>, <a class="el" href="chan__jingle_8c_source.html#l01593">jingle_parser()</a>, <a class="el" href="chan__sip_8c_source.html#l03226">registry_unref()</a>, <a class="el" href="chan__h323_8c_source.html#l02832">reload_config()</a>, <a class="el" href="app__voicemail_8c_source.html#l05078">run_externnotify()</a>, <a class="el" href="chan__h323_8c_source.html#l02100">setup_incoming_call()</a>, <a class="el" href="chan__sip_8c_source.html#l25628">sip_send_all_mwi_subscriptions()</a>, <a class="el" href="chan__sip_8c_source.html#l07663">sip_subscribe_mwi()</a>, <a class="el" href="chan__sip_8c_source.html#l10950">sip_subscribe_mwi_do()</a>, <a class="el" href="res__smdi_8c_source.html#l00861">smdi_load()</a>, <a class="el" href="res__smdi_8c_source.html#l01094">smdi_msg_datastore_destroy()</a>, <a class="el" href="res__smdi_8c_source.html#l01122">smdi_msg_retrieve_read()</a>, <a class="el" href="res__smdi_8c_source.html#l00542">smdi_read()</a>, <a class="el" href="chan__dahdi_8c_source.html#l07675">ss_thread()</a>, and <a class="el" href="res__smdi_8c_source.html#l00301">unref_msg()</a>.</p>

</div>
</div>
<a class="anchor" id="ab4a4c9fe0af3b6237d81ae6fd7b857d4"></a><!-- doxytag: member="astobj.h::ASTOBJ_WRLOCK" ref="ab4a4c9fe0af3b6237d81ae6fd7b857d4" args="(object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASTOBJ_WRLOCK</td>
          <td>(</td>
          <td class="paramtype">object&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;ast_mutex_lock(&amp;(object)-&gt;_lock)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Lock an ASTOBJ for writing. </p>

<p>Definition at line <a class="el" href="astobj_8h_source.html#l00104">104</a> of file <a class="el" href="astobj_8h_source.html">astobj.h</a>.</p>

<p>Referenced by <a class="el" href="res__jabber_8c_source.html#l02880">aji_create_buddy()</a>, <a class="el" href="res__jabber_8c_source.html#l02660">aji_create_client()</a>, <a class="el" href="res__jabber_8c_source.html#l01604">aji_handle_presence()</a>, <a class="el" href="chan__gtalk_8c_source.html#l01901">gtalk_load_config()</a>, <a class="el" href="chan__gtalk_8c_source.html#l01637">gtalk_request()</a>, <a class="el" href="chan__gtalk_8c_source.html#l01683">gtalk_show_channels()</a>, <a class="el" href="chan__jingle_8c_source.html#l01724">jingle_load_config()</a>, <a class="el" href="chan__jingle_8c_source.html#l01468">jingle_request()</a>, <a class="el" href="chan__jingle_8c_source.html#l01513">jingle_show_channels()</a>, <a class="el" href="chan__sip_8c_source.html#l25628">sip_send_all_mwi_subscriptions()</a>, <a class="el" href="chan__sip_8c_source.html#l25605">sip_send_all_registers()</a>, <a class="el" href="res__smdi_8c_source.html#l00193">smdi_toggle_mwi()</a>, and <a class="el" href="chan__gtalk_8c_source.html#l02084">unload_module()</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed May 5 15:19:39 2010 for Asterisk - the Open Source PBX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
