<HTML>
    <HEAD>
      <TITLE>Asterisk.org: Developer Documentation (5 May 2010)</TITLE>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<div><font size="2" align="right">Wed May 5 15:18:42 2010</font></div>

<h2>Asterisk developer's documentation</h2>
<hr/>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_1ab815038f534adda65c8b4ae4993449.html">include</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_16d825f1fa9ecca2e70b1a8d9256d0e6.html">asterisk</a>
  </div>
</div>
<div class="contents">
<h1>jabber.h</h1><a href="jabber_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * Asterisk -- An open source telephony toolkit.</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * Copyright (C) 1999 - 2005, Digium, Inc.</span>
<a name="l00005"></a>00005 <span class="comment"> *</span>
<a name="l00006"></a>00006 <span class="comment"> * Matt O&apos;Gorman &lt;mogorman@digium.com&gt;</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> * See http://www.asterisk.org for more information about</span>
<a name="l00009"></a>00009 <span class="comment"> * the Asterisk project. Please do not directly contact</span>
<a name="l00010"></a>00010 <span class="comment"> * any of the maintainers of this project for assistance;</span>
<a name="l00011"></a>00011 <span class="comment"> * the project provides a web site, mailing lists and IRC</span>
<a name="l00012"></a>00012 <span class="comment"> * channels for your use.</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * This program is free software, distributed under the terms of</span>
<a name="l00015"></a>00015 <span class="comment"> * the GNU General Public License Version 2. See the LICENSE file</span>
<a name="l00016"></a>00016 <span class="comment"> * at the top of the source tree.</span>
<a name="l00017"></a>00017 <span class="comment"> */</span>
<a name="l00018"></a>00018 <span class="comment"></span>
<a name="l00019"></a>00019 <span class="comment">/*! \file</span>
<a name="l00020"></a>00020 <span class="comment"> * \brief AJI - The Asterisk Jabber Interface</span>
<a name="l00021"></a>00021 <span class="comment"> * \arg \ref AJI_intro</span>
<a name="l00022"></a>00022 <span class="comment"> * \ref res_jabber.c</span>
<a name="l00023"></a>00023 <span class="comment"> * \author Matt O&apos;Gorman &lt;mogorman@digium.com&gt;</span>
<a name="l00024"></a>00024 <span class="comment"> * \extref IKSEMEL http://iksemel.jabberstudio.org</span>
<a name="l00025"></a>00025 <span class="comment"> *</span>
<a name="l00026"></a>00026 <span class="comment"> * \page AJI_intro AJI - The Asterisk Jabber Interface</span>
<a name="l00027"></a>00027 <span class="comment"> * </span>
<a name="l00028"></a>00028 <span class="comment"> * The Asterisk Jabber Interface, AJI, publishes an API for</span>
<a name="l00029"></a>00029 <span class="comment"> * modules to use jabber communication. res_jabber.c implements</span>
<a name="l00030"></a>00030 <span class="comment"> * a Jabber client and a component that can connect as a service</span>
<a name="l00031"></a>00031 <span class="comment"> * to Jabber servers.</span>
<a name="l00032"></a>00032 <span class="comment"> *</span>
<a name="l00033"></a>00033 <span class="comment"> * \section External dependencies</span>
<a name="l00034"></a>00034 <span class="comment"> * AJI use the IKSEMEL library found at http://iksemel.jabberstudio.org/</span>
<a name="l00035"></a>00035 <span class="comment"> *</span>
<a name="l00036"></a>00036 <span class="comment"> * \section Files</span>
<a name="l00037"></a>00037 <span class="comment"> * - res_jabber.c</span>
<a name="l00038"></a>00038 <span class="comment"> * - jabber.h</span>
<a name="l00039"></a>00039 <span class="comment"> * - chan_gtalk.c</span>
<a name="l00040"></a>00040 <span class="comment"> *</span>
<a name="l00041"></a>00041 <span class="comment"> */</span>
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 <span class="preprocessor">#ifndef _ASTERISK_JABBER_H</span>
<a name="l00044"></a>00044 <span class="preprocessor"></span><span class="preprocessor">#define _ASTERISK_JABBER_H</span>
<a name="l00045"></a>00045 <span class="preprocessor"></span>
<a name="l00046"></a>00046 <span class="preprocessor">#ifdef HAVE_OPENSSL</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &lt;openssl/ssl.h&gt;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &lt;openssl/err.h&gt;</span>
<a name="l00050"></a><a class="code" href="jabber_8h.html#ab432cc1c9f5228a80e1fe12e301a2f0f">00050</a> <span class="preprocessor">#define TRY_SECURE 2</span>
<a name="l00051"></a><a class="code" href="jabber_8h.html#aff0ca0337402eb888baf747ce2469641">00051</a> <span class="preprocessor"></span><span class="preprocessor">#define SECURE 4</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span>
<a name="l00053"></a>00053 <span class="preprocessor">#endif </span><span class="comment">/* HAVE_OPENSSL */</span>
<a name="l00054"></a>00054 <span class="comment">/* file is read by blocks with this size */</span>
<a name="l00055"></a><a class="code" href="jabber_8h.html#a88194d0f499931c26ef4df0738f26ec1">00055</a> <span class="preprocessor">#define NET_IO_BUF_SIZE 4096</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span><span class="comment">/* Return value for timeout connection expiration */</span>
<a name="l00057"></a><a class="code" href="jabber_8h.html#a99fa4c2cecd405f4430c8d137af93db9">00057</a> <span class="preprocessor">#define IKS_NET_EXPIRED 12</span>
<a name="l00058"></a>00058 <span class="preprocessor"></span>
<a name="l00059"></a>00059 <span class="preprocessor">#include &lt;iksemel.h&gt;</span>
<a name="l00060"></a>00060 <span class="preprocessor">#include &quot;<a class="code" href="astobj_8h.html" title="A set of macros implementing objects and containers. Macros are used for maximum...">asterisk/astobj.h</a>&quot;</span>
<a name="l00061"></a>00061 <span class="preprocessor">#include &quot;<a class="code" href="linkedlists_8h.html" title="A set of macros to manage forward-linked lists.">asterisk/linkedlists.h</a>&quot;</span>
<a name="l00062"></a>00062 
<a name="l00063"></a>00063 <span class="comment">/* </span>
<a name="l00064"></a>00064 <span class="comment"> * As per RFC 3920 - section 3.1, the maximum length for a full Jabber ID </span>
<a name="l00065"></a>00065 <span class="comment"> * is 3071 bytes.</span>
<a name="l00066"></a>00066 <span class="comment"> * The ABNF syntax for jid :</span>
<a name="l00067"></a>00067 <span class="comment"> * jid = [node &quot;@&quot; ] domain [ &quot;/&quot; resource ]</span>
<a name="l00068"></a>00068 <span class="comment"> * Each allowable portion of a JID (node identifier, domain identifier,</span>
<a name="l00069"></a>00069 <span class="comment"> * and resource identifier) MUST NOT be more than 1023 bytes in length,</span>
<a name="l00070"></a>00070 <span class="comment"> * resulting in a maximum total size (including the &apos;@&apos; and &apos;/&apos; separators) </span>
<a name="l00071"></a>00071 <span class="comment"> * of 3071 bytes.</span>
<a name="l00072"></a>00072 <span class="comment"> */</span>
<a name="l00073"></a><a class="code" href="jabber_8h.html#aff8969a8d91846c9e669eb4f0ec5208a">00073</a> <span class="preprocessor">#define AJI_MAX_JIDLEN 3071</span>
<a name="l00074"></a><a class="code" href="jabber_8h.html#a9d77c90c86960648940da39aa2d25e47">00074</a> <span class="preprocessor"></span><span class="preprocessor">#define AJI_MAX_RESJIDLEN 1023</span>
<a name="l00075"></a>00075 <span class="preprocessor"></span>
<a name="l00076"></a><a class="code" href="jabber_8h.html#a75f56fc355bdf37aa9ed1ee97b5986b0">00076</a> <span class="keyword">enum</span> <a class="code" href="jabber_8h.html#a75f56fc355bdf37aa9ed1ee97b5986b0">aji_state</a> {
<a name="l00077"></a><a class="code" href="jabber_8h.html#a75f56fc355bdf37aa9ed1ee97b5986b0a9f2e9be855a781b74badbe0c1bda278e">00077</a>    <a class="code" href="jabber_8h.html#a75f56fc355bdf37aa9ed1ee97b5986b0a9f2e9be855a781b74badbe0c1bda278e">AJI_DISCONNECTING</a>,
<a name="l00078"></a><a class="code" href="jabber_8h.html#a75f56fc355bdf37aa9ed1ee97b5986b0a46d3c148625b0889f793b6c355051d3b">00078</a>    <a class="code" href="jabber_8h.html#a75f56fc355bdf37aa9ed1ee97b5986b0a46d3c148625b0889f793b6c355051d3b">AJI_DISCONNECTED</a>,
<a name="l00079"></a><a class="code" href="jabber_8h.html#a75f56fc355bdf37aa9ed1ee97b5986b0ade80d6f33c170eeaeb1fbc84ebdb1a2f">00079</a>    <a class="code" href="jabber_8h.html#a75f56fc355bdf37aa9ed1ee97b5986b0ade80d6f33c170eeaeb1fbc84ebdb1a2f">AJI_CONNECTING</a>,
<a name="l00080"></a><a class="code" href="jabber_8h.html#a75f56fc355bdf37aa9ed1ee97b5986b0ae1921cd67cd09004d94dbbd8473f47d9">00080</a>    <a class="code" href="jabber_8h.html#a75f56fc355bdf37aa9ed1ee97b5986b0ae1921cd67cd09004d94dbbd8473f47d9">AJI_CONNECTED</a>
<a name="l00081"></a>00081 };
<a name="l00082"></a>00082 
<a name="l00083"></a>00083 <span class="keyword">enum</span> {
<a name="l00084"></a><a class="code" href="jabber_8h.html#aeac2de18c0ed342a690b3e2ba3c52426a5bf8f469c15d256015b2a3084bcdef59">00084</a>    <a class="code" href="jabber_8h.html#aeac2de18c0ed342a690b3e2ba3c52426a5bf8f469c15d256015b2a3084bcdef59">AJI_AUTOPRUNE</a> = (1 &lt;&lt; 0),
<a name="l00085"></a><a class="code" href="jabber_8h.html#aeac2de18c0ed342a690b3e2ba3c52426a7f858074245d785e6248f4abea89b260">00085</a>    <a class="code" href="jabber_8h.html#aeac2de18c0ed342a690b3e2ba3c52426a7f858074245d785e6248f4abea89b260">AJI_AUTOREGISTER</a> = (1 &lt;&lt; 1)
<a name="l00086"></a>00086 };
<a name="l00087"></a>00087 
<a name="l00088"></a><a class="code" href="jabber_8h.html#a43544c485b6512baca1e632939f8d573">00088</a> <span class="keyword">enum</span> <a class="code" href="jabber_8h.html#a43544c485b6512baca1e632939f8d573">aji_btype</a> {
<a name="l00089"></a><a class="code" href="jabber_8h.html#a43544c485b6512baca1e632939f8d573af7ba2446400c30e569082d8c7c906ca3">00089</a>    <a class="code" href="jabber_8h.html#a43544c485b6512baca1e632939f8d573af7ba2446400c30e569082d8c7c906ca3">AJI_USER</a>=0,
<a name="l00090"></a><a class="code" href="jabber_8h.html#a43544c485b6512baca1e632939f8d573a6575b0c35092c8561693bf083674147a">00090</a>    <a class="code" href="jabber_8h.html#a43544c485b6512baca1e632939f8d573a6575b0c35092c8561693bf083674147a">AJI_TRANS</a>=1,
<a name="l00091"></a><a class="code" href="jabber_8h.html#a43544c485b6512baca1e632939f8d573ad4e5e4a7972f9db104bf7bd2b08a3192">00091</a>    <a class="code" href="jabber_8h.html#a43544c485b6512baca1e632939f8d573ad4e5e4a7972f9db104bf7bd2b08a3192">AJI_UTRANS</a>=2
<a name="l00092"></a>00092 };
<a name="l00093"></a>00093 
<a name="l00094"></a><a class="code" href="structaji__version.html">00094</a> <span class="keyword">struct </span><a class="code" href="structaji__version.html">aji_version</a> {
<a name="l00095"></a><a class="code" href="structaji__version.html#a039f1dc229c7bd812108a7e8f54249e5">00095</a>    <span class="keywordtype">char</span> <a class="code" href="structaji__version.html#a039f1dc229c7bd812108a7e8f54249e5">version</a>[50];
<a name="l00096"></a><a class="code" href="structaji__version.html#a221bb2c9b97010417157c4ac47625367">00096</a>    <span class="keywordtype">int</span> <a class="code" href="structjingle.html">jingle</a>;
<a name="l00097"></a><a class="code" href="structaji__version.html#a99020efc7f580df36182fc3be139f1b9">00097</a>    <span class="keyword">struct </span><a class="code" href="structaji__capabilities.html">aji_capabilities</a> *<a class="code" href="structaji__version.html#a99020efc7f580df36182fc3be139f1b9">parent</a>;
<a name="l00098"></a><a class="code" href="structaji__version.html#a44b6483c4f7906a4da3ef6381c5b24f7">00098</a>    <span class="keyword">struct </span><a class="code" href="structaji__version.html">aji_version</a> *<a class="code" href="structaji__version.html#a44b6483c4f7906a4da3ef6381c5b24f7">next</a>;
<a name="l00099"></a>00099 };
<a name="l00100"></a>00100 
<a name="l00101"></a><a class="code" href="structaji__capabilities.html">00101</a> <span class="keyword">struct </span><a class="code" href="structaji__capabilities.html">aji_capabilities</a> {
<a name="l00102"></a><a class="code" href="structaji__capabilities.html#a987239273bb4a074ad22c76c6486d5b1">00102</a>    <span class="keywordtype">char</span> <a class="code" href="structaji__capabilities.html#a987239273bb4a074ad22c76c6486d5b1">node</a>[200];
<a name="l00103"></a><a class="code" href="structaji__capabilities.html#abfcf4ae8635bc0465422997f97b656c8">00103</a>    <span class="keyword">struct </span><a class="code" href="structaji__version.html">aji_version</a> *<a class="code" href="structaji__capabilities.html#abfcf4ae8635bc0465422997f97b656c8">versions</a>;
<a name="l00104"></a><a class="code" href="structaji__capabilities.html#a121b3d8dfc41b0b80678fb8de4e4f109">00104</a>    <span class="keyword">struct </span><a class="code" href="structaji__capabilities.html">aji_capabilities</a> *<a class="code" href="structaji__capabilities.html#a121b3d8dfc41b0b80678fb8de4e4f109">next</a>;
<a name="l00105"></a>00105 };
<a name="l00106"></a>00106 
<a name="l00107"></a><a class="code" href="structaji__resource.html">00107</a> <span class="keyword">struct </span><a class="code" href="structaji__resource.html">aji_resource</a> {
<a name="l00108"></a><a class="code" href="structaji__resource.html#a6e27f49150e9a14580fb313cc2777e00">00108</a>    <span class="keywordtype">int</span> <a class="code" href="structaji__resource.html#a6e27f49150e9a14580fb313cc2777e00">status</a>;
<a name="l00109"></a><a class="code" href="structaji__resource.html#a1242b14224ca75fd8d9ecd5514880049">00109</a>    <span class="keywordtype">char</span> <a class="code" href="structaji__resource.html#a1242b14224ca75fd8d9ecd5514880049">resource</a>[<a class="code" href="jabber_8h.html#a9d77c90c86960648940da39aa2d25e47">AJI_MAX_RESJIDLEN</a>];
<a name="l00110"></a><a class="code" href="structaji__resource.html#a8444d6e0dfe2bbab0b5e7b24308f1559">00110</a>    <span class="keywordtype">char</span> *<a class="code" href="structaji__resource.html#a8444d6e0dfe2bbab0b5e7b24308f1559">description</a>;
<a name="l00111"></a><a class="code" href="structaji__resource.html#a3a3d467a2f83feeb330fabb44031c72f">00111</a>    <span class="keyword">struct </span><a class="code" href="structaji__version.html">aji_version</a> *<a class="code" href="structaji__resource.html#a3a3d467a2f83feeb330fabb44031c72f">cap</a>;
<a name="l00112"></a><a class="code" href="structaji__resource.html#acec9ce2df15222151ad66fcb1d74eb9f">00112</a>    <span class="keywordtype">int</span> <a class="code" href="structaji__resource.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>;
<a name="l00113"></a><a class="code" href="structaji__resource.html#a96df1b44c7b5636af9508acea4f6120b">00113</a>    <span class="keyword">struct </span><a class="code" href="structaji__resource.html">aji_resource</a> *<a class="code" href="structaji__resource.html#a96df1b44c7b5636af9508acea4f6120b">next</a>;
<a name="l00114"></a>00114 };
<a name="l00115"></a>00115 
<a name="l00116"></a><a class="code" href="structaji__message.html">00116</a> <span class="keyword">struct </span><a class="code" href="structaji__message.html">aji_message</a> {
<a name="l00117"></a><a class="code" href="structaji__message.html#a765533dfc643627999c751f7e1514664">00117</a>    <span class="keywordtype">char</span> *<a class="code" href="structaji__message.html#a765533dfc643627999c751f7e1514664">from</a>;
<a name="l00118"></a><a class="code" href="structaji__message.html#a0b2e8c7f76df48129f994ecc46d5c66c">00118</a>    <span class="keywordtype">char</span> *<a class="code" href="structmessage.html">message</a>;
<a name="l00119"></a><a class="code" href="structaji__message.html#a51d291314bf1da3f9ac4479963a4fadd">00119</a>    <span class="keywordtype">char</span> <span class="keywordtype">id</span>[25];
<a name="l00120"></a><a class="code" href="structaji__message.html#aec3ba7effb2fee6e19a3a258b1749394">00120</a>    time_t <a class="code" href="structaji__message.html#aec3ba7effb2fee6e19a3a258b1749394">arrived</a>;
<a name="l00121"></a>00121    <a class="code" href="structaji__message.html#a1475fa8f93aa9f5058298b81d9f13d12">AST_LIST_ENTRY</a>(<a class="code" href="structaji__message.html">aji_message</a>) list;
<a name="l00122"></a>00122 };
<a name="l00123"></a>00123 
<a name="l00124"></a><a class="code" href="structaji__buddy.html">00124</a> struct <a class="code" href="structaji__buddy.html">aji_buddy</a> {
<a name="l00125"></a><a class="code" href="structaji__buddy.html#ac330cf8e3216ecbd5b47c72c037e3e58">00125</a>    <a class="code" href="astobj_8h.html#a07b6111d4b5944517e2662b8124ed7da" title="Add ASTOBJ components to a struct (with locking support).">ASTOBJ_COMPONENTS_FULL</a>(<span class="keyword">struct</span> aji_buddy, <a class="code" href="jabber_8h.html#aff8969a8d91846c9e669eb4f0ec5208a">AJI_MAX_JIDLEN</a>, 1);
<a name="l00126"></a>00126    <span class="keywordtype">char</span> channel[160];
<a name="l00127"></a><a class="code" href="structaji__buddy.html#aae15cbeb57008429de5584b554e98940">00127</a>    <span class="keyword">struct </span><a class="code" href="structaji__resource.html">aji_resource</a> *resources;
<a name="l00128"></a><a class="code" href="structaji__buddy.html#af5f0930f7d9bc2cd3b71a61d842699fd">00128</a>    <span class="keyword">enum</span> <a class="code" href="jabber_8h.html#a43544c485b6512baca1e632939f8d573">aji_btype</a> btype;
<a name="l00129"></a><a class="code" href="structaji__buddy.html#aec78000b2897c094f68ed72559e18acd">00129</a>    <span class="keyword">struct </span><a class="code" href="structast__flags.html" title="Structure used to handle boolean flags.">ast_flags</a> <a class="code" href="structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">flags</a>;
<a name="l00130"></a>00130 };
<a name="l00131"></a>00131 
<a name="l00132"></a><a class="code" href="structaji__buddy__container.html">00132</a> <span class="keyword">struct </span><a class="code" href="structaji__buddy__container.html">aji_buddy_container</a> {
<a name="l00133"></a>00133    <a class="code" href="astobj_8h.html#a632bdb71578342a84ac7a23dc795823a" title="Create a container for ASTOBJs (with locking support).">ASTOBJ_CONTAINER_COMPONENTS</a>(<span class="keyword">struct</span> <a class="code" href="structaji__buddy.html">aji_buddy</a>);
<a name="l00134"></a>00134 };
<a name="l00135"></a>00135 
<a name="l00136"></a><a class="code" href="structaji__transport__container.html">00136</a> <span class="keyword">struct </span><a class="code" href="structaji__transport__container.html">aji_transport_container</a> {
<a name="l00137"></a>00137    <a class="code" href="astobj_8h.html#a632bdb71578342a84ac7a23dc795823a" title="Create a container for ASTOBJs (with locking support).">ASTOBJ_CONTAINER_COMPONENTS</a>(<span class="keyword">struct</span> aji_transport);
<a name="l00138"></a>00138 };
<a name="l00139"></a>00139 
<a name="l00140"></a><a class="code" href="structaji__client.html">00140</a> <span class="keyword">struct </span><a class="code" href="structaji__client.html">aji_client</a> {
<a name="l00141"></a><a class="code" href="structaji__client.html#ac330cf8e3216ecbd5b47c72c037e3e58">00141</a>    <a class="code" href="astobj_8h.html#a23d93bf0a462be576f3b8d175b26625d" title="Add ASTOBJ components to a struct (with locking support).">ASTOBJ_COMPONENTS</a>(<span class="keyword">struct</span> <a class="code" href="structaji__client.html">aji_client</a>);
<a name="l00142"></a>00142    <span class="keywordtype">char</span> password[160];
<a name="l00143"></a><a class="code" href="structaji__client.html#a7932bef941e6643d2487880116d9990f">00143</a>    <span class="keywordtype">char</span> <a class="code" href="structuser.html" title="structure to hold users read from users.conf">user</a>[<a class="code" href="jabber_8h.html#aff8969a8d91846c9e669eb4f0ec5208a">AJI_MAX_JIDLEN</a>];
<a name="l00144"></a><a class="code" href="structaji__client.html#ae6f9b37fdd3bec79fe5bb6f71242f9f5">00144</a>    <span class="keywordtype">char</span> serverhost[<a class="code" href="jabber_8h.html#a9d77c90c86960648940da39aa2d25e47">AJI_MAX_RESJIDLEN</a>];
<a name="l00145"></a><a class="code" href="structaji__client.html#a1332700b9473d83673c6f305e5d64358">00145</a>    <span class="keywordtype">char</span> statusmessage[256];
<a name="l00146"></a><a class="code" href="structaji__client.html#af15d57ddbee9fc1081f785f111f52b46">00146</a>    <span class="keywordtype">char</span> name_space[256];
<a name="l00147"></a><a class="code" href="structaji__client.html#af71e991f05ff84edc5175f5140bf2695">00147</a>    <span class="keywordtype">char</span> sid[10]; <span class="comment">/* Session ID */</span>
<a name="l00148"></a><a class="code" href="structaji__client.html#abee5661fa88af477fe47bbbd21136301">00148</a>    <span class="keywordtype">char</span> mid[6]; <span class="comment">/* Message ID */</span>
<a name="l00149"></a><a class="code" href="structaji__client.html#af738439b96e613a471505eb1222ac406">00149</a>    iksid *jid;
<a name="l00150"></a><a class="code" href="structaji__client.html#a04186cc042ab3ec9a3ad454891f7ea72">00150</a>    iksparser *p;
<a name="l00151"></a><a class="code" href="structaji__client.html#afc6fdfd9b3ea85d062020bb1aea416b3">00151</a>    iksfilter *<a class="code" href="format__g726_8c.html#a6add0b75a88c25db4ccbf690acda6d7f">f</a>;
<a name="l00152"></a><a class="code" href="structaji__client.html#ae0c738f7612f5fd8ef0f227f8033324f">00152</a>    ikstack *stack;
<a name="l00153"></a>00153 <span class="preprocessor">#ifdef HAVE_OPENSSL</span>
<a name="l00154"></a><a class="code" href="structaji__client.html#a8c5d83fcb87f22326009954a4652d92e">00154</a> <span class="preprocessor"></span>   SSL_CTX *ssl_context;
<a name="l00155"></a><a class="code" href="structaji__client.html#a28e9fca20ae2d65b0b00c4c4b16ee59b">00155</a>    SSL *ssl_session;
<a name="l00156"></a><a class="code" href="structaji__client.html#ae7d8930ee375c24f1dc8769888441e55">00156</a>    SSL_METHOD *ssl_method;
<a name="l00157"></a><a class="code" href="structaji__client.html#aa663ff5d560561c647a50b58adce4e7a">00157</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> stream_flags;
<a name="l00158"></a>00158 <span class="preprocessor">#endif </span><span class="comment">/* HAVE_OPENSSL */</span>
<a name="l00159"></a><a class="code" href="structaji__client.html#ab27a750579a23ed7fd9b24c1bf49bf12">00159</a>    <span class="keyword">enum</span> <a class="code" href="jabber_8h.html#a75f56fc355bdf37aa9ed1ee97b5986b0">aji_state</a> <a class="code" href="structstate.html">state</a>;
<a name="l00160"></a><a class="code" href="structaji__client.html#a63c89c04d1feae07ca35558055155ffb">00160</a>    <span class="keywordtype">int</span> port;
<a name="l00161"></a><a class="code" href="structaji__client.html#ac3e1795766a80ec63b157951b4b9a7d4">00161</a>    <span class="keywordtype">int</span> <a class="code" href="app__rpt_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>;
<a name="l00162"></a><a class="code" href="structaji__client.html#a411370ea698a05d61798dffbc10eba17">00162</a>    <span class="keywordtype">int</span> usetls;
<a name="l00163"></a><a class="code" href="structaji__client.html#aed71bc56a369c9f2e0faae6a0c713e20">00163</a>    <span class="keywordtype">int</span> forcessl;
<a name="l00164"></a><a class="code" href="structaji__client.html#af88c655607efe917c3030f7ea0c00397">00164</a>    <span class="keywordtype">int</span> usesasl;
<a name="l00165"></a><a class="code" href="structaji__client.html#ae314c4b48027be9feab52906b6313b73">00165</a>    <span class="keywordtype">int</span> keepalive;
<a name="l00166"></a><a class="code" href="structaji__client.html#aba1ad8c6c1c296a19e3a11c50ed7c8d5">00166</a>    <span class="keywordtype">int</span> allowguest;
<a name="l00167"></a><a class="code" href="structaji__client.html#a493b57f443cc38b3d3df9c1e584d9d82">00167</a>    <span class="keywordtype">int</span> timeout;
<a name="l00168"></a><a class="code" href="structaji__client.html#afcb76ae4daf94120b9c6e8e3a8926e36">00168</a>    <span class="keywordtype">int</span> message_timeout;
<a name="l00169"></a><a class="code" href="structaji__client.html#af8817598c239b6e65a000760866a5cde">00169</a>    <span class="keywordtype">int</span> authorized;
<a name="l00170"></a><a class="code" href="structaji__client.html#aec78000b2897c094f68ed72559e18acd">00170</a>    <span class="keyword">struct </span><a class="code" href="structast__flags.html" title="Structure used to handle boolean flags.">ast_flags</a> <a class="code" href="structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">flags</a>;
<a name="l00171"></a><a class="code" href="structaji__client.html#a3c56304946202b57877d2c12f3ad491a">00171</a>    <span class="keywordtype">int</span> component; <span class="comment">/* 0 client,  1 component */</span>
<a name="l00172"></a><a class="code" href="structaji__client.html#acb477f162f95d7daa23c110e9ce62b60">00172</a>    <span class="keyword">struct </span><a class="code" href="structaji__buddy__container.html">aji_buddy_container</a> buddies;
<a name="l00173"></a>00173    <a class="code" href="linkedlists_8h.html#acdb4f56da6b3071d02dcce20072852b0" title="Defines a structure to be used to hold a list of specified type.">AST_LIST_HEAD</a>(messages,<a class="code" href="structaji__message.html">aji_message</a>) messages;
<a name="l00174"></a><a class="code" href="structaji__client.html#ab404721ca77f99083b1bbe180693bf2e">00174</a>    <span class="keywordtype">void</span> *<a class="code" href="structjingle.html">jingle</a>;
<a name="l00175"></a><a class="code" href="structaji__client.html#a01f75a9ad916f63a94e06a27635ba278">00175</a>    pthread_t <a class="code" href="app__meetme_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a>;
<a name="l00176"></a><a class="code" href="structaji__client.html#acec9ce2df15222151ad66fcb1d74eb9f">00176</a>    <span class="keywordtype">int</span> priority;
<a name="l00177"></a><a class="code" href="structaji__client.html#a522b409a211fd313b8a02f071aea6751">00177</a>    enum ikshowtype <a class="code" href="app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>;
<a name="l00178"></a>00178 };
<a name="l00179"></a>00179 
<a name="l00180"></a><a class="code" href="structaji__client__container.html">00180</a> struct <a class="code" href="structaji__client__container.html">aji_client_container</a>{
<a name="l00181"></a>00181    <a class="code" href="astobj_8h.html#a632bdb71578342a84ac7a23dc795823a" title="Create a container for ASTOBJs (with locking support).">ASTOBJ_CONTAINER_COMPONENTS</a>(<span class="keyword">struct</span> <a class="code" href="structaji__client.html">aji_client</a>);
<a name="l00182"></a>00182 };
<a name="l00183"></a>00183 
<a name="l00184"></a>00184 <span class="comment">/* !Send XML stanza over the established XMPP connection */</span>
<a name="l00185"></a>00185 <span class="keywordtype">int</span> <a class="code" href="jabber_8h.html#a3c77ceecc909619207e971421fc3e9ef" title="Wraps raw sending.">ast_aji_send</a>(<span class="keyword">struct</span> <a class="code" href="structaji__client.html">aji_client</a> *client, iks *x);<span class="comment"></span>
<a name="l00186"></a>00186 <span class="comment">/*! Send jabber chat message from connected client to jabber URI */</span>
<a name="l00187"></a>00187 <span class="keywordtype">int</span> <a class="code" href="jabber_8h.html#af2b674ed94b89a5798fe22714a44f046" title="sends messages.">ast_aji_send_chat</a>(<span class="keyword">struct</span> <a class="code" href="structaji__client.html">aji_client</a> *client, <span class="keyword">const</span> <span class="keywordtype">char</span> *address, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structmessage.html">message</a>);<span class="comment"></span>
<a name="l00188"></a>00188 <span class="comment">/*! Disconnect jabber client */</span>
<a name="l00189"></a>00189 <span class="keywordtype">int</span> <a class="code" href="jabber_8h.html#a06f01ad5dc78d9300fed1415b54be04a" title="disconnect from jabber server.">ast_aji_disconnect</a>(<span class="keyword">struct</span> <a class="code" href="structaji__client.html">aji_client</a> *client);
<a name="l00190"></a>00190 <span class="keywordtype">int</span> <a class="code" href="jabber_8h.html#a5db76dcd239674bf97b84ae06e45e60f">ast_aji_check_roster</a>(<span class="keywordtype">void</span>);
<a name="l00191"></a>00191 <span class="keywordtype">void</span> <a class="code" href="jabber_8h.html#a6e4ae95e74b73933aa6e6d6817df9023" title="increments the mid field for messages and other events.">ast_aji_increment_mid</a>(<span class="keywordtype">char</span> *mid);<span class="comment"></span>
<a name="l00192"></a>00192 <span class="comment">/*! Open Chat session */</span>
<a name="l00193"></a>00193 <span class="keywordtype">int</span> <a class="code" href="jabber_8h.html#a8ce87df2b2878a7384640e3720ba1c2c" title="create a chatroom.">ast_aji_create_chat</a>(<span class="keyword">struct</span> <a class="code" href="structaji__client.html">aji_client</a> *client,<span class="keywordtype">char</span> *room, <span class="keywordtype">char</span> *server, <span class="keywordtype">char</span> *topic);<span class="comment"></span>
<a name="l00194"></a>00194 <span class="comment">/*! Invite to opened Chat session */</span>
<a name="l00195"></a>00195 <span class="keywordtype">int</span> <a class="code" href="jabber_8h.html#a0fe274254c01bee899843b9057929abe" title="invite to a chatroom.">ast_aji_invite_chat</a>(<span class="keyword">struct</span> <a class="code" href="structaji__client.html">aji_client</a> *client, <span class="keywordtype">char</span> *<a class="code" href="structuser.html" title="structure to hold users read from users.conf">user</a>, <span class="keywordtype">char</span> *room, <span class="keywordtype">char</span> *<a class="code" href="structmessage.html">message</a>);<span class="comment"></span>
<a name="l00196"></a>00196 <span class="comment">/*! Join existing Chat session */</span>
<a name="l00197"></a>00197 <span class="keywordtype">int</span> <a class="code" href="jabber_8h.html#aad4fd8a9604fb1d017882c76511c36f7" title="join a chatroom.">ast_aji_join_chat</a>(<span class="keyword">struct</span> <a class="code" href="structaji__client.html">aji_client</a> *client,<span class="keywordtype">char</span> *room);
<a name="l00198"></a>00198 <span class="keyword">struct </span><a class="code" href="structaji__client.html">aji_client</a> *<a class="code" href="jabber_8h.html#a6689c8e948c8d55e092f30277336fde7" title="grab a aji_client structure by label name or JID (without the resource string)">ast_aji_get_client</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cdr__adaptive__odbc_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>);
<a name="l00199"></a>00199 <span class="keyword">struct </span><a class="code" href="structaji__client__container.html">aji_client_container</a> *<a class="code" href="jabber_8h.html#a740bf5f4ba6bf40ff9273ca8f7a89710">ast_aji_get_clients</a>(<span class="keywordtype">void</span>);
<a name="l00200"></a>00200 
<a name="l00201"></a>00201 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed May 5 15:18:42 2010 for Asterisk - the Open Source PBX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
