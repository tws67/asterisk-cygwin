<HTML>
    <HEAD>
      <TITLE>Asterisk.org: Developer Documentation (5 May 2010)</TITLE>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<div><font size="2" align="right">Wed May 5 15:23:32 2010</font></div>

<h2>Asterisk developer's documentation</h2>
<hr/>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_1ab815038f534adda65c8b4ae4993449.html">include</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_16d825f1fa9ecca2e70b1a8d9256d0e6.html">asterisk</a>
  </div>
</div>
<div class="contents">
<h1>time.h File Reference</h1>
<p>Time-related functions and macros.  
<a href="#_details">More...</a></p>
<code>#include &lt;sys/time.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="inline__api_8h_source.html">asterisk/inline_api.h</a>&quot;</code><br/>

<p><a href="time_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct timeval&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#a147d132412d7188c1dcebf25b8d31c0c">ast_samp2tv</a> (unsigned int _nsamp, unsigned int _rate)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a timeval corresponding to the duration of n samples at rate r. Useful to convert samples to timevals, or even milliseconds to timevals in the form ast_samp2tv(milliseconds, 1000).  <a href="#a147d132412d7188c1dcebf25b8d31c0c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct timeval&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#af46dec59fc43982d018a757f7b499669">ast_tv</a> (ast_time_t <a class="el" href="adsistub_8c.html#a4ea74e506098ab381b9efa0200b1e1a4">sec</a>, ast_suseconds_t usec)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a timeval from sec, usec.  <a href="#af46dec59fc43982d018a757f7b499669"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct timeval&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#a97e1bb8fbd7a103212789e87e7ed6073">ast_tvadd</a> (struct timeval a, struct timeval b)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the sum of two timevals a + b.  <a href="#a97e1bb8fbd7a103212789e87e7ed6073"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#acc9e13e54ed18f92956c748a38f82430">ast_tvcmp</a> (struct timeval _a, struct timeval _b)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compres two <code>struct</code> <code>timeval</code> instances returning -1, 0, 1 if the first arg is smaller, equal or greater to the second.  <a href="#acc9e13e54ed18f92956c748a38f82430"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#a74e35cffcd45ad6cd7c8587921e8a4c2">ast_tvdiff_ms</a> (struct timeval end, struct timeval start)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Computes the difference (in milliseconds) between two <code>struct</code> <code>timeval</code> instances.  <a href="#a74e35cffcd45ad6cd7c8587921e8a4c2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#a3f55930df743fa0d76c353f2643e148b">ast_tvdiff_sec</a> (struct timeval end, struct timeval start)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Computes the difference (in seconds) between two <code>struct</code> <code>timeval</code> instances.  <a href="#a3f55930df743fa0d76c353f2643e148b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#a140711bcdd1612c6baafc3e92c54caa1">ast_tvdiff_us</a> (struct timeval end, struct timeval start)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Computes the difference (in microseconds) between two <code>struct</code> <code>timeval</code> instances.  <a href="#a140711bcdd1612c6baafc3e92c54caa1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#a183186e72b0a2b1325cabba1ff806257">ast_tveq</a> (struct timeval _a, struct timeval _b)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if the two <code>struct</code> <code>timeval</code> arguments are equal.  <a href="#a183186e72b0a2b1325cabba1ff806257"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct timeval&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#abd5ba75c20787bcc479809c53b58406e">ast_tvnow</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns current timeval. Meant to replace calls to gettimeofday().  <a href="#abd5ba75c20787bcc479809c53b58406e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct timeval&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#aa13b651c18bc6004cab21ac041d44dd8">ast_tvsub</a> (struct timeval a, struct timeval b)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the difference of two timevals a - b.  <a href="#aa13b651c18bc6004cab21ac041d44dd8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#a1b7c6177ea781fc11512de25805fc144">ast_tvzero</a> (const struct timeval t)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if the argument is 0,0.  <a href="#a1b7c6177ea781fc11512de25805fc144"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#afb814706a7dbee140514c93c4022b5f7">typeof</a> (tv.tv_sec) ast_time_t</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct timeval&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#a9cf96982557d56650f0f4cd3762f05a0">tv</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Time-related functions and macros. </p>

<p>Definition in file <a class="el" href="time_8h_source.html">time.h</a>.</p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a147d132412d7188c1dcebf25b8d31c0c"></a><!-- doxytag: member="time.h::ast_samp2tv" ref="a147d132412d7188c1dcebf25b8d31c0c" args="(unsigned int _nsamp, unsigned int _rate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__inline__ struct timeval ast_samp2tv </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>_nsamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>_rate</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns a timeval corresponding to the duration of n samples at rate r. Useful to convert samples to timevals, or even milliseconds to timevals in the form ast_samp2tv(milliseconds, 1000). </p>

<p>Definition at line <a class="el" href="time_8h_source.html#l00176">176</a> of file <a class="el" href="time_8h_source.html">time.h</a>.</p>

<p>Referenced by <a class="el" href="chan__iax2_8c_source.html#l03879">__get_from_jb()</a>, <a class="el" href="chan__agent_8c_source.html#l00893">agent_hangup()</a>, <a class="el" href="chan__agent_8c_source.html#l00519">agent_read()</a>, <a class="el" href="audiohook_8c_source.html#l00725">ast_audiohook_trigger_wait()</a>, <a class="el" href="channel_8c_source.html#l05055">ast_channel_bridge()</a>, <a class="el" href="channel_8c_source.html#l04776">ast_generic_bridge()</a>, <a class="el" href="rtp_8c_source.html#l01562">ast_rtp_read()</a>, <a class="el" href="frame_8c_source.html#l00236">ast_smoother_read()</a>, <a class="el" href="translate_8c_source.html#l00308">ast_translate()</a>, <a class="el" href="chan__iax2_8c_source.html#l05709">calc_rxstamp()</a>, <a class="el" href="chan__iax2_8c_source.html#l05576">calc_timestamp()</a>, <a class="el" href="taskprocessor_8c_source.html#l00189">cli_tps_ping()</a>, <a class="el" href="app__meetme_8c_source.html#l01998">conf_run()</a>, <a class="el" href="cdr_8c_source.html#l01288">do_cdr()</a>, <a class="el" href="features_8c_source.html#l03189">do_parking_thread()</a>, <a class="el" href="chan__iax2_8c_source.html#l11136">iax2_process_thread()</a>, <a class="el" href="abstract__jb_8c_source.html#l00385">jb_get_and_deliver()</a>, <a class="el" href="app__voicemail_8c_source.html#l10271">mb_poll_thread()</a>, <a class="el" href="res__musiconhold_8c_source.html#l00563">monmp3thread()</a>, <a class="el" href="app__mp3_8c_source.html#l00120">mp3_exec()</a>, <a class="el" href="app__nbscat_8c_source.html#l00108">NBScat_exec()</a>, <a class="el" href="rtp_8c_source.html#l01013">process_rfc2833()</a>, <a class="el" href="sched_8c_source.html#l00083">sched_run()</a>, <a class="el" href="sched_8c_source.html#l00373">sched_settime()</a>, <a class="el" href="chan__iax2_8c_source.html#l03970">schedule_delivery()</a>, and <a class="el" href="app__meetme_8c_source.html#l05327">sla_process_timers()</a>.</p>

</div>
</div>
<a class="anchor" id="af46dec59fc43982d018a757f7b499669"></a><!-- doxytag: member="time.h::ast_tv" ref="af46dec59fc43982d018a757f7b499669" args="(ast_time_t sec, ast_suseconds_t usec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__inline__ struct timeval ast_tv </td>
          <td>(</td>
          <td class="paramtype">ast_time_t&nbsp;</td>
          <td class="paramname"> <em>sec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ast_suseconds_t&nbsp;</td>
          <td class="paramname"> <em>usec</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns a timeval from sec, usec. </p>

<p>Definition at line <a class="el" href="time_8h_source.html#l00164">164</a> of file <a class="el" href="time_8h_source.html">time.h</a>.</p>

<p>Referenced by <a class="el" href="chan__dahdi_8c_source.html#l06601">__dahdi_exception()</a>, <a class="el" href="chan__agent_8c_source.html#l00893">agent_hangup()</a>, <a class="el" href="chan__agent_8c_source.html#l01452">agent_request()</a>, <a class="el" href="cdr_8c_source.html#l00496">ast_cdr_merge()</a>, <a class="el" href="rtp_8c_source.html#l01562">ast_rtp_read()</a>, <a class="el" href="rtp_8c_source.html#l03574">ast_rtp_sendcng()</a>, <a class="el" href="rtp_8c_source.html#l03141">ast_rtp_senddigit_begin()</a>, <a class="el" href="rtp_8c_source.html#l03243">ast_rtp_senddigit_end()</a>, <a class="el" href="sched_8c_source.html#l00399">ast_sched_add_variable()</a>, <a class="el" href="sched_8c_source.html#l00581">ast_sched_runq()</a>, <a class="el" href="translate_8c_source.html#l00308">ast_translate()</a>, <a class="el" href="translate_8c_source.html#l00263">ast_translator_build_path()</a>, <a class="el" href="chan__misdn_8c_source.html#l04379">cb_events()</a>, <a class="el" href="chan__dahdi_8c_source.html#l06717">dahdi_read()</a>, <a class="el" href="chan__misdn_8c_source.html#l04143">do_immediate_setup()</a>, <a class="el" href="chan__phone_8c_source.html#l01012">do_monitor()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00449">do_timing()</a>, <a class="el" href="app__ices_8c_source.html#l00107">ices_exec()</a>, <a class="el" href="chan__agent_8c_source.html#l01981">login_exec()</a>, <a class="el" href="chan__misdn_8c_source.html#l03033">misdn_read()</a>, <a class="el" href="res__smdi_8c_source.html#l00286">msg_timestamp()</a>, <a class="el" href="res__smdi_8c_source.html#l00804">mwi_monitor_handler()</a>, <a class="el" href="chan__phone_8c_source.html#l00487">phone_exception()</a>, <a class="el" href="chan__phone_8c_source.html#l00547">phone_read()</a>, <a class="el" href="rtp_8c_source.html#l01013">process_rfc2833()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00152">pthread_timer_set_rate()</a>, <a class="el" href="chan__iax2_8c_source.html#l03970">schedule_delivery()</a>, and <a class="el" href="res__smdi_8c_source.html#l00443">smdi_message_wait()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00173"></a>00173 {
</pre></div></p>

</div>
</div>
<a class="anchor" id="a97e1bb8fbd7a103212789e87e7ed6073"></a><!-- doxytag: member="time.h::ast_tvadd" ref="a97e1bb8fbd7a103212789e87e7ed6073" args="(struct timeval a, struct timeval b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct timeval ast_tvadd </td>
          <td>(</td>
          <td class="paramtype">struct timeval&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval&nbsp;</td>
          <td class="paramname"> <em>b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the sum of two timevals a + b. </p>

<p>Definition at line <a class="el" href="utils_8c_source.html#l01365">1365</a> of file <a class="el" href="utils_8c_source.html">utils.c</a>.</p>

<p>References <a class="el" href="utils_8c_source.html#l01345">ONE_MILLION</a>, and <a class="el" href="utils_8c_source.html#l01350">tvfix()</a>.</p>

<p>Referenced by <a class="el" href="chan__iax2_8c_source.html#l03879">__get_from_jb()</a>, <a class="el" href="chan__agent_8c_source.html#l00893">agent_hangup()</a>, <a class="el" href="chan__agent_8c_source.html#l00519">agent_read()</a>, <a class="el" href="audiohook_8c_source.html#l00725">ast_audiohook_trigger_wait()</a>, <a class="el" href="channel_8c_source.html#l05055">ast_channel_bridge()</a>, <a class="el" href="channel_8c_source.html#l00535">ast_channel_cmpwhentohangup_tv()</a>, <a class="el" href="channel_8c_source.html#l00521">ast_channel_setwhentohangup_tv()</a>, <a class="el" href="channel_8c_source.html#l04776">ast_generic_bridge()</a>, <a class="el" href="rtp_8c_source.html#l03574">ast_rtp_sendcng()</a>, <a class="el" href="rtp_8c_source.html#l03141">ast_rtp_senddigit_begin()</a>, <a class="el" href="rtp_8c_source.html#l03243">ast_rtp_senddigit_end()</a>, <a class="el" href="sched_8c_source.html#l00581">ast_sched_runq()</a>, <a class="el" href="frame_8c_source.html#l00236">ast_smoother_read()</a>, <a class="el" href="translate_8c_source.html#l00308">ast_translate()</a>, <a class="el" href="rtp_8c_source.html#l01453">calc_rxstamp()</a>, <a class="el" href="chan__iax2_8c_source.html#l05576">calc_timestamp()</a>, <a class="el" href="taskprocessor_8c_source.html#l00189">cli_tps_ping()</a>, <a class="el" href="app__meetme_8c_source.html#l01998">conf_run()</a>, <a class="el" href="app__dial_8c_source.html#l01515">dial_exec_full()</a>, <a class="el" href="cdr_8c_source.html#l01288">do_cdr()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00449">do_timing()</a>, <a class="el" href="chan__iax2_8c_source.html#l11136">iax2_process_thread()</a>, <a class="el" href="abstract__jb_8c_source.html#l00385">jb_get_and_deliver()</a>, <a class="el" href="app__voicemail_8c_source.html#l10271">mb_poll_thread()</a>, <a class="el" href="res__musiconhold_8c_source.html#l00563">monmp3thread()</a>, <a class="el" href="app__mp3_8c_source.html#l00120">mp3_exec()</a>, <a class="el" href="res__smdi_8c_source.html#l00804">mwi_monitor_handler()</a>, <a class="el" href="app__nbscat_8c_source.html#l00108">NBScat_exec()</a>, <a class="el" href="sched_8c_source.html#l00083">sched_run()</a>, <a class="el" href="sched_8c_source.html#l00373">sched_settime()</a>, <a class="el" href="chan__iax2_8c_source.html#l03970">schedule_delivery()</a>, <a class="el" href="app__meetme_8c_source.html#l05327">sla_process_timers()</a>, <a class="el" href="res__smdi_8c_source.html#l00443">smdi_message_wait()</a>, and <a class="el" href="func__timeout_8c_source.html#l00119">timeout_write()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01366"></a>01366 {
<a name="l01367"></a>01367    <span class="comment">/* consistency checks to guarantee usec in 0..999999 */</span>
<a name="l01368"></a>01368    a = <a class="code" href="utils_8c.html#ae011d19bb4f1d706eecb7e2b0c7ad581">tvfix</a>(a);
<a name="l01369"></a>01369    b = <a class="code" href="utils_8c.html#ae011d19bb4f1d706eecb7e2b0c7ad581">tvfix</a>(b);
<a name="l01370"></a>01370    a.tv_sec += b.tv_sec;
<a name="l01371"></a>01371    a.tv_usec += b.tv_usec;
<a name="l01372"></a>01372    <span class="keywordflow">if</span> (a.tv_usec &gt;= <a class="code" href="utils_8c.html#a6a146c1b2155b03eb2ffa3f4ba755034">ONE_MILLION</a>) {
<a name="l01373"></a>01373       a.tv_sec++;
<a name="l01374"></a>01374       a.tv_usec -= <a class="code" href="utils_8c.html#a6a146c1b2155b03eb2ffa3f4ba755034">ONE_MILLION</a>;
<a name="l01375"></a>01375    }
<a name="l01376"></a>01376    <span class="keywordflow">return</span> a;
<a name="l01377"></a>01377 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acc9e13e54ed18f92956c748a38f82430"></a><!-- doxytag: member="time.h::ast_tvcmp" ref="acc9e13e54ed18f92956c748a38f82430" args="(struct timeval _a, struct timeval _b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__inline__ int ast_tvcmp </td>
          <td>(</td>
          <td class="paramtype">struct timeval&nbsp;</td>
          <td class="paramname"> <em>_a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval&nbsp;</td>
          <td class="paramname"> <em>_b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compres two <code>struct</code> <code>timeval</code> instances returning -1, 0, 1 if the first arg is smaller, equal or greater to the second. </p>

<p>Definition at line <a class="el" href="time_8h_source.html#l00119">119</a> of file <a class="el" href="time_8h_source.html">time.h</a>.</p>

<p>Referenced by <a class="el" href="features_8c_source.html#l02441">ast_bridge_call()</a>, <a class="el" href="cdr_8c_source.html#l00496">ast_cdr_merge()</a>, <a class="el" href="sched_8c_source.html#l00581">ast_sched_runq()</a>, <a class="el" href="channel_8c_source.html#l02041">ast_waitfor_nandfds()</a>, <a class="el" href="chan__iax2_8c_source.html#l13074">find_cache()</a>, <a class="el" href="sched_8c_source.html#l00373">sched_settime()</a>, <a class="el" href="sched_8c_source.html#l00234">sched_time_cmp()</a>, and <a class="el" href="rtp_8c_source.html#l00871">send_dtmf()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00126"></a>00126 {
</pre></div></p>

</div>
</div>
<a class="anchor" id="a74e35cffcd45ad6cd7c8587921e8a4c2"></a><!-- doxytag: member="time.h::ast_tvdiff_ms" ref="a74e35cffcd45ad6cd7c8587921e8a4c2" args="(struct timeval end, struct timeval start)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__inline__ int ast_tvdiff_ms </td>
          <td>(</td>
          <td class="paramtype">struct timeval&nbsp;</td>
          <td class="paramname"> <em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval&nbsp;</td>
          <td class="paramname"> <em>start</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Computes the difference (in milliseconds) between two <code>struct</code> <code>timeval</code> instances. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>end</em>&nbsp;</td><td>end of the time period </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>start</em>&nbsp;</td><td>beginning of the time period </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the difference in milliseconds </dd></dl>

<p>Definition at line <a class="el" href="time_8h_source.html#l00089">89</a> of file <a class="el" href="time_8h_source.html">time.h</a>.</p>

<p>Referenced by <a class="el" href="channel_8c_source.html#l02636">__ast_read()</a>, <a class="el" href="chan__iax2_8c_source.html#l03879">__get_from_jb()</a>, <a class="el" href="pbx__gtkconsole_8c_source.html#l00100">__verboser()</a>, <a class="el" href="manager_8c_source.html#l02814">action_coreshowchannels()</a>, <a class="el" href="chan__agent_8c_source.html#l01007">agent_cont_sleep()</a>, <a class="el" href="chan__agent_8c_source.html#l01817">agents_show()</a>, <a class="el" href="audiohook_8c_source.html#l00121">ast_audiohook_write_frame()</a>, <a class="el" href="features_8c_source.html#l02441">ast_bridge_call()</a>, <a class="el" href="utils_8c_source.html#l01154">ast_careful_fwrite()</a>, <a class="el" href="utils_8c_source.html#l01113">ast_carefulwrite()</a>, <a class="el" href="cdr_8c_source.html#l00219">ast_cdr_getvar()</a>, <a class="el" href="channel_8c_source.html#l05055">ast_channel_bridge()</a>, <a class="el" href="channel_8c_source.html#l00535">ast_channel_cmpwhentohangup_tv()</a>, <a class="el" href="channel_8c_source.html#l00461">ast_check_hangup()</a>, <a class="el" href="channel_8c_source.html#l04776">ast_generic_bridge()</a>, <a class="el" href="enum_8c_source.html#l00628">ast_get_enum()</a>, <a class="el" href="rtp_8c_source.html#l01562">ast_rtp_read()</a>, <a class="el" href="sched_8c_source.html#l00327">ast_sched_wait()</a>, <a class="el" href="utils_8c_source.html#l01060">ast_wait_for_output()</a>, <a class="el" href="channel_8c_source.html#l02041">ast_waitfor_nandfds()</a>, <a class="el" href="audiohook_8c_source.html#l00197">audiohook_read_frame_both()</a>, <a class="el" href="app__talkdetect_8c_source.html#l00076">background_detect_exec()</a>, <a class="el" href="chan__iax2_8c_source.html#l05709">calc_rxstamp()</a>, <a class="el" href="chan__iax2_8c_source.html#l05576">calc_timestamp()</a>, <a class="el" href="chan__iax2_8c_source.html#l05532">calc_txpeerstamp()</a>, <a class="el" href="rtp_8c_source.html#l03121">calc_txstamp()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00331">check_timer()</a>, <a class="el" href="app__meetme_8c_source.html#l01998">conf_run()</a>, <a class="el" href="chan__dahdi_8c_source.html#l05699">dahdi_handle_event()</a>, <a class="el" href="chan__dahdi_8c_source.html#l06717">dahdi_read()</a>, <a class="el" href="pbx__dundi_8c_source.html#l02956">destroy_trans()</a>, <a class="el" href="app__disa_8c_source.html#l00143">disa_exec()</a>, <a class="el" href="pbx__dundi_8c_source.html#l02422">dundi_do_lookup()</a>, <a class="el" href="pbx__dundi_8c_source.html#l02476">dundi_do_precache()</a>, <a class="el" href="pbx__dundi_8c_source.html#l03574">dundi_lookup_internal()</a>, <a class="el" href="pbx__dundi_8c_source.html#l03747">dundi_precache_internal()</a>, <a class="el" href="pbx__dundi_8c_source.html#l03826">dundi_query_eid_internal()</a>, <a class="el" href="features_8c_source.html#l02152">feature_request_and_dial()</a>, <a class="el" href="chan__iax2_8c_source.html#l05561">fix_peerts()</a>, <a class="el" href="abstract__jb_8c_source.html#l00558">get_now()</a>, <a class="el" href="cli_8c_source.html#l00790">handle_chanlist()</a>, <a class="el" href="res__convert_8c_source.html#l00062">handle_cli_file_convert()</a>, <a class="el" href="res__agi_8c_source.html#l01494">handle_recordfile()</a>, <a class="el" href="chan__sip_8c_source.html#l18198">handle_response_peerpoke()</a>, <a class="el" href="dial_8c_source.html#l00506">handle_timeout_trip()</a>, <a class="el" href="chan__agent_8c_source.html#l01981">login_exec()</a>, <a class="el" href="features_8c_source.html#l03009">manage_parkinglot()</a>, <a class="el" href="app__test_8c_source.html#l00080">measurenoise()</a>, <a class="el" href="chan__misdn_8c_source.html#l00846">misdn_overlap_dial_task()</a>, <a class="el" href="chan__misdn_8c_source.html#l03033">misdn_read()</a>, <a class="el" href="res__musiconhold_8c_source.html#l00563">monmp3thread()</a>, <a class="el" href="app__mp3_8c_source.html#l00120">mp3_exec()</a>, <a class="el" href="app__nbscat_8c_source.html#l00108">NBScat_exec()</a>, <a class="el" href="rtp_8c_source.html#l01013">process_rfc2833()</a>, <a class="el" href="res__smdi_8c_source.html#l00316">purge_old_messages()</a>, <a class="el" href="app__alarmreceiver_8c_source.html#l00232">receive_dtmf_digits()</a>, <a class="el" href="app__rpt_8c_source.html#l10730">rpt()</a>, <a class="el" href="chan__oss_8c_source.html#l00469">setformat()</a>, <a class="el" href="channel_8c_source.html#l02596">should_skip_dtmf()</a>, <a class="el" href="chan__sip_8c_source.html#l15831">show_chanstats_cb()</a>, <a class="el" href="app__meetme_8c_source.html#l05203">sla_calc_station_timeouts()</a>, <a class="el" href="app__meetme_8c_source.html#l05173">sla_calc_trunk_timeouts()</a>, <a class="el" href="app__meetme_8c_source.html#l04921">sla_check_failed_station()</a>, <a class="el" href="app__meetme_8c_source.html#l05037">sla_check_station_delay()</a>, <a class="el" href="res__smdi_8c_source.html#l00443">smdi_message_wait()</a>, <a class="el" href="app__speech__utils_8c_source.html#l00639">speech_background()</a>, <a class="el" href="func__timeout_8c_source.html#l00073">timeout_read()</a>, <a class="el" href="timing_8c_source.html#l00208">timing_test()</a>, <a class="el" href="chan__iax2_8c_source.html#l03862">update_jbsched()</a>, and <a class="el" href="app__waituntil_8c_source.html#l00070">waituntil_exec()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00096"></a>00096 {
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3f55930df743fa0d76c353f2643e148b"></a><!-- doxytag: member="time.h::ast_tvdiff_sec" ref="a3f55930df743fa0d76c353f2643e148b" args="(struct timeval end, struct timeval start)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__inline__ int ast_tvdiff_sec </td>
          <td>(</td>
          <td class="paramtype">struct timeval&nbsp;</td>
          <td class="paramname"> <em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval&nbsp;</td>
          <td class="paramname"> <em>start</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Computes the difference (in seconds) between two <code>struct</code> <code>timeval</code> instances. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>end</em>&nbsp;</td><td>the end of the time period </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>start</em>&nbsp;</td><td>the beginning of the time period </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the difference in seconds </dd></dl>

<p>Definition at line <a class="el" href="time_8h_source.html#l00056">56</a> of file <a class="el" href="time_8h_source.html">time.h</a>.</p>

<p>Referenced by <a class="el" href="res__odbc_8c_source.html#l01156">ast_odbc_request_obj2()</a>, <a class="el" href="app__fax_8c_source.html#l00362">transmit_audio()</a>, and <a class="el" href="app__fax_8c_source.html#l00599">transmit_t38()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00066"></a>00066 {
</pre></div></p>

</div>
</div>
<a class="anchor" id="a140711bcdd1612c6baafc3e92c54caa1"></a><!-- doxytag: member="time.h::ast_tvdiff_us" ref="a140711bcdd1612c6baafc3e92c54caa1" args="(struct timeval end, struct timeval start)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__inline__ int64_t ast_tvdiff_us </td>
          <td>(</td>
          <td class="paramtype">struct timeval&nbsp;</td>
          <td class="paramname"> <em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval&nbsp;</td>
          <td class="paramname"> <em>start</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Computes the difference (in microseconds) between two <code>struct</code> <code>timeval</code> instances. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>end</em>&nbsp;</td><td>the end of the time period </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>start</em>&nbsp;</td><td>the beginning of the time period </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the difference in microseconds </dd></dl>

<p>Definition at line <a class="el" href="time_8h_source.html#l00070">70</a> of file <a class="el" href="time_8h_source.html">time.h</a>.</p>

<p>Referenced by <a class="el" href="pbx_8c_source.html#l06623">ast_merge_contexts_and_delete()</a>, and <a class="el" href="app__fax_8c_source.html#l00599">transmit_t38()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00080"></a>00080 {
</pre></div></p>

</div>
</div>
<a class="anchor" id="a183186e72b0a2b1325cabba1ff806257"></a><!-- doxytag: member="time.h::ast_tveq" ref="a183186e72b0a2b1325cabba1ff806257" args="(struct timeval _a, struct timeval _b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__inline__ int ast_tveq </td>
          <td>(</td>
          <td class="paramtype">struct timeval&nbsp;</td>
          <td class="paramname"> <em>_a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval&nbsp;</td>
          <td class="paramname"> <em>_b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns true if the two <code>struct</code> <code>timeval</code> arguments are equal. </p>

<p>Definition at line <a class="el" href="time_8h_source.html#l00129">129</a> of file <a class="el" href="time_8h_source.html">time.h</a>.</p>

<p>Referenced by <a class="el" href="translate_8c_source.html#l00308">ast_translate()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00136"></a>00136 {
</pre></div></p>

</div>
</div>
<a class="anchor" id="abd5ba75c20787bcc479809c53b58406e"></a><!-- doxytag: member="time.h::ast_tvnow" ref="abd5ba75c20787bcc479809c53b58406e" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__inline__ struct timeval ast_tvnow </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns current timeval. Meant to replace calls to gettimeofday(). </p>

<p>Definition at line <a class="el" href="time_8h_source.html#l00141">141</a> of file <a class="el" href="time_8h_source.html">time.h</a>.</p>

<p>Referenced by <a class="el" href="channel_8c_source.html#l02636">__ast_read()</a>, <a class="el" href="logger_8c_source.html#l01239">__ast_verbose_ap()</a>, <a class="el" href="chan__dahdi_8c_source.html#l06601">__dahdi_exception()</a>, <a class="el" href="chan__iax2_8c_source.html#l03879">__get_from_jb()</a>, <a class="el" href="manager_8c_source.html#l03300">__manager_event()</a>, <a class="el" href="func__strings_8c_source.html#l00838">acf_strftime()</a>, <a class="el" href="manager_8c_source.html#l02814">action_coreshowchannels()</a>, <a class="el" href="manager_8c_source.html#l01904">action_status()</a>, <a class="el" href="chan__agent_8c_source.html#l00357">add_agent()</a>, <a class="el" href="chan__agent_8c_source.html#l01007">agent_cont_sleep()</a>, <a class="el" href="chan__agent_8c_source.html#l00893">agent_hangup()</a>, <a class="el" href="chan__agent_8c_source.html#l00519">agent_read()</a>, <a class="el" href="chan__agent_8c_source.html#l01452">agent_request()</a>, <a class="el" href="chan__agent_8c_source.html#l01817">agents_show()</a>, <a class="el" href="audiohook_8c_source.html#l00725">ast_audiohook_trigger_wait()</a>, <a class="el" href="audiohook_8c_source.html#l00121">ast_audiohook_write_frame()</a>, <a class="el" href="features_8c_source.html#l02441">ast_bridge_call()</a>, <a class="el" href="utils_8c_source.html#l01154">ast_careful_fwrite()</a>, <a class="el" href="utils_8c_source.html#l01113">ast_carefulwrite()</a>, <a class="el" href="cdr_8c_source.html#l00687">ast_cdr_answer()</a>, <a class="el" href="cdr_8c_source.html#l00879">ast_cdr_end()</a>, <a class="el" href="cdr_8c_source.html#l00219">ast_cdr_getvar()</a>, <a class="el" href="cdr_8c_source.html#l00674">ast_cdr_start()</a>, <a class="el" href="channel_8c_source.html#l05055">ast_channel_bridge()</a>, <a class="el" href="channel_8c_source.html#l00535">ast_channel_cmpwhentohangup_tv()</a>, <a class="el" href="channel_8c_source.html#l00521">ast_channel_setwhentohangup_tv()</a>, <a class="el" href="channel_8c_source.html#l00461">ast_check_hangup()</a>, <a class="el" href="pbx_8c_source.html#l06982">ast_check_timing()</a>, <a class="el" href="channel_8c_source.html#l04776">ast_generic_bridge()</a>, <a class="el" href="enum_8c_source.html#l00628">ast_get_enum()</a>, <a class="el" href="logger_8c_source.html#l01090">ast_log()</a>, <a class="el" href="pbx_8c_source.html#l06623">ast_merge_contexts_and_delete()</a>, <a class="el" href="loader_8c_source.html#l00637">ast_module_reload()</a>, <a class="el" href="res__odbc_8c_source.html#l00593">ast_odbc_prepare_and_execute()</a>, <a class="el" href="res__odbc_8c_source.html#l01156">ast_odbc_request_obj2()</a>, <a class="el" href="res__odbc_8c_source.html#l00652">ast_odbc_smart_execute()</a>, <a class="el" href="rtp_8c_source.html#l03574">ast_rtp_sendcng()</a>, <a class="el" href="rtp_8c_source.html#l03141">ast_rtp_senddigit_begin()</a>, <a class="el" href="rtp_8c_source.html#l03243">ast_rtp_senddigit_end()</a>, <a class="el" href="lock_8h_source.html#l01801">ast_rwlock_timedrdlock()</a>, <a class="el" href="lock_8h_source.html#l01832">ast_rwlock_timedwrlock()</a>, <a class="el" href="say_8c_source.html#l03727">ast_say_date_with_format_da()</a>, <a class="el" href="say_8c_source.html#l03929">ast_say_date_with_format_de()</a>, <a class="el" href="say_8c_source.html#l03480">ast_say_date_with_format_en()</a>, <a class="el" href="say_8c_source.html#l04466">ast_say_date_with_format_es()</a>, <a class="el" href="say_8c_source.html#l04655">ast_say_date_with_format_fr()</a>, <a class="el" href="say_8c_source.html#l07283">ast_say_date_with_format_gr()</a>, <a class="el" href="say_8c_source.html#l04322">ast_say_date_with_format_he()</a>, <a class="el" href="say_8c_source.html#l04850">ast_say_date_with_format_it()</a>, <a class="el" href="say_8c_source.html#l05080">ast_say_date_with_format_nl()</a>, <a class="el" href="say_8c_source.html#l05285">ast_say_date_with_format_pl()</a>, <a class="el" href="say_8c_source.html#l05502">ast_say_date_with_format_pt()</a>, <a class="el" href="say_8c_source.html#l04132">ast_say_date_with_format_th()</a>, <a class="el" href="say_8c_source.html#l05794">ast_say_date_with_format_zh()</a>, <a class="el" href="say_8c_source.html#l06862">ast_say_datetime_from_now_en()</a>, <a class="el" href="say_8c_source.html#l06900">ast_say_datetime_from_now_fr()</a>, <a class="el" href="say_8c_source.html#l06988">ast_say_datetime_from_now_he()</a>, <a class="el" href="say_8c_source.html#l07786">ast_say_datetime_from_now_ka()</a>, <a class="el" href="say_8c_source.html#l06938">ast_say_datetime_from_now_pt()</a>, <a class="el" href="sched_8c_source.html#l00546">ast_sched_dump()</a>, <a class="el" href="sched_8c_source.html#l00581">ast_sched_runq()</a>, <a class="el" href="sched_8c_source.html#l00327">ast_sched_wait()</a>, <a class="el" href="sched_8c_source.html#l00645">ast_sched_when()</a>, <a class="el" href="translate_8c_source.html#l00308">ast_translate()</a>, <a class="el" href="utils_8c_source.html#l01060">ast_wait_for_output()</a>, <a class="el" href="channel_8c_source.html#l02041">ast_waitfor_nandfds()</a>, <a class="el" href="audiohook_8c_source.html#l00197">audiohook_read_frame_both()</a>, <a class="el" href="app__talkdetect_8c_source.html#l00076">background_detect_exec()</a>, <a class="el" href="chan__unistim_8c_source.html#l04998">build_device()</a>, <a class="el" href="chan__iax2_8c_source.html#l05709">calc_rxstamp()</a>, <a class="el" href="chan__iax2_8c_source.html#l05576">calc_timestamp()</a>, <a class="el" href="rtp_8c_source.html#l03121">calc_txstamp()</a>, <a class="el" href="callerid_8c_source.html#l00723">callerid_genmsg()</a>, <a class="el" href="asterisk_8c_source.html#l03038">canary_thread()</a>, <a class="el" href="chan__misdn_8c_source.html#l04379">cb_events()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00331">check_timer()</a>, <a class="el" href="asterisk_8c_source.html#l02164">cli_prompt()</a>, <a class="el" href="taskprocessor_8c_source.html#l00189">cli_tps_ping()</a>, <a class="el" href="app__meetme_8c_source.html#l01998">conf_run()</a>, <a class="el" href="pbx__dundi_8c_source.html#l02900">create_transaction()</a>, <a class="el" href="chan__dahdi_8c_source.html#l04718">dahdi_answer()</a>, <a class="el" href="chan__dahdi_8c_source.html#l03101">dahdi_call()</a>, <a class="el" href="chan__dahdi_8c_source.html#l05699">dahdi_handle_event()</a>, <a class="el" href="chan__dahdi_8c_source.html#l06717">dahdi_read()</a>, <a class="el" href="pbx__dundi_8c_source.html#l02956">destroy_trans()</a>, <a class="el" href="app__dial_8c_source.html#l01515">dial_exec_full()</a>, <a class="el" href="app__disa_8c_source.html#l00143">disa_exec()</a>, <a class="el" href="cdr_8c_source.html#l01288">do_cdr()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00449">do_timing()</a>, <a class="el" href="pbx__dundi_8c_source.html#l02422">dundi_do_lookup()</a>, <a class="el" href="pbx__dundi_8c_source.html#l02476">dundi_do_precache()</a>, <a class="el" href="pbx__dundi_8c_source.html#l03574">dundi_lookup_internal()</a>, <a class="el" href="pbx__dundi_8c_source.html#l03747">dundi_precache_internal()</a>, <a class="el" href="pbx__dundi_8c_source.html#l03826">dundi_query_eid_internal()</a>, <a class="el" href="features_8c_source.html#l02152">feature_request_and_dial()</a>, <a class="el" href="chan__iax2_8c_source.html#l13074">find_cache()</a>, <a class="el" href="app__meetme_8c_source.html#l03372">find_conf_realtime()</a>, <a class="el" href="chan__iax2_8c_source.html#l05749">find_tpeer()</a>, <a class="el" href="chan__iax2_8c_source.html#l05561">fix_peerts()</a>, <a class="el" href="app__minivm_8c_source.html#l00852">get_date()</a>, <a class="el" href="chan__unistim_8c_source.html#l00729">get_tick_count()</a>, <a class="el" href="cli_8c_source.html#l00790">handle_chanlist()</a>, <a class="el" href="res__convert_8c_source.html#l00062">handle_cli_file_convert()</a>, <a class="el" href="chan__iax2_8c_source.html#l03755">handle_cli_iax2_show_cache()</a>, <a class="el" href="res__agi_8c_source.html#l01494">handle_recordfile()</a>, <a class="el" href="chan__sip_8c_source.html#l18198">handle_response_peerpoke()</a>, <a class="el" href="chan__sip_8c_source.html#l18054">handle_response_register()</a>, <a class="el" href="cli_8c_source.html#l00735">handle_showcalls()</a>, <a class="el" href="cli_8c_source.html#l01268">handle_showchan()</a>, <a class="el" href="cli_8c_source.html#l00665">handle_showuptime()</a>, <a class="el" href="chan__skinny_8c_source.html#l05307">handle_time_date_req_message()</a>, <a class="el" href="dial_8c_source.html#l00506">handle_timeout_trip()</a>, <a class="el" href="http_8c_source.html#l00659">httpd_helper_thread()</a>, <a class="el" href="chan__iax2_8c_source.html#l05170">iax2_bridge()</a>, <a class="el" href="chan__iax2_8c_source.html#l04448">iax2_datetime()</a>, <a class="el" href="chan__iax2_8c_source.html#l11136">iax2_process_thread()</a>, <a class="el" href="chan__iax2_8c_source.html#l05784">iax2_trunk_queue()</a>, <a class="el" href="app__minivm_8c_source.html#l01604">leave_voicemail()</a>, <a class="el" href="app__minivm_8c_source.html#l02573">load_config()</a>, <a class="el" href="chan__agent_8c_source.html#l01981">login_exec()</a>, <a class="el" href="asterisk_8c_source.html#l03095">main()</a>, <a class="el" href="features_8c_source.html#l03009">manage_parkinglot()</a>, <a class="el" href="app__voicemail_8c_source.html#l10271">mb_poll_thread()</a>, <a class="el" href="app__test_8c_source.html#l00080">measurenoise()</a>, <a class="el" href="chan__mgcp_8c_source.html#l00693">mgcp_postrequest()</a>, <a class="el" href="chan__misdn_8c_source.html#l00846">misdn_overlap_dial_task()</a>, <a class="el" href="chan__misdn_8c_source.html#l03033">misdn_read()</a>, <a class="el" href="dial_8c_source.html#l00535">monitor_dial()</a>, <a class="el" href="res__musiconhold_8c_source.html#l00563">monmp3thread()</a>, <a class="el" href="app__mp3_8c_source.html#l00120">mp3_exec()</a>, <a class="el" href="res__smdi_8c_source.html#l00804">mwi_monitor_handler()</a>, <a class="el" href="app__nbscat_8c_source.html#l00108">NBScat_exec()</a>, <a class="el" href="res__odbc_8c_source.html#l01411">odbc_obj_connect()</a>, <a class="el" href="features_8c_source.html#l00678">park_call_full()</a>, <a class="el" href="chan__phone_8c_source.html#l00287">phone_call()</a>, <a class="el" href="res__phoneprov_8c_source.html#l00401">phoneprov_callback()</a>, <a class="el" href="app__voicemail_8c_source.html#l06865">play_message_datetime()</a>, <a class="el" href="config_8c_source.html#l00922">process_text_line()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00152">pthread_timer_set_rate()</a>, <a class="el" href="res__smdi_8c_source.html#l00316">purge_old_messages()</a>, <a class="el" href="pbx__dundi_8c_source.html#l04324">qualify_peer()</a>, <a class="el" href="app__meetme_8c_source.html#l05774">queue_ringing_trunk()</a>, <a class="el" href="app__alarmreceiver_8c_source.html#l00232">receive_dtmf_digits()</a>, <a class="el" href="app__rpt_8c_source.html#l10730">rpt()</a>, <a class="el" href="app__meetme_8c_source.html#l01815">rt_extend_conf()</a>, <a class="el" href="sched_8c_source.html#l00083">sched_run()</a>, <a class="el" href="sched_8c_source.html#l00373">sched_settime()</a>, <a class="el" href="chan__unistim_8c_source.html#l01361">send_date_time()</a>, <a class="el" href="chan__unistim_8c_source.html#l01378">send_date_time2()</a>, <a class="el" href="chan__unistim_8c_source.html#l01399">send_date_time3()</a>, <a class="el" href="rtp_8c_source.html#l00871">send_dtmf()</a>, <a class="el" href="app__minivm_8c_source.html#l01027">sendmail()</a>, <a class="el" href="app__dumpchan_8c_source.html#l00065">serialize_showchan()</a>, <a class="el" href="chan__oss_8c_source.html#l00469">setformat()</a>, <a class="el" href="channel_8c_source.html#l02596">should_skip_dtmf()</a>, <a class="el" href="chan__sip_8c_source.html#l15831">show_chanstats_cb()</a>, <a class="el" href="chan__sip_8c_source.html#l22876">sip_poke_peer()</a>, <a class="el" href="app__meetme_8c_source.html#l05203">sla_calc_station_timeouts()</a>, <a class="el" href="app__meetme_8c_source.html#l05173">sla_calc_trunk_timeouts()</a>, <a class="el" href="app__meetme_8c_source.html#l04921">sla_check_failed_station()</a>, <a class="el" href="app__meetme_8c_source.html#l05037">sla_check_station_delay()</a>, <a class="el" href="app__meetme_8c_source.html#l04611">sla_create_ringing_station()</a>, <a class="el" href="app__meetme_8c_source.html#l05327">sla_process_timers()</a>, <a class="el" href="app__meetme_8c_source.html#l04944">sla_ring_station()</a>, <a class="el" href="res__smdi_8c_source.html#l00443">smdi_message_wait()</a>, <a class="el" href="res__smdi_8c_source.html#l00542">smdi_read()</a>, <a class="el" href="app__sms_8c_source.html#l01098">sms_handleincoming()</a>, <a class="el" href="app__sms_8c_source.html#l01248">sms_handleincoming_proto2()</a>, <a class="el" href="app__sms_8c_source.html#l00813">sms_readfile()</a>, <a class="el" href="app__sms_8c_source.html#l00984">sms_writefile()</a>, <a class="el" href="chan__iax2_8c_source.html#l09260">socket_process_meta()</a>, <a class="el" href="app__speech__utils_8c_source.html#l00639">speech_background()</a>, <a class="el" href="http_8c_source.html#l00154">static_callback()</a>, <a class="el" href="chan__oss_8c_source.html#l01348">store_config()</a>, <a class="el" href="func__timeout_8c_source.html#l00073">timeout_read()</a>, <a class="el" href="func__timeout_8c_source.html#l00119">timeout_write()</a>, <a class="el" href="chan__iax2_8c_source.html#l08787">timing_read()</a>, <a class="el" href="timing_8c_source.html#l00208">timing_test()</a>, <a class="el" href="app__fax_8c_source.html#l00362">transmit_audio()</a>, <a class="el" href="chan__mgcp_8c_source.html#l02238">transmit_notify_request_with_callerid()</a>, <a class="el" href="app__fax_8c_source.html#l00599">transmit_t38()</a>, <a class="el" href="chan__iax2_8c_source.html#l03862">update_jbsched()</a>, <a class="el" href="app__voicemail_8c_source.html#l04060">vmu_tm()</a>, <a class="el" href="app__dial_8c_source.html#l00818">wait_for_answer()</a>, <a class="el" href="app__waituntil_8c_source.html#l00070">waituntil_exec()</a>, <a class="el" href="chan__unistim_8c_source.html#l01693">write_history()</a>, and <a class="el" href="app__alarmreceiver_8c_source.html#l00296">write_metadata()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00158"></a>00158 {
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa13b651c18bc6004cab21ac041d44dd8"></a><!-- doxytag: member="time.h::ast_tvsub" ref="aa13b651c18bc6004cab21ac041d44dd8" args="(struct timeval a, struct timeval b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct timeval ast_tvsub </td>
          <td>(</td>
          <td class="paramtype">struct timeval&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval&nbsp;</td>
          <td class="paramname"> <em>b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the difference of two timevals a - b. </p>

<p>Definition at line <a class="el" href="utils_8c_source.html#l01379">1379</a> of file <a class="el" href="utils_8c_source.html">utils.c</a>.</p>

<p>References <a class="el" href="utils_8c_source.html#l01345">ONE_MILLION</a>, and <a class="el" href="utils_8c_source.html#l01350">tvfix()</a>.</p>

<p>Referenced by <a class="el" href="channel_8c_source.html#l05055">ast_channel_bridge()</a>, <a class="el" href="lock_8h_source.html#l01801">ast_rwlock_timedrdlock()</a>, <a class="el" href="lock_8h_source.html#l01832">ast_rwlock_timedwrlock()</a>, <a class="el" href="sched_8c_source.html#l00546">ast_sched_dump()</a>, <a class="el" href="translate_8c_source.html#l00308">ast_translate()</a>, <a class="el" href="channel_8c_source.html#l02041">ast_waitfor_nandfds()</a>, <a class="el" href="chan__iax2_8c_source.html#l05709">calc_rxstamp()</a>, <a class="el" href="chan__iax2_8c_source.html#l05576">calc_timestamp()</a>, <a class="el" href="taskprocessor_8c_source.html#l00189">cli_tps_ping()</a>, <a class="el" href="app__meetme_8c_source.html#l01998">conf_run()</a>, <a class="el" href="cli_8c_source.html#l00735">handle_showcalls()</a>, and <a class="el" href="cli_8c_source.html#l00665">handle_showuptime()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01380"></a>01380 {
<a name="l01381"></a>01381    <span class="comment">/* consistency checks to guarantee usec in 0..999999 */</span>
<a name="l01382"></a>01382    a = <a class="code" href="utils_8c.html#ae011d19bb4f1d706eecb7e2b0c7ad581">tvfix</a>(a);
<a name="l01383"></a>01383    b = <a class="code" href="utils_8c.html#ae011d19bb4f1d706eecb7e2b0c7ad581">tvfix</a>(b);
<a name="l01384"></a>01384    a.tv_sec -= b.tv_sec;
<a name="l01385"></a>01385    a.tv_usec -= b.tv_usec;
<a name="l01386"></a>01386    <span class="keywordflow">if</span> (a.tv_usec &lt; 0) {
<a name="l01387"></a>01387       a.tv_sec-- ;
<a name="l01388"></a>01388       a.tv_usec += <a class="code" href="utils_8c.html#a6a146c1b2155b03eb2ffa3f4ba755034">ONE_MILLION</a>;
<a name="l01389"></a>01389    }
<a name="l01390"></a>01390    <span class="keywordflow">return</span> a;
<a name="l01391"></a>01391 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1b7c6177ea781fc11512de25805fc144"></a><!-- doxytag: member="time.h::ast_tvzero" ref="a1b7c6177ea781fc11512de25805fc144" args="(const struct timeval t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__inline__ int ast_tvzero </td>
          <td>(</td>
          <td class="paramtype">const struct timeval&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns true if the argument is 0,0. </p>

<p>Definition at line <a class="el" href="time_8h_source.html#l00099">99</a> of file <a class="el" href="time_8h_source.html">time.h</a>.</p>

<p>Referenced by <a class="el" href="channel_8c_source.html#l02636">__ast_read()</a>, <a class="el" href="pbx__gtkconsole_8c_source.html#l00100">__verboser()</a>, <a class="el" href="manager_8c_source.html#l02814">action_coreshowchannels()</a>, <a class="el" href="cdr__csv_8c_source.html#l00181">append_date()</a>, <a class="el" href="features_8c_source.html#l02441">ast_bridge_call()</a>, <a class="el" href="cdr_8c_source.html#l00687">ast_cdr_answer()</a>, <a class="el" href="cdr_8c_source.html#l00879">ast_cdr_end()</a>, <a class="el" href="app__forkcdr_8c_source.html#l00176">ast_cdr_fork()</a>, <a class="el" href="cdr_8c_source.html#l00496">ast_cdr_merge()</a>, <a class="el" href="channel_8c_source.html#l05055">ast_channel_bridge()</a>, <a class="el" href="channel_8c_source.html#l00535">ast_channel_cmpwhentohangup_tv()</a>, <a class="el" href="channel_8c_source.html#l00521">ast_channel_setwhentohangup_tv()</a>, <a class="el" href="channel_8c_source.html#l00461">ast_check_hangup()</a>, <a class="el" href="channel_8c_source.html#l04776">ast_generic_bridge()</a>, <a class="el" href="rtp_8c_source.html#l03609">ast_rtp_raw_write()</a>, <a class="el" href="frame_8c_source.html#l00236">ast_smoother_read()</a>, <a class="el" href="translate_8c_source.html#l00308">ast_translate()</a>, <a class="el" href="agent_8c_source.html#l00228">ast_var_channels_table()</a>, <a class="el" href="channel_8c_source.html#l02041">ast_waitfor_nandfds()</a>, <a class="el" href="chan__iax2_8c_source.html#l05709">calc_rxstamp()</a>, <a class="el" href="chan__iax2_8c_source.html#l05576">calc_timestamp()</a>, <a class="el" href="chan__iax2_8c_source.html#l05532">calc_txpeerstamp()</a>, <a class="el" href="rtp_8c_source.html#l03121">calc_txstamp()</a>, <a class="el" href="app__meetme_8c_source.html#l01998">conf_run()</a>, <a class="el" href="app__dial_8c_source.html#l01515">dial_exec_full()</a>, <a class="el" href="chan__phone_8c_source.html#l01012">do_monitor()</a>, <a class="el" href="chan__iax2_8c_source.html#l05561">fix_peerts()</a>, <a class="el" href="cdr__tds_8c_source.html#l00279">get_date()</a>, <a class="el" href="cli_8c_source.html#l00790">handle_chanlist()</a>, <a class="el" href="chan__iax2_8c_source.html#l05170">iax2_bridge()</a>, <a class="el" href="chan__misdn_8c_source.html#l03033">misdn_read()</a>, <a class="el" href="res__musiconhold_8c_source.html#l00563">monmp3thread()</a>, <a class="el" href="sched_8c_source.html#l00373">sched_settime()</a>, <a class="el" href="chan__iax2_8c_source.html#l03970">schedule_delivery()</a>, <a class="el" href="channel_8c_source.html#l02596">should_skip_dtmf()</a>, <a class="el" href="chan__sip_8c_source.html#l15831">show_chanstats_cb()</a>, <a class="el" href="frame_8c_source.html#l00126">smoother_frame_feed()</a>, <a class="el" href="app__sms_8c_source.html#l00984">sms_writefile()</a>, <a class="el" href="chan__iax2_8c_source.html#l09260">socket_process_meta()</a>, <a class="el" href="func__timeout_8c_source.html#l00073">timeout_read()</a>, and <a class="el" href="func__timeout_8c_source.html#l00119">timeout_write()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00107"></a>00107 {
</pre></div></p>

</div>
</div>
<a class="anchor" id="afb814706a7dbee140514c93c4022b5f7"></a><!-- doxytag: member="time.h::typeof" ref="afb814706a7dbee140514c93c4022b5f7" args="(tv.tv_sec) ast_time_t" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef typeof </td>
          <td>(</td>
          <td class="paramtype">tv.&nbsp;</td>
          <td class="paramname"> <em>tv_sec</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a9cf96982557d56650f0f4cd3762f05a0"></a><!-- doxytag: member="time.h::tv" ref="a9cf96982557d56650f0f4cd3762f05a0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct timeval <a class="el" href="time_8h.html#a9cf96982557d56650f0f4cd3762f05a0">tv</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="manager_8c_source.html#l03412">ast_manager_register_struct()</a>, and <a class="el" href="manager_8c_source.html#l03379">ast_manager_unregister()</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed May 5 15:23:32 2010 for Asterisk - the Open Source PBX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
