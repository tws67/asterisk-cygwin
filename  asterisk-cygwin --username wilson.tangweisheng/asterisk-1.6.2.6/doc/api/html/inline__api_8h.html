<HTML>
    <HEAD>
      <TITLE>Asterisk.org: Developer Documentation (5 May 2010)</TITLE>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<div><font size="2" align="right">Wed May 5 15:22:13 2010</font></div>

<h2>Asterisk developer's documentation</h2>
<hr/>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_1ab815038f534adda65c8b4ae4993449.html">include</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_16d825f1fa9ecca2e70b1a8d9256d0e6.html">asterisk</a>
  </div>
</div>
<div class="contents">
<h1>inline_api.h File Reference</h1>
<p>Inlinable API function macro.  
<a href="#_details">More...</a></p>

<p><a href="inline__api_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="inline__api_8h.html#abf50cd4e5859e17bb3d199b805df8fe0">AST_INLINE_API</a>(hdr, body)&nbsp;&nbsp;&nbsp;hdr; extern inline hdr body</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Inlinable API function macro. </p>
<p>Small API functions that are candidates for inlining need to be specially declared and defined, to ensure that the 'right thing' always happens. For example:</p>
<ul>
<li>there must _always_ be a non-inlined version of the function available for modules compiled out of the tree to link to</li>
<li>references to a function that cannot be inlined (for any reason that the compiler deems proper) must devolve into an 'extern' reference, instead of 'static', so that multiple copies of the function body are not built in different modules</li>
<li>when LOW_MEMORY is defined, inlining should be disabled completely, even if the compiler is configured to support it</li>
</ul>
<p>The AST_INLINE_API macro allows this to happen automatically, when used to define your function. Proper usage is as follows:</p>
<ul>
<li>define your function one place, in a header file, using the macro to wrap the function (see <a class="el" href="strings_8h.html" title="String manipulation functions.">strings.h</a> or <a class="el" href="time_8h.html" title="Time-related functions and macros.">time.h</a> for examples)</li>
<li>choose a module to 'host' the function body for non-inline usages, and in that module _only_, define AST_API_MODULE before including the header file </li>
</ul>

<p>Definition in file <a class="el" href="inline__api_8h_source.html">inline_api.h</a>.</p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abf50cd4e5859e17bb3d199b805df8fe0"></a><!-- doxytag: member="inline_api.h::AST_INLINE_API" ref="abf50cd4e5859e17bb3d199b805df8fe0" args="(hdr, body)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_INLINE_API</td>
          <td>(</td>
          <td class="paramtype">hdr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">body&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;hdr; extern inline hdr body</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="inline__api_8h_source.html#l00049">49</a> of file <a class="el" href="inline__api_8h_source.html">inline_api.h</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed May 5 15:22:13 2010 for Asterisk - the Open Source PBX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
