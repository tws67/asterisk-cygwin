<HTML>
    <HEAD>
      <TITLE>Asterisk.org: Developer Documentation (5 May 2010)</TITLE>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<div><font size="2" align="right">Wed May 5 15:23:34 2010</font></div>

<h2>Asterisk developer's documentation</h2>
<hr/>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_1ab815038f534adda65c8b4ae4993449.html">include</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_16d825f1fa9ecca2e70b1a8d9256d0e6.html">asterisk</a>
  </div>
</div>
<div class="contents">
<h1>utils.h File Reference</h1>
<p>Utility functions.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="network_8h_source.html">asterisk/network.h</a>&quot;</code><br/>
<code>#include &lt;<a class="el" href="time_8h_source.html">time.h</a>&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="lock_8h_source.html">asterisk/lock.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="logger_8h_source.html">asterisk/logger.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="localtime_8h_source.html">asterisk/localtime.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="strings_8h_source.html">asterisk/strings.h</a>&quot;</code><br/>

<p><a href="utils_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structast__eid.html">ast_eid</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An Entity ID is essentially a MAC address, brief and unique.  <a href="structast__eid.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structast__flags.html">ast_flags</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure used to handle boolean flags.  <a href="structast__flags.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structast__flags64.html">ast_flags64</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure used to handle a large <a class="el" href="structnumber.html" title="Number structure.">number</a> of boolean flags == used only in app_dial?  <a href="structast__flags64.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structast__hostent.html">ast_hostent</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(a)&nbsp;&nbsp;&nbsp;(sizeof(a) / sizeof(0[a]))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(a)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a291a8182b1abda8d1df13469fe92ee13">AST_BACKGROUND_STACKSIZE</a>&nbsp;&nbsp;&nbsp;AST_STACKSIZE</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a7b260320610a09017a9416398acd0a70">ast_clear_flag</a>(p, flag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a32495ee3248a37ac92279090110f6fbf">ast_clear_flag64</a>(p, flag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a2d48f8d71e91b61c5759edf70f71a168">ast_clear_flag_nonstd</a>(p, flag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#ab9da1c7265610eff83ed6146f104dc6f">ast_copy_flags</a>(dest, src, flagz)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#ab2b7ee74bfabc5749561a38506048351">ast_copy_flags64</a>(dest, src, flagz)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a1df9d2c29cdf694bbb02c385d670b866">ast_copy_flags_nonstd</a>(dest, src, flagz)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#afb8683b4d96960d7a82a86a974a57599">AST_FLAGS_ALL</a>&nbsp;&nbsp;&nbsp;UINT_MAX</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a4781fd54a4ca8c7f0f8a32a6cce503c0">ast_pthread_create</a>(a, b, c, d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a595e2f8aa398f4bd21e381c3211235fe">ast_pthread_create_background</a>(a, b, c, d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a832647380b1f97e7ac1b4492f8816d46">ast_pthread_create_detached</a>(a, b, c, d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#aa73be876e3a4024b91ce2e09d8b945d1">ast_pthread_create_detached_background</a>(a, b, c, d)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a67b6713ff86cf82aaed821e9a87d1c21">ast_set2_flag</a>(p, value, flag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a175bbf1368dca74d9c2062a79e7425bd">ast_set2_flag64</a>(p, value, flag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a3d3f8e1143471d57a943cf2694f8a4e2">ast_set2_flag_nonstd</a>(p, value, flag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(p, flag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#ab2de736b42974f12ec7d57c41d234bf4">ast_set_flag64</a>(p, flag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a0c85a8ea758aa5fa64260d7b29af6564">ast_set_flag_nonstd</a>(p, flag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#af369c4577c71400e8bf7924d8b12ad3f">ast_set_flags_to</a>(p, flag, value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a3235d1a908ad36d9708de980754f06f4">ast_set_flags_to64</a>(p, flag, value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a47e9ccd65c7bb239af68c006ceae18b4">AST_STACKSIZE</a>&nbsp;&nbsp;&nbsp;(((sizeof(void *) * 8 * 8) - 16) * 1024)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(s)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">duplicate a string in memory from the stack  <a href="#ab5f0750cc80ba337fdcbddea2d3a1ee6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(p, flag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a17ef965a8317b037c32e9b58c3765b1a">ast_test_flag64</a>(p, flag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#aacbd52db1ede7a4c592037c8d6da7ded">ast_test_flag_nonstd</a>(p, flag)&nbsp;&nbsp;&nbsp;((p)-&gt;flags &amp; (flag))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a9e7c6104cccbed67c8f0fd510cd5c099">localtime_r</a>&nbsp;&nbsp;&nbsp;__dont_use_localtime_r_use_ast_localtime_instead__</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(a, b)&nbsp;&nbsp;&nbsp;({ typeof(a) __a = (a); typeof(b) __b = (b); ((__a &lt; __b) ? __b : __a);})</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a>(a, b)&nbsp;&nbsp;&nbsp;({ typeof(a) __a = (a); typeof(b) __b = (b); ((__a &gt; __b) ? __b : __a);})</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a1e7e06bd20719ecfd58b67f230780ffa">ast_base64decode</a> (unsigned char *dst, const char *src, int max)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Decode data from base64.  <a href="#a1e7e06bd20719ecfd58b67f230780ffa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a555dad1bd5b23acf01cf08f1affab879">ast_base64encode</a> (char *dst, const unsigned char *src, int srclen, int max)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Encode data in base64.  <a href="#a555dad1bd5b23acf01cf08f1affab879"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#abc46a030bcce6696e31ac29a79558b53">ast_base64encode_full</a> (char *dst, const unsigned char *src, int srclen, int max, int linebreaks)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">encode text to BASE64 coding  <a href="#abc46a030bcce6696e31ac29a79558b53"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#ac98e1e1d96da82715f3aac5919de5bc6">ast_careful_fwrite</a> (FILE *<a class="el" href="format__g726_8c.html#a6add0b75a88c25db4ccbf690acda6d7f">f</a>, int fd, const char *s, size_t len, int timeoutms)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write data to a file stream with a timeout.  <a href="#ac98e1e1d96da82715f3aac5919de5bc6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a38faf2987c375335b2773964aabf69b3">ast_carefulwrite</a> (int fd, char *s, int len, int timeoutms)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Try to write string, but wait no more than ms milliseconds before timing out.  <a href="#a38faf2987c375335b2773964aabf69b3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a4e9f7c7ca75b0ff48b60b136e3961b61">ast_eid_cmp</a> (const struct <a class="el" href="structast__eid.html">ast_eid</a> *eid1, const struct <a class="el" href="structast__eid.html">ast_eid</a> *eid2)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compare two EIDs.  <a href="#a4e9f7c7ca75b0ff48b60b136e3961b61"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a8ebf6841073ea2a063a0c86a5092a85b">ast_eid_to_str</a> (char *s, int maxlen, struct <a class="el" href="structast__eid.html">ast_eid</a> *eid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a89056bba460d0aa179d3a3ddc0af472a">ast_enable_packet_fragmentation</a> (int sock)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disable PMTU discovery on a socket.  <a href="#a89056bba460d0aa179d3a3ddc0af472a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a4e6aceb50eca868b7c38064c6c1a4789">ast_free_ptr</a> (void *ptr) attribute_unused</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="astmm_8h.html#aa7157aa9480bb73f090dca36776419bf">free()</a> wrapper  <a href="#a4e6aceb50eca868b7c38064c6c1a4789"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct hostent *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#ad3b63ee1041593219ef0765b28d70442">ast_gethostbyname</a> (const char *host, struct <a class="el" href="structast__hostent.html">ast_hostent</a> *<a class="el" href="chan__skinny_8c.html#aa0f575fa3882aa394cc287edba645a35">hp</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Thread-safe gethostbyname function to use in Asterisk.  <a href="#ad3b63ee1041593219ef0765b28d70442"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#ac19bc2df18345ab0f12d972f2987b896">ast_md5_hash</a> (char *output, char *input)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Produces MD5 hash based on input string.  <a href="#ac19bc2df18345ab0f12d972f2987b896"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a7c38859ed90e96df2b0a0fdf843769d0">ast_mkdir</a> (const char *path, int mode)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Recursively create directory path.  <a href="#a7c38859ed90e96df2b0a0fdf843769d0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a3543b8258edfa9140d45147013bc6919">ast_process_quotes_and_slashes</a> (char *start, char find, char replace_with)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process a string to find and replace characters.  <a href="#a3543b8258edfa9140d45147013bc6919"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#af13d115905cb377f2e1b2e46fec92257">ast_pthread_create_detached_stack</a> (pthread_t *<a class="el" href="res__timing__pthread_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a>, pthread_attr_t *attr, void *(*start_routine)(void *), void *data, size_t stacksize, const char *file, const char *caller, int line, const char *start_fn)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#af740ee3fba7768010783e3faaf5aeb12">ast_pthread_create_stack</a> (pthread_t *<a class="el" href="res__timing__pthread_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a>, pthread_attr_t *attr, void *(*start_routine)(void *), void *data, size_t stacksize, const char *file, const char *caller, int line, const char *start_fn)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a7b4f10b070e95ba413e258a3e4b03c20">ast_random</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a8e450762024db98313129c1a2ea07d0c">ast_register_thread</a> (char *<a class="el" href="channel_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a4c527f8466f7653b16cb694ba5668092">ast_set_default_eid</a> (struct <a class="el" href="structast__eid.html">ast_eid</a> *eid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fill in an <a class="el" href="structast__eid.html" title="An Entity ID is essentially a MAC address, brief and unique.">ast_eid</a> with the default eid of this machine.  <a href="#a4c527f8466f7653b16cb694ba5668092"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a89565d41a0b343afc57a1c0d9eb85160">ast_sha1_hash</a> (char *output, char *input)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Produces SHA1 hash based on input string.  <a href="#a89565d41a0b343afc57a1c0d9eb85160"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static force_inline void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a8761597fec2f8a17d105a82c20d0b728">ast_slinear_saturated_add</a> (short *input, short *value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static force_inline void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#af5e55a87e9741a1bbea1e2ec2f99a1e1">ast_slinear_saturated_divide</a> (short *input, short *value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static force_inline void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a5b2919c84591a13feb6b750b54c57520">ast_slinear_saturated_multiply</a> (short *input, short *value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static force_inline void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a1afcbc567c2d16e7bc433152657d832b">ast_slinear_saturated_subtract</a> (short *input, short *value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#ad60a8c795e1f64b7beeed705425c555f">ast_str_to_eid</a> (struct <a class="el" href="structast__eid.html">ast_eid</a> *eid, const char *s)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert a string into an EID.  <a href="#ad60a8c795e1f64b7beeed705425c555f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a9795c12483e42e95d18eae6a92482677">ast_unregister_thread</a> (void *<a class="el" href="res__ais_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#adafa7619a91aca23fc519bcc31ae8dff">ast_uri_decode</a> (char *s)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Decode URI, URN, URL (overwrite string).  <a href="#adafa7619a91aca23fc519bcc31ae8dff"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a4736440328d6809ea8d9f57c0606f253">ast_uri_encode</a> (const char *string, char *outbuf, int buflen, int doreserved)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Turn text string to URI-encoded XX version.  <a href="#a4736440328d6809ea8d9f57c0606f253"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a7f67fc7c9501569b338913c796d86c45">ast_utils_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a60404ef44696316455e79c3a002cc71e">ast_wait_for_input</a> (int fd, int ms)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a219dc8b94c16860deffcb0e5565e415e">__unsigned_int_flags_dummy</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#a760967667797a5f20dc3af304edbfd20">__unsigned_int_flags_dummy64</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structast__eid.html">ast_eid</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_8h.html#ad5db11fa27352e2b9a3c669adc76955f">ast_eid_default</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Global EID.  <a href="#ad5db11fa27352e2b9a3c669adc76955f"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Utility functions. </p>

<p>Definition in file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ab9129b977a587b50ea801daac75e178f"></a><!-- doxytag: member="utils.h::ARRAY_LEN" ref="ab9129b977a587b50ea801daac75e178f" args="(a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ARRAY_LEN</td>
          <td>(</td>
          <td class="paramtype">a&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(sizeof(a) / sizeof(0[a]))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00652">652</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

</div>
</div>
<a class="anchor" id="a24374da24af1931d8a7ccde5b352bb2c"></a><!-- doxytag: member="utils.h::ast_assert" ref="a24374da24af1931d8a7ccde5b352bb2c" args="(a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_assert</td>
          <td>(</td>
          <td class="paramtype">a&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00678">678</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="channel_8c_source.html#l01690">ast_hangup()</a>, <a class="el" href="res__odbc_8c_source.html#l01156">ast_odbc_request_obj2()</a>, <a class="el" href="rtp_8c_source.html#l01168">ast_rtcp_read()</a>, <a class="el" href="rtp_8c_source.html#l01562">ast_rtp_read()</a>, <a class="el" href="sched_8c_source.html#l00461">ast_sched_del()</a>, <a class="el" href="udptl_8c_source.html#l00672">ast_udptl_read()</a>, <a class="el" href="abstract__jb_8c_source.html#l00445">create_jb()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00272">find_timer()</a>, <a class="el" href="abstract__jb_8c_source.html#l00385">jb_get_and_deliver()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00188">pthread_timer_ack()</a>, and <a class="el" href="res__timing__pthread_8c_source.html#l00357">read_pipe()</a>.</p>

</div>
</div>
<a class="anchor" id="a291a8182b1abda8d1df13469fe92ee13"></a><!-- doxytag: member="utils.h::AST_BACKGROUND_STACKSIZE" ref="a291a8182b1abda8d1df13469fe92ee13" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_BACKGROUND_STACKSIZE&nbsp;&nbsp;&nbsp;AST_STACKSIZE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00362">362</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7b260320610a09017a9416398acd0a70"></a><!-- doxytag: member="utils.h::ast_clear_flag" ref="a7b260320610a09017a9416398acd0a70" args="(p, flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_clear_flag</td>
          <td>(</td>
          <td class="paramtype">p, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">flag&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00075">75</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="pbx_8c_source.html#l04214">__ast_pbx_run()</a>, <a class="el" href="channel_8c_source.html#l02636">__ast_read()</a>, <a class="el" href="chan__iax2_8c_source.html#l03102">__do_deliver()</a>, <a class="el" href="res__jabber_8c_source.html#l02200">aji_filter_roster()</a>, <a class="el" href="app_8c_source.html#l01776">ast_app_parse_options()</a>, <a class="el" href="autoservice_8c_source.html#l00251">ast_autoservice_stop()</a>, <a class="el" href="features_8c_source.html#l02441">ast_bridge_call()</a>, <a class="el" href="cdr_8c_source.html#l01062">ast_cdr_reset()</a>, <a class="el" href="cdr_8c_source.html#l01105">ast_cdr_specialized_reset()</a>, <a class="el" href="channel_8c_source.html#l05055">ast_channel_bridge()</a>, <a class="el" href="channel_8c_source.html#l01158">ast_channel_undefer_dtmf()</a>, <a class="el" href="channel_8c_source.html#l01956">ast_deactivate_generator()</a>, <a class="el" href="dsp_8c_source.html#l01722">ast_dsp_frame_freed()</a>, <a class="el" href="frame_8c_source.html#l00389">ast_frisolate()</a>, <a class="el" href="channel_8c_source.html#l01690">ast_hangup()</a>, <a class="el" href="abstract__jb_8c_source.html#l00530">ast_jb_destroy()</a>, <a class="el" href="abstract__jb_8c_source.html#l00303">ast_jb_put()</a>, <a class="el" href="rtp_8c_source.html#l02710">ast_rtp_stop()</a>, <a class="el" href="channel_8c_source.html#l03302">ast_sendtext()</a>, <a class="el" href="res__speech_8c_source.html#l00119">ast_speech_start()</a>, <a class="el" href="translate_8c_source.html#l00909">ast_translate_frame_freed()</a>, <a class="el" href="channel_8c_source.html#l02041">ast_waitfor_nandfds()</a>, <a class="el" href="channel_8c_source.html#l02438">ast_waitfordigit_full()</a>, <a class="el" href="channel_8c_source.html#l03411">ast_write()</a>, <a class="el" href="chan__iax2_8c_source.html#l07515">authenticate_verify()</a>, <a class="el" href="bridging_8c_source.html#l00778">bridge_channel_feature()</a>, <a class="el" href="rtp_8c_source.html#l04223">bridge_p2p_loop()</a>, <a class="el" href="chan__iax2_8c_source.html#l11880">build_peer()</a>, <a class="el" href="chan__iax2_8c_source.html#l12156">build_user()</a>, <a class="el" href="features_8c_source.html#l01396">builtin_atxfer()</a>, <a class="el" href="app__chanspy_8c_source.html#l00431">change_spy_mode()</a>, <a class="el" href="app__chanspy_8c_source.html#l00445">channel_spy()</a>, <a class="el" href="app__chanspy_8c_source.html#l01035">chanspy_exec()</a>, <a class="el" href="features_8c_source.html#l00366">check_goto_on_transfer()</a>, <a class="el" href="chan__sip_8c_source.html#l17521">check_pendings()</a>, <a class="el" href="app__chanspy_8c_source.html#l00767">common_exec()</a>, <a class="el" href="func__config_8c_source.html#l00064">config_function_read()</a>, <a class="el" href="config_8c_source.html#l01176">config_text_file_load()</a>, <a class="el" href="chan__iax2_8c_source.html#l04337">create_addr()</a>, <a class="el" href="chan__dahdi_8c_source.html#l06717">dahdi_read()</a>, <a class="el" href="app__dial_8c_source.html#l01515">dial_exec_full()</a>, <a class="el" href="app__dictate_8c_source.html#l00084">dictate_exec()</a>, <a class="el" href="app__disa_8c_source.html#l00143">disa_exec()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00561">dundi_lookup_local()</a>, <a class="el" href="app__chanspy_8c_source.html#l01127">extenspy_exec()</a>, <a class="el" href="app__meetme_8c_source.html#l03546">find_conf()</a>, <a class="el" href="app__meetme_8c_source.html#l03372">find_conf_realtime()</a>, <a class="el" href="app__voicemail_8c_source.html#l06582">forward_message()</a>, <a class="el" href="pbx__dundi_8c_source.html#l01553">handle_command_response()</a>, <a class="el" href="chan__sip_8c_source.html#l23300">handle_common_options()</a>, <a class="el" href="res__agi_8c_source.html#l01718">handle_exec()</a>, <a class="el" href="chan__sip_8c_source.html#l21024">handle_request_bye()</a>, <a class="el" href="chan__sip_8c_source.html#l19641">handle_request_invite()</a>, <a class="el" href="chan__sip_8c_source.html#l20572">handle_request_refer()</a>, <a class="el" href="chan__sip_8c_source.html#l18268">handle_response()</a>, <a class="el" href="chan__sip_8c_source.html#l17893">handle_response_notify()</a>, <a class="el" href="res__agi_8c_source.html#l02137">handle_speechrecognize()</a>, <a class="el" href="chan__sip_8c_source.html#l23255">handle_t38_options()</a>, <a class="el" href="cli_8c_source.html#l00361">handle_verbose()</a>, <a class="el" href="chan__iax2_8c_source.html#l01623">iax2_destroy_helper()</a>, <a class="el" href="func__odbc_8c_source.html#l00745">init_acf_query()</a>, <a class="el" href="app_8c_source.html#l00433">linear_alloc()</a>, <a class="el" href="app__voicemail_8c_source.html#l10603">load_config()</a>, <a class="el" href="res__musiconhold_8c_source.html#l01549">load_moh_classes()</a>, <a class="el" href="res__musiconhold_8c_source.html#l01433">local_ast_moh_stop()</a>, <a class="el" href="chan__sip_8c_source.html#l20405">local_attended_transfer()</a>, <a class="el" href="chan__local_8c_source.html#l00582">local_hangup()</a>, <a class="el" href="chan__local_8c_source.html#l00206">local_queue_frame()</a>, <a class="el" href="asterisk_8c_source.html#l03095">main()</a>, <a class="el" href="features_8c_source.html#l03009">manage_parkinglot()</a>, <a class="el" href="cdr__odbc_8c_source.html#l00152">odbc_load_module()</a>, <a class="el" href="features_8c_source.html#l00678">park_call_full()</a>, <a class="el" href="app__parkandannounce_8c_source.html#l00088">parkandannounce_exec()</a>, <a class="el" href="chan__phone_8c_source.html#l00547">phone_read()</a>, <a class="el" href="indications_8c_source.html#l00127">playtones_alloc()</a>, <a class="el" href="chan__sip_8c_source.html#l08040">process_sdp()</a>, <a class="el" href="chan__iax2_8c_source.html#l07596">register_verify()</a>, <a class="el" href="chan__h323_8c_source.html#l02832">reload_config()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00487">reset_transaction()</a>, <a class="el" href="chan__iax2_8c_source.html#l12493">set_config()</a>, <a class="el" href="chan__iax2_8c_source.html#l12474">set_config_destroy()</a>, <a class="el" href="features_8c_source.html#l02099">set_config_flags()</a>, <a class="el" href="chan__dahdi_8c_source.html#l17079">setup_dahdi()</a>, <a class="el" href="chan__sip_8c_source.html#l25380">sip_dtmfmode()</a>, <a class="el" href="chan__sip_8c_source.html#l05956">sip_hangup()</a>, <a class="el" href="chan__iax2_8c_source.html#l09458">socket_process()</a>, <a class="el" href="app__speech__utils_8c_source.html#l00639">speech_background()</a>, <a class="el" href="app__queue_8c_source.html#l03569">try_calling()</a>, <a class="el" href="chan__sip_8c_source.html#l05634">update_call_counter()</a>, and <a class="el" href="file_8c_source.html#l01168">waitstream_core()</a>.</p>

</div>
</div>
<a class="anchor" id="a32495ee3248a37ac92279090110f6fbf"></a><!-- doxytag: member="utils.h::ast_clear_flag64" ref="a32495ee3248a37ac92279090110f6fbf" args="(p, flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_clear_flag64</td>
          <td>(</td>
          <td class="paramtype">p, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">flag&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00132">132</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="app__dial_8c_source.html#l00712">do_forward()</a>, and <a class="el" href="app__dial_8c_source.html#l00818">wait_for_answer()</a>.</p>

</div>
</div>
<a class="anchor" id="a2d48f8d71e91b61c5759edf70f71a168"></a><!-- doxytag: member="utils.h::ast_clear_flag_nonstd" ref="a2d48f8d71e91b61c5759edf70f71a168" args="(p, flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_clear_flag_nonstd</td>
          <td>(</td>
          <td class="paramtype">p, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">flag&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> { \
               ((p)-&gt;flags &amp;= ~(flag)); \
               } <span class="keywordflow">while</span>(0)
</pre></div>
<p>Definition at line <a class="el" href="utils_8h_source.html#l00178">178</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="pbx__dundi_8c_source.html#l03450">build_transactions()</a>, <a class="el" href="pbx__dundi_8c_source.html#l01147">cache_lookup_internal()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00561">dundi_lookup_local()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00917">dundi_prop_precache()</a>, and <a class="el" href="pbx__dundi_8c_source.html#l01553">handle_command_response()</a>.</p>

</div>
</div>
<a class="anchor" id="ab9da1c7265610eff83ed6146f104dc6f"></a><!-- doxytag: member="utils.h::ast_copy_flags" ref="ab9da1c7265610eff83ed6146f104dc6f" args="(dest, src, flagz)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_copy_flags</td>
          <td>(</td>
          <td class="paramtype">dest, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">src, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">flagz&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00082">82</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="chan__iax2_8c_source.html#l02580">__find_callno()</a>, <a class="el" href="features_8c_source.html#l02374">add_features_datastores()</a>, <a class="el" href="chan__agent_8c_source.html#l00519">agent_read()</a>, <a class="el" href="res__jabber_8c_source.html#l02660">aji_create_client()</a>, <a class="el" href="res__jabber_8c_source.html#l02200">aji_filter_roster()</a>, <a class="el" href="channel_8c_source.html#l03779">ast_call_forward()</a>, <a class="el" href="cdr_8c_source.html#l01062">ast_cdr_reset()</a>, <a class="el" href="cdr_8c_source.html#l01105">ast_cdr_specialized_reset()</a>, <a class="el" href="frame_8c_source.html#l00474">ast_frdup()</a>, <a class="el" href="frame_8c_source.html#l00389">ast_frisolate()</a>, <a class="el" href="chan__iax2_8c_source.html#l11880">build_peer()</a>, <a class="el" href="chan__iax2_8c_source.html#l12156">build_user()</a>, <a class="el" href="features_8c_source.html#l01396">builtin_atxfer()</a>, <a class="el" href="pbx__dundi_8c_source.html#l01147">cache_lookup_internal()</a>, <a class="el" href="app__chanspy_8c_source.html#l00445">channel_spy()</a>, <a class="el" href="chan__iax2_8c_source.html#l07197">check_access()</a>, <a class="el" href="chan__sip_8c_source.html#l13923">check_peer_ok()</a>, <a class="el" href="chan__iax2_8c_source.html#l04337">create_addr()</a>, <a class="el" href="chan__sip_8c_source.html#l05102">create_addr_from_peer()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00561">dundi_lookup_local()</a>, <a class="el" href="features_8c_source.html#l01996">feature_interpret()</a>, <a class="el" href="translate_8c_source.html#l00155">framein()</a>, <a class="el" href="chan__iax2_8c_source.html#l11561">iax2_request()</a>, <a class="el" href="app__minivm_8c_source.html#l01971">minivm_greet_exec()</a>, <a class="el" href="app__minivm_8c_source.html#l01915">minivm_record_exec()</a>, <a class="el" href="features_8c_source.html#l03335">park_exec_full()</a>, <a class="el" href="app__minivm_8c_source.html#l00903">populate_defaults()</a>, <a class="el" href="chan__iax2_8c_source.html#l04115">realtime_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l12942">register_verify()</a>, <a class="el" href="chan__sip_8c_source.html#l23584">set_peer_defaults()</a>, <a class="el" href="chan__sip_8c_source.html#l07151">sip_alloc()</a>, <a class="el" href="chan__sip_8c_source.html#l22876">sip_poke_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l09600">transmit_response_using_temp()</a>, and <a class="el" href="app__voicemail_8c_source.html#l09810">vm_exec()</a>.</p>

</div>
</div>
<a class="anchor" id="ab2b7ee74bfabc5749561a38506048351"></a><!-- doxytag: member="utils.h::ast_copy_flags64" ref="ab2b7ee74bfabc5749561a38506048351" args="(dest, src, flagz)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_copy_flags64</td>
          <td>(</td>
          <td class="paramtype">dest, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">src, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">flagz&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00139">139</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="app__dial_8c_source.html#l01515">dial_exec_full()</a>, and <a class="el" href="app__dial_8c_source.html#l00818">wait_for_answer()</a>.</p>

</div>
</div>
<a class="anchor" id="a1df9d2c29cdf694bbb02c385d670b866"></a><!-- doxytag: member="utils.h::ast_copy_flags_nonstd" ref="a1df9d2c29cdf694bbb02c385d670b866" args="(dest, src, flagz)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_copy_flags_nonstd</td>
          <td>(</td>
          <td class="paramtype">dest, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">src, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">flagz&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> { \
               (dest)-&gt;flags &amp;= ~(flagz); \
               (dest)-&gt;flags |= ((src)-&gt;flags &amp; (flagz)); \
               } <span class="keywordflow">while</span> (0)
</pre></div>
<p>Definition at line <a class="el" href="utils_8h_source.html#l00182">182</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

</div>
</div>
<a class="anchor" id="afb8683b4d96960d7a82a86a974a57599"></a><!-- doxytag: member="utils.h::AST_FLAGS_ALL" ref="afb8683b4d96960d7a82a86a974a57599" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_FLAGS_ALL&nbsp;&nbsp;&nbsp;UINT_MAX</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00194">194</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="features_8c_source.html#l02374">add_features_datastores()</a>, <a class="el" href="res__jabber_8c_source.html#l02660">aji_create_client()</a>, <a class="el" href="app_8c_source.html#l01776">ast_app_parse_options()</a>, <a class="el" href="cdr_8c_source.html#l01062">ast_cdr_reset()</a>, <a class="el" href="cdr_8c_source.html#l01105">ast_cdr_specialized_reset()</a>, <a class="el" href="features_8c_source.html#l01396">builtin_atxfer()</a>, <a class="el" href="pbx__dundi_8c_source.html#l01147">cache_lookup_internal()</a>, <a class="el" href="app__chanspy_8c_source.html#l00445">channel_spy()</a>, <a class="el" href="app__chanspy_8c_source.html#l01035">chanspy_exec()</a>, <a class="el" href="features_8c_source.html#l00366">check_goto_on_transfer()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00561">dundi_lookup_local()</a>, <a class="el" href="app__chanspy_8c_source.html#l01127">extenspy_exec()</a>, <a class="el" href="features_8c_source.html#l01996">feature_interpret()</a>, <a class="el" href="app__queue_8c_source.html#l07092">handle_queue_reload()</a>, <a class="el" href="app__queue_8c_source.html#l07220">load_module()</a>, <a class="el" href="res__musiconhold_8c_source.html#l01549">load_moh_classes()</a>, <a class="el" href="app__queue_8c_source.html#l06596">manager_queue_reload()</a>, <a class="el" href="features_8c_source.html#l03335">park_exec_full()</a>, <a class="el" href="app__minivm_8c_source.html#l00903">populate_defaults()</a>, <a class="el" href="app__queue_8c_source.html#l07280">reload()</a>, <a class="el" href="chan__sip_8c_source.html#l24245">reload_config()</a>, and <a class="el" href="features_8c_source.html#l02099">set_config_flags()</a>.</p>

</div>
</div>
<a class="anchor" id="a4781fd54a4ca8c7f0f8a32a6cce503c0"></a><!-- doxytag: member="utils.h::ast_pthread_create" ref="a4781fd54a4ca8c7f0f8a32a6cce503c0" args="(a, b, c, d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_pthread_create</td>
          <td>(</td>
          <td class="paramtype">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">b, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">c, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">d&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><a class="code" href="utils_8h.html#af740ee3fba7768010783e3faaf5aeb12">ast_pthread_create_stack</a>(a, b, c, d,         \
      0, __FILE__, __FUNCTION__, __LINE__, #c)
</pre></div>
<p>Definition at line <a class="el" href="utils_8h_source.html#l00376">376</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="chan__skinny_8c_source.html#l06384">accept_thread()</a>, <a class="el" href="bridging_8c_source.html#l01030">ast_bridge_impart()</a>, <a class="el" href="dial_8c_source.html#l00698">ast_dial_run()</a>, <a class="el" href="features_8c_source.html#l04642">ast_features_init()</a>, <a class="el" href="taskprocessor_8c_source.html#l00407">ast_taskprocessor_get()</a>, <a class="el" href="features_8c_source.html#l00455">bridge_call_thread_launch()</a>, <a class="el" href="bridging_8c_source.html#l00860">bridge_channel_join()</a>, <a class="el" href="app__rpt_8c_source.html#l06143">function_autopatchup()</a>, <a class="el" href="chan__skinny_8c_source.html#l04584">handle_callforward_button()</a>, <a class="el" href="chan__skinny_8c_source.html#l05578">handle_enbloc_call_message()</a>, <a class="el" href="chan__skinny_8c_source.html#l05045">handle_offhook_message()</a>, <a class="el" href="chan__skinny_8c_source.html#l05662">handle_soft_key_event_message()</a>, <a class="el" href="chan__skinny_8c_source.html#l04699">handle_stimulus_message()</a>, <a class="el" href="chan__skinny_8c_source.html#l04449">handle_transfer_button()</a>, <a class="el" href="chan__unistim_8c_source.html#l02351">HandleCallOutgoing()</a>, <a class="el" href="logger_8c_source.html#l01004">init_logger()</a>, <a class="el" href="app__rpt_8c_source.html#l15146">load_module()</a>, <a class="el" href="app__rpt_8c_source.html#l10410">local_dtmf_helper()</a>, <a class="el" href="bridge__multiplexed_8c_source.html#l00248">multiplexed_add_or_remove()</a>, <a class="el" href="chan__unistim_8c_source.html#l04585">restart_monitor()</a>, <a class="el" href="app__rpt_8c_source.html#l12919">rpt_master()</a>, <a class="el" href="app__rpt_8c_source.html#l05207">rpt_telemetry()</a>, <a class="el" href="chan__dahdi_8c_source.html#l17079">setup_dahdi()</a>, <a class="el" href="pbx__gtkconsole_8c_source.html#l00358">show_console()</a>, <a class="el" href="app__meetme_8c_source.html#l06285">sla_load_config()</a>, and <a class="el" href="app__voicemail_8c_source.html#l10395">start_poll_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="a595e2f8aa398f4bd21e381c3211235fe"></a><!-- doxytag: member="utils.h::ast_pthread_create_background" ref="a595e2f8aa398f4bd21e381c3211235fe" args="(a, b, c, d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_pthread_create_background</td>
          <td>(</td>
          <td class="paramtype">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">b, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">c, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">d&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><a class="code" href="utils_8h.html#af740ee3fba7768010783e3faaf5aeb12">ast_pthread_create_stack</a>(a, b, c, d,         \
      <a class="code" href="utils_8h.html#a291a8182b1abda8d1df13469fe92ee13">AST_BACKGROUND_STACKSIZE</a>,        \
      __FILE__, __FUNCTION__, __LINE__, #c)
</pre></div>
<p>Definition at line <a class="el" href="utils_8h_source.html#l00384">384</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="localtime_8c_source.html#l00362">add_notify()</a>, <a class="el" href="res__jabber_8c_source.html#l03035">aji_reload()</a>, <a class="el" href="autoservice_8c_source.html#l00192">ast_autoservice_start()</a>, <a class="el" href="devicestate_8c_source.html#l00722">ast_device_state_engine_init()</a>, <a class="el" href="devicestate_8c_source.html#l00823">ast_enable_distributed_devstate()</a>, <a class="el" href="asterisk_8c_source.html#l01332">ast_makesocket()</a>, <a class="el" href="sched_8c_source.html#l00160">ast_sched_thread_create()</a>, <a class="el" href="tcptls_8c_source.html#l00432">ast_tcptls_server_start()</a>, <a class="el" href="app__meetme_8c_source.html#l01998">conf_run()</a>, <a class="el" href="chan__skinny_8c_source.html#l07053">config_load()</a>, <a class="el" href="chan__dahdi_8c_source.html#l09496">do_monitor()</a>, <a class="el" href="cdr_8c_source.html#l01396">do_reload()</a>, <a class="el" href="res__musiconhold_8c_source.html#l01086">init_app_class()</a>, <a class="el" href="res__timing__pthread_8c_source.html#l00477">init_timing_thread()</a>, <a class="el" href="func__lock_8c_source.html#l00485">load_module()</a>, <a class="el" href="res__musiconhold_8c_source.html#l01223">local_ast_moh_start()</a>, <a class="el" href="chan__dahdi_8c_source.html#l09705">restart_monitor()</a>, <a class="el" href="chan__sip_8c_source.html#l22074">sip_prepare_socket()</a>, <a class="el" href="res__smdi_8c_source.html#l00861">smdi_load()</a>, <a class="el" href="chan__iax2_8c_source.html#l11705">start_network_thread()</a>, <a class="el" href="chan__console_8c_source.html#l00348">start_stream()</a>, <a class="el" href="chan__usbradio_8c_source.html#l03406">store_config()</a>, and <a class="el" href="chan__usbradio_8c_source.html#l01696">usbradio_call()</a>.</p>

</div>
</div>
<a class="anchor" id="a832647380b1f97e7ac1b4492f8816d46"></a><!-- doxytag: member="utils.h::ast_pthread_create_detached" ref="a832647380b1f97e7ac1b4492f8816d46" args="(a, b, c, d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_pthread_create_detached</td>
          <td>(</td>
          <td class="paramtype">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">b, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">c, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">d&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><a class="code" href="utils_8h.html#af13d115905cb377f2e1b2e46fec92257">ast_pthread_create_detached_stack</a>(a, b, c, d,      \
      0, __FILE__, __FUNCTION__, __LINE__, #c)
</pre></div>
<p>Definition at line <a class="el" href="utils_8h_source.html#l00380">380</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="manager_8c_source.html#l02392">action_originate()</a>, <a class="el" href="pbx_8c_source.html#l08106">ast_pbx_outgoing_app()</a>, <a class="el" href="pbx_8c_source.html#l07940">ast_pbx_outgoing_exten()</a>, <a class="el" href="pbx_8c_source.html#l04559">ast_pbx_start()</a>, <a class="el" href="chan__dahdi_8c_source.html#l05699">dahdi_handle_event()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00786">dundi_answer_entity()</a>, <a class="el" href="pbx__dundi_8c_source.html#l01064">dundi_answer_query()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00917">dundi_prop_precache()</a>, <a class="el" href="chan__mgcp_8c_source.html#l02938">handle_hd_hf()</a>, <a class="el" href="chan__dahdi_8c_source.html#l09269">handle_init_event()</a>, <a class="el" href="pbx__spool_8c_source.html#l00357">launch_service()</a>, <a class="el" href="asterisk_8c_source.html#l03095">main()</a>, <a class="el" href="chan__dahdi_8c_source.html#l08925">mwi_thread()</a>, <a class="el" href="chan__iax2_8c_source.html#l08898">spawn_dp_lookup()</a>, and <a class="el" href="chan__iax2_8c_source.html#l11705">start_network_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="aa73be876e3a4024b91ce2e09d8b945d1"></a><!-- doxytag: member="utils.h::ast_pthread_create_detached_background" ref="aa73be876e3a4024b91ce2e09d8b945d1" args="(a, b, c, d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_pthread_create_detached_background</td>
          <td>(</td>
          <td class="paramtype">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">b, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">c, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">d&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><a class="code" href="utils_8h.html#af13d115905cb377f2e1b2e46fec92257">ast_pthread_create_detached_stack</a>(a, b, c, d,      \
      <a class="code" href="utils_8h.html#a291a8182b1abda8d1df13469fe92ee13">AST_BACKGROUND_STACKSIZE</a>,        \
      __FILE__, __FUNCTION__, __LINE__, #c)
</pre></div>
<p>Definition at line <a class="el" href="utils_8h_source.html#l00389">389</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="cdr_8c_source.html#l01183">ast_cdr_submit_batch()</a>, <a class="el" href="tcptls_8c_source.html#l00233">ast_tcptls_server_root()</a>, <a class="el" href="app__meetme_8c_source.html#l01998">conf_run()</a>, <a class="el" href="chan__iax2_8c_source.html#l01264">find_idle_thread()</a>, <a class="el" href="chan__iax2_8c_source.html#l08941">iax_park()</a>, <a class="el" href="app__mixmonitor_8c_source.html#l00398">launch_monitor_thread()</a>, <a class="el" href="asterisk_8c_source.html#l01255">listener()</a>, <a class="el" href="pbx__spool_8c_source.html#l00513">load_module()</a>, <a class="el" href="chan__sip_8c_source.html#l18778">sip_park()</a>, <a class="el" href="app__meetme_8c_source.html#l04832">sla_handle_dial_state_event()</a>, and <a class="el" href="app__meetme_8c_source.html#l05601">sla_station_exec()</a>.</p>

</div>
</div>
<a class="anchor" id="a67b6713ff86cf82aaed821e9a87d1c21"></a><!-- doxytag: member="utils.h::ast_set2_flag" ref="a67b6713ff86cf82aaed821e9a87d1c21" args="(p, value, flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_set2_flag</td>
          <td>(</td>
          <td class="paramtype">p, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">value, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">flag&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00092">92</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="pbx_8c_source.html#l04214">__ast_pbx_run()</a>, <a class="el" href="app__macro_8c_source.html#l00219">_macro_exec()</a>, <a class="el" href="res__jabber_8c_source.html#l02660">aji_create_client()</a>, <a class="el" href="res__jabber_8c_source.html#l02907">aji_load_config()</a>, <a class="el" href="app__minivm_8c_source.html#l02515">apply_general_options()</a>, <a class="el" href="app__voicemail_8c_source.html#l00949">apply_option()</a>, <a class="el" href="pbx__spool_8c_source.html#l00110">apply_outgoing()</a>, <a class="el" href="features_8c_source.html#l02441">ast_bridge_call()</a>, <a class="el" href="abstract__jb_8c_source.html#l00571">ast_jb_read_conf()</a>, <a class="el" href="asterisk_8c_source.html#l02784">ast_readconfig()</a>, <a class="el" href="rtp_8c_source.html#l00811">ast_rtp_setdtmf()</a>, <a class="el" href="rtp_8c_source.html#l00816">ast_rtp_setdtmfcompensate()</a>, <a class="el" href="rtp_8c_source.html#l00821">ast_rtp_setstun()</a>, <a class="el" href="translate_8c_source.html#l00308">ast_translate()</a>, <a class="el" href="chan__iax2_8c_source.html#l11880">build_peer()</a>, <a class="el" href="chan__iax2_8c_source.html#l12156">build_user()</a>, <a class="el" href="chan__iax2_8c_source.html#l07197">check_access()</a>, <a class="el" href="app__dial_8c_source.html#l01515">dial_exec_full()</a>, <a class="el" href="cdr_8c_source.html#l01396">do_reload()</a>, <a class="el" href="app__minivm_8c_source.html#l00955">find_account()</a>, <a class="el" href="app__voicemail_8c_source.html#l01288">find_user()</a>, <a class="el" href="app__forkcdr_8c_source.html#l00229">forkcdr_exec()</a>, <a class="el" href="chan__sip_8c_source.html#l23300">handle_common_options()</a>, <a class="el" href="chan__sip_8c_source.html#l23255">handle_t38_options()</a>, <a class="el" href="app__minivm_8c_source.html#l02573">load_config()</a>, <a class="el" href="cdr__radius_8c_source.html#l00230">load_module()</a>, <a class="el" href="res__musiconhold_8c_source.html#l01549">load_moh_classes()</a>, <a class="el" href="res__musiconhold_8c_source.html#l01223">local_ast_moh_start()</a>, <a class="el" href="chan__sip_8c_source.html#l24245">reload_config()</a>, and <a class="el" href="chan__iax2_8c_source.html#l12493">set_config()</a>.</p>

</div>
</div>
<a class="anchor" id="a175bbf1368dca74d9c2062a79e7425bd"></a><!-- doxytag: member="utils.h::ast_set2_flag64" ref="a175bbf1368dca74d9c2062a79e7425bd" args="(p, value, flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_set2_flag64</td>
          <td>(</td>
          <td class="paramtype">p, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">value, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">flag&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00149">149</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="app__dial_8c_source.html#l01515">dial_exec_full()</a>.</p>

</div>
</div>
<a class="anchor" id="a3d3f8e1143471d57a943cf2694f8a4e2"></a><!-- doxytag: member="utils.h::ast_set2_flag_nonstd" ref="a3d3f8e1143471d57a943cf2694f8a4e2" args="(p, value, flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_set2_flag_nonstd</td>
          <td>(</td>
          <td class="paramtype">p, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">value, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">flag&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00187">187</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab5033a1f3d781d45e7ccc27598114510"></a><!-- doxytag: member="utils.h::ast_set_flag" ref="ab5033a1f3d781d45e7ccc27598114510" args="(p, flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_set_flag</td>
          <td>(</td>
          <td class="paramtype">p, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">flag&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00068">68</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="channel_8c_source.html#l00772">__ast_channel_alloc_ap()</a>, <a class="el" href="pbx_8c_source.html#l04214">__ast_pbx_run()</a>, <a class="el" href="channel_8c_source.html#l02636">__ast_read()</a>, <a class="el" href="channel_8c_source.html#l03851">__ast_request_and_dial()</a>, <a class="el" href="chan__sip_8c_source.html#l10966">__sip_subscribe_mwi_do()</a>, <a class="el" href="app__macro_8c_source.html#l00219">_macro_exec()</a>, <a class="el" href="manager_8c_source.html#l02084">action_redirect()</a>, <a class="el" href="res__jabber_8c_source.html#l02907">aji_load_config()</a>, <a class="el" href="app__followme_8c_source.html#l01003">app_exec()</a>, <a class="el" href="pbx__dundi_8c_source.html#l01271">apply_peer()</a>, <a class="el" href="app_8c_source.html#l01776">ast_app_parse_options()</a>, <a class="el" href="autoservice_8c_source.html#l00192">ast_autoservice_start()</a>, <a class="el" href="features_8c_source.html#l02441">ast_bridge_call()</a>, <a class="el" href="bridging_8c_source.html#l01302">ast_bridge_features_set_flag()</a>, <a class="el" href="bridging_8c_source.html#l00448">ast_bridge_new()</a>, <a class="el" href="channel_8c_source.html#l04042">ast_call()</a>, <a class="el" href="cdr_8c_source.html#l01234">ast_cdr_detach()</a>, <a class="el" href="app__forkcdr_8c_source.html#l00176">ast_cdr_fork()</a>, <a class="el" href="cdr_8c_source.html#l00496">ast_cdr_merge()</a>, <a class="el" href="cdr_8c_source.html#l01062">ast_cdr_reset()</a>, <a class="el" href="cdr_8c_source.html#l01105">ast_cdr_specialized_reset()</a>, <a class="el" href="channel_8c_source.html#l05055">ast_channel_bridge()</a>, <a class="el" href="channel_8c_source.html#l01146">ast_channel_defer_dtmf()</a>, <a class="el" href="channel_8c_source.html#l04393">ast_do_masquerade()</a>, <a class="el" href="dsp_8c_source.html#l01306">ast_dsp_process()</a>, <a class="el" href="channel_8c_source.html#l04776">ast_generic_bridge()</a>, <a class="el" href="channel_8c_source.html#l01690">ast_hangup()</a>, <a class="el" href="abstract__jb_8c_source.html#l00202">ast_jb_do_usecheck()</a>, <a class="el" href="abstract__jb_8c_source.html#l00303">ast_jb_put()</a>, <a class="el" href="rtp_8c_source.html#l04398">ast_rtp_bridge()</a>, <a class="el" href="rtp_8c_source.html#l02519">ast_rtp_new_init()</a>, <a class="el" href="rtp_8c_source.html#l02533">ast_rtp_new_with_bindaddr()</a>, <a class="el" href="rtp_8c_source.html#l03609">ast_rtp_raw_write()</a>, <a class="el" href="rtp_8c_source.html#l01562">ast_rtp_read()</a>, <a class="el" href="res__speech_8c_source.html#l00245">ast_speech_change_state()</a>, <a class="el" href="translate_8c_source.html#l00214">ast_trans_frameout()</a>, <a class="el" href="channel_8c_source.html#l02041">ast_waitfor_nandfds()</a>, <a class="el" href="channel_8c_source.html#l02438">ast_waitfordigit_full()</a>, <a class="el" href="app__channelredirect_8c_source.html#l00065">asyncgoto_exec()</a>, <a class="el" href="chan__iax2_8c_source.html#l07812">authenticate_reply()</a>, <a class="el" href="chan__iax2_8c_source.html#l07462">authenticate_request()</a>, <a class="el" href="bridging_8c_source.html#l00778">bridge_channel_feature()</a>, <a class="el" href="rtp_8c_source.html#l01508">bridge_p2p_rtp_write()</a>, <a class="el" href="chan__iax2_8c_source.html#l11880">build_peer()</a>, <a class="el" href="chan__iax2_8c_source.html#l12156">build_user()</a>, <a class="el" href="features_8c_source.html#l01396">builtin_atxfer()</a>, <a class="el" href="features_8c_source.html#l01265">builtin_blindtransfer()</a>, <a class="el" href="chan__sip_8c_source.html#l12781">cb_extensionstate()</a>, <a class="el" href="app__chanspy_8c_source.html#l00431">change_spy_mode()</a>, <a class="el" href="app__chanspy_8c_source.html#l00445">channel_spy()</a>, <a class="el" href="app__chanspy_8c_source.html#l01035">chanspy_exec()</a>, <a class="el" href="chan__iax2_8c_source.html#l07197">check_access()</a>, <a class="el" href="chan__agent_8c_source.html#l01350">check_availability()</a>, <a class="el" href="chan__local_8c_source.html#l00289">check_bridge()</a>, <a class="el" href="chan__sip_8c_source.html#l13923">check_peer_ok()</a>, <a class="el" href="chan__sip_8c_source.html#l14088">check_user_full()</a>, <a class="el" href="chan__sip_8c_source.html#l13770">check_via()</a>, <a class="el" href="app__chanspy_8c_source.html#l00767">common_exec()</a>, <a class="el" href="app__rpt_8c_source.html#l05678">connect_link()</a>, <a class="el" href="chan__sip_8c_source.html#l05102">create_addr_from_peer()</a>, <a class="el" href="pbx__dundi_8c_source.html#l02900">create_transaction()</a>, <a class="el" href="codec__dahdi_8c_source.html#l00299">dahdi_decoder_frameout()</a>, <a class="el" href="codec__dahdi_8c_source.html#l00224">dahdi_encoder_frameout()</a>, <a class="el" href="chan__dahdi_8c_source.html#l06717">dahdi_read()</a>, <a class="el" href="chan__iax2_8c_source.html#l06017">decrypt_frame()</a>, <a class="el" href="pbx__dundi_8c_source.html#l02956">destroy_trans()</a>, <a class="el" href="app__dial_8c_source.html#l01515">dial_exec_full()</a>, <a class="el" href="app__meetme_8c_source.html#l05474">dial_trunk()</a>, <a class="el" href="app__dictate_8c_source.html#l00084">dictate_exec()</a>, <a class="el" href="app__directory_8c_source.html#l00723">directory_exec()</a>, <a class="el" href="app__disa_8c_source.html#l00143">disa_exec()</a>, <a class="el" href="pbx__dundi_8c_source.html#l04290">do_register()</a>, <a class="el" href="app__dial_8c_source.html#l01143">do_timelimit()</a>, <a class="el" href="pbx__dundi_8c_source.html#l01403">dundi_encrypt()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00561">dundi_lookup_local()</a>, <a class="el" href="pbx__dundi_8c_source.html#l03062">dundi_send()</a>, <a class="el" href="app__chanspy_8c_source.html#l01127">extenspy_exec()</a>, <a class="el" href="chan__sip_8c_source.html#l04965">find_peer()</a>, <a class="el" href="app__voicemail_8c_source.html#l01251">find_user_realtime()</a>, <a class="el" href="app__voicemail_8c_source.html#l10538">free_vm_users()</a>, <a class="el" href="chan__iax2_8c_source.html#l03393">handle_cli_iax2_prune_realtime()</a>, <a class="el" href="pbx__dundi_8c_source.html#l01553">handle_command_response()</a>, <a class="el" href="chan__sip_8c_source.html#l23300">handle_common_options()</a>, <a class="el" href="res__agi_8c_source.html#l01718">handle_exec()</a>, <a class="el" href="chan__sip_8c_source.html#l19184">handle_invite_replaces()</a>, <a class="el" href="app__queue_8c_source.html#l07092">handle_queue_reload()</a>, <a class="el" href="chan__sip_8c_source.html#l19641">handle_request_invite()</a>, <a class="el" href="chan__sip_8c_source.html#l20572">handle_request_refer()</a>, <a class="el" href="chan__sip_8c_source.html#l21175">handle_request_subscribe()</a>, <a class="el" href="chan__sip_8c_source.html#l18268">handle_response()</a>, <a class="el" href="chan__sip_8c_source.html#l17572">handle_response_invite()</a>, <a class="el" href="chan__sip_8c_source.html#l23255">handle_t38_options()</a>, <a class="el" href="cli_8c_source.html#l00361">handle_verbose()</a>, <a class="el" href="app__queue_8c_source.html#l02300">hangupcalls()</a>, <a class="el" href="app__dial_8c_source.html#l00574">hanguptree()</a>, <a class="el" href="chan__iax2_8c_source.html#l03200">iax2_predestroy()</a>, <a class="el" href="chan__iax2_8c_source.html#l11321">iax2_provision()</a>, <a class="el" href="chan__iax2_8c_source.html#l05121">iax2_start_transfer()</a>, <a class="el" href="func__odbc_8c_source.html#l00745">init_acf_query()</a>, <a class="el" href="res__musiconhold_8c_source.html#l01086">init_app_class()</a>, <a class="el" href="res__musiconhold_8c_source.html#l01041">init_files_class()</a>, <a class="el" href="pbx__spool_8c_source.html#l00088">init_outgoing()</a>, <a class="el" href="chan__sip_8c_source.html#l06424">interpret_t38_parameters()</a>, <a class="el" href="app__mixmonitor_8c_source.html#l00398">launch_monitor_thread()</a>, <a class="el" href="app__voicemail_8c_source.html#l05141">leave_voicemail()</a>, <a class="el" href="app_8c_source.html#l00433">linear_alloc()</a>, <a class="el" href="features_8c_source.html#l03672">load_config()</a>, <a class="el" href="res__musiconhold_8c_source.html#l01549">load_moh_classes()</a>, <a class="el" href="chan__local_8c_source.html#l00670">local_alloc()</a>, <a class="el" href="res__musiconhold_8c_source.html#l01223">local_ast_moh_start()</a>, <a class="el" href="chan__sip_8c_source.html#l20405">local_attended_transfer()</a>, <a class="el" href="chan__local_8c_source.html#l00518">local_call()</a>, <a class="el" href="chan__local_8c_source.html#l00582">local_hangup()</a>, <a class="el" href="chan__local_8c_source.html#l00206">local_queue_frame()</a>, <a class="el" href="chan__agent_8c_source.html#l01981">login_exec()</a>, <a class="el" href="asterisk_8c_source.html#l03095">main()</a>, <a class="el" href="features_8c_source.html#l03009">manage_parkinglot()</a>, <a class="el" href="app__queue_8c_source.html#l06596">manager_queue_reload()</a>, <a class="el" href="chan__sip_8c_source.html#l11366">manager_sipnotify()</a>, <a class="el" href="app__minivm_8c_source.html#l01971">minivm_greet_exec()</a>, <a class="el" href="app__cdr_8c_source.html#l00049">nocdr_exec()</a>, <a class="el" href="cdr__odbc_8c_source.html#l00152">odbc_load_module()</a>, <a class="el" href="features_8c_source.html#l00678">park_call_full()</a>, <a class="el" href="features_8c_source.html#l03335">park_exec_full()</a>, <a class="el" href="chan__iax2_8c_source.html#l12396">peer_delme_cb()</a>, <a class="el" href="indications_8c_source.html#l00127">playtones_alloc()</a>, <a class="el" href="cdr_8c_source.html#l01029">post_cdr()</a>, <a class="el" href="rtp_8c_source.html#l01120">process_rfc3389()</a>, <a class="el" href="chan__sip_8c_source.html#l08040">process_sdp()</a>, <a class="el" href="chan__iax2_8c_source.html#l01715">pvt_destructor()</a>, <a class="el" href="pbx__dundi_8c_source.html#l04324">qualify_peer()</a>, <a class="el" href="chan__iax2_8c_source.html#l04115">realtime_peer()</a>, <a class="el" href="chan__iax2_8c_source.html#l04235">realtime_user()</a>, <a class="el" href="app__record_8c_source.html#l00132">record_exec()</a>, <a class="el" href="chan__iax2_8c_source.html#l07596">register_verify()</a>, <a class="el" href="chan__sip_8c_source.html#l24245">reload_config()</a>, <a class="el" href="app__queue_8c_source.html#l02467">ring_entry()</a>, <a class="el" href="app__rpt_8c_source.html#l10730">rpt()</a>, <a class="el" href="app__rpt_8c_source.html#l05280">rpt_call()</a>, <a class="el" href="app__rpt_8c_source.html#l13122">rpt_exec()</a>, <a class="el" href="app__rpt_8c_source.html#l03937">rpt_tele_thread()</a>, <a class="el" href="app__meetme_8c_source.html#l04673">run_station()</a>, <a class="el" href="features_8c_source.html#l02342">set_bridge_features_on_config()</a>, <a class="el" href="chan__iax2_8c_source.html#l12493">set_config()</a>, <a class="el" href="features_8c_source.html#l02099">set_config_flags()</a>, <a class="el" href="chan__sip_8c_source.html#l23229">set_insecure_flags()</a>, <a class="el" href="chan__sip_8c_source.html#l06187">sip_answer()</a>, <a class="el" href="chan__sip_8c_source.html#l05373">sip_call()</a>, <a class="el" href="chan__sip_8c_source.html#l16891">sip_cli_notify()</a>, <a class="el" href="chan__sip_8c_source.html#l25380">sip_dtmfmode()</a>, <a class="el" href="chan__sip_8c_source.html#l05956">sip_hangup()</a>, <a class="el" href="chan__sip_8c_source.html#l06491">sip_indicate()</a>, <a class="el" href="chan__sip_8c_source.html#l22876">sip_poke_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l17557">sip_reinvite_retry()</a>, <a class="el" href="chan__sip_8c_source.html#l22279">sip_send_mwi_to_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l04476">sip_sendhtml()</a>, <a class="el" href="chan__sip_8c_source.html#l25305">sip_set_rtp_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l25198">sip_set_udptl_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l06207">sip_write()</a>, <a class="el" href="app__meetme_8c_source.html#l05601">sla_station_exec()</a>, <a class="el" href="app__meetme_8c_source.html#l05808">sla_trunk_exec()</a>, <a class="el" href="chan__iax2_8c_source.html#l09458">socket_process()</a>, <a class="el" href="app__chanspy_8c_source.html#l00409">start_spying()</a>, <a class="el" href="channel_8c_source.html#l05367">tonepair_alloc()</a>, <a class="el" href="chan__sip_8c_source.html#l11545">transmit_register()</a>, <a class="el" href="chan__sip_8c_source.html#l10498">transmit_reinvite_with_sdp()</a>, <a class="el" href="app__queue_8c_source.html#l03569">try_calling()</a>, <a class="el" href="chan__sip_8c_source.html#l05634">update_call_counter()</a>, <a class="el" href="chan__iax2_8c_source.html#l12405">user_delme_cb()</a>, <a class="el" href="app__voicemail_8c_source.html#l09099">vm_execmain()</a>, <a class="el" href="func__volume_8c_source.html#l00121">volume_write()</a>, and <a class="el" href="file_8c_source.html#l01168">waitstream_core()</a>.</p>

</div>
</div>
<a class="anchor" id="ab2de736b42974f12ec7d57c41d234bf4"></a><!-- doxytag: member="utils.h::ast_set_flag64" ref="ab2de736b42974f12ec7d57c41d234bf4" args="(p, flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_set_flag64</td>
          <td>(</td>
          <td class="paramtype">p, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">flag&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00125">125</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="app_8c_source.html#l01818">ast_app_parse_options64()</a>, and <a class="el" href="app__dial_8c_source.html#l01515">dial_exec_full()</a>.</p>

</div>
</div>
<a class="anchor" id="a0c85a8ea758aa5fa64260d7b29af6564"></a><!-- doxytag: member="utils.h::ast_set_flag_nonstd" ref="a0c85a8ea758aa5fa64260d7b29af6564" args="(p, flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_set_flag_nonstd</td>
          <td>(</td>
          <td class="paramtype">p, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">flag&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> { \
               ((p)-&gt;flags |= (flag)); \
               } <span class="keywordflow">while</span>(0)
</pre></div>
<p>Definition at line <a class="el" href="utils_8h_source.html#l00174">174</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="pbx__dundi_8c_source.html#l03574">dundi_lookup_internal()</a>, <a class="el" href="pbx__dundi_8c_source.html#l03826">dundi_query_eid_internal()</a>, and <a class="el" href="pbx__dundi_8c_source.html#l01553">handle_command_response()</a>.</p>

</div>
</div>
<a class="anchor" id="af369c4577c71400e8bf7924d8b12ad3f"></a><!-- doxytag: member="utils.h::ast_set_flags_to" ref="af369c4577c71400e8bf7924d8b12ad3f" args="(p, flag, value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_set_flags_to</td>
          <td>(</td>
          <td class="paramtype">p, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">flag, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">value&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00102">102</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="chan__iax2_8c_source.html#l11880">build_peer()</a>, <a class="el" href="chan__iax2_8c_source.html#l12156">build_user()</a>, and <a class="el" href="chan__iax2_8c_source.html#l12493">set_config()</a>.</p>

</div>
</div>
<a class="anchor" id="a3235d1a908ad36d9708de980754f06f4"></a><!-- doxytag: member="utils.h::ast_set_flags_to64" ref="a3235d1a908ad36d9708de980754f06f4" args="(p, flag, value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_set_flags_to64</td>
          <td>(</td>
          <td class="paramtype">p, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">flag, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">value&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00159">159</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

</div>
</div>
<a class="anchor" id="a47e9ccd65c7bb239af68c006ceae18b4"></a><!-- doxytag: member="utils.h::AST_STACKSIZE" ref="a47e9ccd65c7bb239af68c006ceae18b4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_STACKSIZE&nbsp;&nbsp;&nbsp;(((sizeof(void *) * 8 * 8) - 16) * 1024)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00357">357</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="utils_8c_source.html#l00977">ast_pthread_create_stack()</a>.</p>

</div>
</div>
<a class="anchor" id="ab5f0750cc80ba337fdcbddea2d3a1ee6"></a><!-- doxytag: member="utils.h::ast_strdupa" ref="ab5f0750cc80ba337fdcbddea2d3a1ee6" args="(s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_strdupa</td>
          <td>(</td>
          <td class="paramtype">s&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>duplicate a string in memory from the stack </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The string to duplicate</td></tr>
  </table>
  </dd>
</dl>
<p>This macro will duplicate the given string. It returns a pointer to the stack allocatted memory for the new string. </p>

<p>Definition at line <a class="el" href="utils_8h_source.html#l00616">616</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="app_8c_source.html#l00668">__ast_play_and_record()</a>, <a class="el" href="pbx__gtkconsole_8c_source.html#l00100">__verboser()</a>, <a class="el" href="devicestate_8c_source.html#l00308">_ast_device_state()</a>, <a class="el" href="misdn__config_8c_source.html#l00960">_build_port_config()</a>, <a class="el" href="app__macro_8c_source.html#l00219">_macro_exec()</a>, <a class="el" href="misdn__config_8c_source.html#l00870">_parse()</a>, <a class="el" href="app__while_8c_source.html#l00189">_while_exec()</a>, <a class="el" href="chan__sip_8c_source.html#l20916">acf_channel_read()</a>, <a class="el" href="app__meetme_8c_source.html#l06355">acf_meetme_info()</a>, <a class="el" href="func__odbc_8c_source.html#l00203">acf_odbc_write()</a>, <a class="el" href="chan__agent_8c_source.html#l01565">action_agents()</a>, <a class="el" href="manager_8c_source.html#l01803">action_setvar()</a>, <a class="el" href="manager_8c_source.html#l01904">action_status()</a>, <a class="el" href="chan__agent_8c_source.html#l00357">add_agent()</a>, <a class="el" href="chan__sip_8c_source.html#l23665">add_peer_mailboxes()</a>, <a class="el" href="http_8c_source.html#l00793">add_redirect()</a>, <a class="el" href="chan__sip_8c_source.html#l23568">add_var()</a>, <a class="el" href="app__meetme_8c_source.html#l03969">admin_exec()</a>, <a class="el" href="app__voicemail_8c_source.html#l11416">advanced_options()</a>, <a class="el" href="chan__agent_8c_source.html#l01645">agent_logoff_maintenance()</a>, <a class="el" href="res__agi_8c_source.html#l02777">agi_handle_command()</a>, <a class="el" href="res__jabber_8c_source.html#l00548">aji_send_exec()</a>, <a class="el" href="res__jabber_8c_source.html#l00432">aji_status_exec()</a>, <a class="el" href="dial_8c_source.html#l00080">answer_exec_enable()</a>, <a class="el" href="app__externalivr_8c_source.html#l00314">app_exec()</a>, <a class="el" href="app__voicemail_8c_source.html#l09902">append_mailbox()</a>, <a class="el" href="res__smdi_8c_source.html#l00752">append_mailbox_mapping()</a>, <a class="el" href="res__config__ldap_8c_source.html#l00686">append_var_and_value_to_filter()</a>, <a class="el" href="app__voicemail_8c_source.html#l01162">apply_options()</a>, <a class="el" href="app__queue_8c_source.html#l04893">aqm_exec()</a>, <a class="el" href="func__strings_8c_source.html#l00577">array()</a>, <a class="el" href="res__jabber_8c_source.html#l02954">ast_aji_get_client()</a>, <a class="el" href="app_8c_source.html#l00130">ast_app_getdata()</a>, <a class="el" href="acl_8c_source.html#l00272">ast_append_ha()</a>, <a class="el" href="features_8c_source.html#l02441">ast_bridge_call()</a>, <a class="el" href="pbx_8c_source.html#l06939">ast_build_timing()</a>, <a class="el" href="callerid_8c_source.html#l01087">ast_callerid_split()</a>, <a class="el" href="app__forkcdr_8c_source.html#l00176">ast_cdr_fork()</a>, <a class="el" href="app__externalivr_8c_source.html#l00283">ast_eivr_setvariable()</a>, <a class="el" href="asterisk_8c_source.html#l02547">ast_el_add_history()</a>, <a class="el" href="event_8c_source.html#l00322">ast_event_check_subscriber()</a>, <a class="el" href="event_8c_source.html#l00897">ast_event_new()</a>, <a class="el" href="file_8c_source.html#l00408">ast_filehelper()</a>, <a class="el" href="file_8c_source.html#l01354">ast_format_str_reduce()</a>, <a class="el" href="pbx_8c_source.html#l03356">ast_func_read()</a>, <a class="el" href="pbx_8c_source.html#l03379">ast_func_write()</a>, <a class="el" href="channel_8c_source.html#l05485">ast_get_group()</a>, <a class="el" href="utils_8c_source.html#l01765">ast_mkdir()</a>, <a class="el" href="res__monitor_8c_source.html#l00415">ast_monitor_change_fname()</a>, <a class="el" href="res__monitor_8c_source.html#l00148">ast_monitor_start()</a>, <a class="el" href="netsock_8c_source.html#l00174">ast_netsock_bind()</a>, <a class="el" href="frame_8c_source.html#l01233">ast_parse_allow_disallow()</a>, <a class="el" href="config_8c_source.html#l02286">ast_parse_arg()</a>, <a class="el" href="indications_8c_source.html#l00301">ast_playtones_start()</a>, <a class="el" href="asterisk_8c_source.html#l00296">ast_register_file_version()</a>, <a class="el" href="file_8c_source.html#l01033">ast_writefile()</a>, <a class="el" href="manager_8c_source.html#l00903">astman_get_variables()</a>, <a class="el" href="app__channelredirect_8c_source.html#l00065">asyncgoto_exec()</a>, <a class="el" href="app__authenticate_8c_source.html#l00108">auth_exec()</a>, <a class="el" href="chan__iax2_8c_source.html#l07812">authenticate_reply()</a>, <a class="el" href="chan__iax2_8c_source.html#l07515">authenticate_verify()</a>, <a class="el" href="app__talkdetect_8c_source.html#l00076">background_detect_exec()</a>, <a class="el" href="features_8c_source.html#l04524">bridge_exec()</a>, <a class="el" href="channel_8c_source.html#l05027">bridge_play_sounds()</a>, <a class="el" href="chan__dahdi_8c_source.html#l15948">build_channels()</a>, <a class="el" href="chan__mgcp_8c_source.html#l03552">build_gateway()</a>, <a class="el" href="pbx__dundi_8c_source.html#l04216">build_mapping()</a>, <a class="el" href="chan__iax2_8c_source.html#l11880">build_peer()</a>, <a class="el" href="res__phoneprov_8c_source.html#l00583">build_profile()</a>, <a class="el" href="chan__iax2_8c_source.html#l12156">build_user()</a>, <a class="el" href="features_8c_source.html#l01396">builtin_atxfer()</a>, <a class="el" href="features_8c_source.html#l01105">builtin_automixmonitor()</a>, <a class="el" href="features_8c_source.html#l01012">builtin_automonitor()</a>, <a class="el" href="chan__iax2_8c_source.html#l13001">cache_get_callno_locked()</a>, <a class="el" href="func__callerid_8c_source.html#l00191">callerid_write()</a>, <a class="el" href="app__chanisavail_8c_source.html#l00097">chanavail_exec()</a>, <a class="el" href="app__meetme_8c_source.html#l04151">channel_admin_exec()</a>, <a class="el" href="app__chanspy_8c_source.html#l00445">channel_spy()</a>, <a class="el" href="app__chanspy_8c_source.html#l01035">chanspy_exec()</a>, <a class="el" href="chan__iax2_8c_source.html#l07197">check_access()</a>, <a class="el" href="manager_8c_source.html#l02216">check_blacklist()</a>, <a class="el" href="pval_8c_source.html#l00940">check_day()</a>, <a class="el" href="pval_8c_source.html#l00901">check_dow()</a>, <a class="el" href="features_8c_source.html#l00366">check_goto_on_transfer()</a>, <a class="el" href="pval_8c_source.html#l01003">check_month()</a>, <a class="el" href="chan__sip_8c_source.html#l13923">check_peer_ok()</a>, <a class="el" href="pval_8c_source.html#l02180">check_switch_expr()</a>, <a class="el" href="pval_8c_source.html#l00833">check_timerange()</a>, <a class="el" href="chan__sip_8c_source.html#l14088">check_user_full()</a>, <a class="el" href="func__odbc_8c_source.html#l00978">cli_odbc_read()</a>, <a class="el" href="func__odbc_8c_source.html#l01177">cli_odbc_write()</a>, <a class="el" href="app__meetme_8c_source.html#l01148">complete_meetmecmd()</a>, <a class="el" href="app__dahdiscan_8c_source.html#l00290">conf_exec()</a>, <a class="el" href="app__meetme_8c_source.html#l01998">conf_run()</a>, <a class="el" href="app__meetme_8c_source.html#l01877">conf_start_moh()</a>, <a class="el" href="app__confbridge_8c_source.html#l00687">confbridge_exec()</a>, <a class="el" href="func__config_8c_source.html#l00064">config_function_read()</a>, <a class="el" href="chan__skinny_8c_source.html#l06906">config_line()</a>, <a class="el" href="cdr__pgsql_8c_source.html#l00362">config_module()</a>, <a class="el" href="app__controlplayback_8c_source.html#l00128">controlplayback_exec()</a>, <a class="el" href="app__meetme_8c_source.html#l03650">count_exec()</a>, <a class="el" href="chan__iax2_8c_source.html#l04337">create_addr()</a>, <a class="el" href="chan__sip_8c_source.html#l05102">create_addr_from_peer()</a>, <a class="el" href="app__minivm_8c_source.html#l02299">create_vmaccount()</a>, <a class="el" href="func__cut_8c_source.html#l00154">cut_internal()</a>, <a class="el" href="chan__dahdi_8c_source.html#l10834">dahdi_request()</a>, <a class="el" href="app__dahdiras_8c_source.html#l00190">dahdiras_exec()</a>, <a class="el" href="chan__iax2_8c_source.html#l06017">decrypt_frame()</a>, <a class="el" href="app__db_8c_source.html#l00117">del_exec()</a>, <a class="el" href="app__db_8c_source.html#l00086">deltree_exec()</a>, <a class="el" href="app__dial_8c_source.html#l01515">dial_exec_full()</a>, <a class="el" href="app__meetme_8c_source.html#l05474">dial_trunk()</a>, <a class="el" href="func__dialgroup_8c_source.html#l00168">dialgroup_refreshdb()</a>, <a class="el" href="func__dialgroup_8c_source.html#l00193">dialgroup_write()</a>, <a class="el" href="app__dictate_8c_source.html#l00084">dictate_exec()</a>, <a class="el" href="app__directory_8c_source.html#l00723">directory_exec()</a>, <a class="el" href="app__disa_8c_source.html#l00143">disa_exec()</a>, <a class="el" href="chan__misdn_8c_source.html#l04143">do_immediate_setup()</a>, <a class="el" href="manager_8c_source.html#l03137">do_message()</a>, <a class="el" href="app__playback_8c_source.html#l00162">do_say()</a>, <a class="el" href="app__dial_8c_source.html#l01143">do_timelimit()</a>, <a class="el" href="pbx__dundi_8c_source.html#l03972">dundi_query_read()</a>, <a class="el" href="pbx__dundi_8c_source.html#l04045">dundi_result_read()</a>, <a class="el" href="pbx__dundi_8c_source.html#l03889">dundifunc_read()</a>, <a class="el" href="func__enum_8c_source.html#l00251">enum_query_read()</a>, <a class="el" href="func__enum_8c_source.html#l00316">enum_result_read()</a>, <a class="el" href="app__exec_8c_source.html#l00132">exec_exec()</a>, <a class="el" href="app__exec_8c_source.html#l00195">execif_exec()</a>, <a class="el" href="app__chanspy_8c_source.html#l01127">extenspy_exec()</a>, <a class="el" href="features_8c_source.html#l01996">feature_interpret()</a>, <a class="el" href="app__festival_8c_source.html#l00268">festival_exec()</a>, <a class="el" href="file_8c_source.html#l00568">fileexists_core()</a>, <a class="el" href="app__meetme_8c_source.html#l03372">find_conf_realtime()</a>, <a class="el" href="chan__gtalk_8c_source.html#l00242">find_gtalk()</a>, <a class="el" href="chan__sip_8c_source.html#l07884">find_sdp()</a>, <a class="el" href="res__config__pgsql_8c_source.html#l00117">find_table()</a>, <a class="el" href="res__config__sqlite_8c_source.html#l00586">find_table_cb()</a>, <a class="el" href="app__followme_8c_source.html#l00777">findmeexec()</a>, <a class="el" href="app__forkcdr_8c_source.html#l00229">forkcdr_exec()</a>, <a class="el" href="chan__agent_8c_source.html#l02497">function_agent()</a>, <a class="el" href="chan__iax2_8c_source.html#l13324">function_iaxpeer()</a>, <a class="el" href="func__realtime_8c_source.html#l00309">function_realtime_store()</a>, <a class="el" href="chan__sip_8c_source.html#l13269">get_destination()</a>, <a class="el" href="chan__sip_8c_source.html#l13489">get_refer_info()</a>, <a class="el" href="app__stack_8c_source.html#l00328">gosub_exec()</a>, <a class="el" href="app__stack_8c_source.html#l00418">gosubif_exec()</a>, <a class="el" href="chan__gtalk_8c_source.html#l01078">gtalk_action()</a>, <a class="el" href="chan__gtalk_8c_source.html#l00909">gtalk_alloc()</a>, <a class="el" href="chan__gtalk_8c_source.html#l00773">gtalk_create_candidates()</a>, <a class="el" href="chan__gtalk_8c_source.html#l01512">gtalk_digit()</a>, <a class="el" href="chan__gtalk_8c_source.html#l00379">gtalk_invite()</a>, <a class="el" href="chan__gtalk_8c_source.html#l00458">gtalk_invite_response()</a>, <a class="el" href="chan__gtalk_8c_source.html#l01637">gtalk_request()</a>, <a class="el" href="dial_8c_source.html#l00328">handle_call_forward()</a>, <a class="el" href="cli_8c_source.html#l01004">handle_cli_check_permissions()</a>, <a class="el" href="res__convert_8c_source.html#l00062">handle_cli_file_convert()</a>, <a class="el" href="pbx_8c_source.html#l05892">handle_debug_dialplan()</a>, <a class="el" href="app__jack_8c_source.html#l00692">handle_options()</a>, <a class="el" href="chan__sip_8c_source.html#l19641">handle_request_invite()</a>, <a class="el" href="chan__sip_8c_source.html#l18980">handle_request_notify()</a>, <a class="el" href="chan__sip_8c_source.html#l21175">handle_request_subscribe()</a>, <a class="el" href="chan__sip_8c_source.html#l18268">handle_response()</a>, <a class="el" href="pbx_8c_source.html#l05825">handle_show_dialplan()</a>, <a class="el" href="chan__sip_8c_source.html#l23255">handle_t38_options()</a>, <a class="el" href="chan__dahdi_8c_source.html#l03001">has_voicemail()</a>, <a class="el" href="chan__iax2_8c_source.html#l04777">iax2_call()</a>, <a class="el" href="chan__iax2_8c_source.html#l13430">iax2_devicestate()</a>, <a class="el" href="chan__iax2_8c_source.html#l11373">iax2_prov_app()</a>, <a class="el" href="chan__iax2_8c_source.html#l11561">iax2_request()</a>, <a class="el" href="func__iconv_8c_source.html#l00077">iconv_read()</a>, <a class="el" href="func__odbc_8c_source.html#l00745">init_acf_query()</a>, <a class="el" href="app__jack_8c_source.html#l00387">init_jack_data()</a>, <a class="el" href="app__queue_8c_source.html#l01272">insert_penaltychange()</a>, <a class="el" href="cli_8c_source.html#l01722">is_prefix()</a>, <a class="el" href="app__voicemail_8c_source.html#l01226">is_valid_dtmf()</a>, <a class="el" href="app__amd_8c_source.html#l00146">isAnsweringMachine()</a>, <a class="el" href="func__dialplan_8c_source.html#l00053">isexten_function_read()</a>, <a class="el" href="app_8c_source.html#l01540">ivr_dispatch()</a>, <a class="el" href="chan__jingle_8c_source.html#l01468">jingle_request()</a>, <a class="el" href="app__mixmonitor_8c_source.html#l00398">launch_monitor_thread()</a>, <a class="el" href="res__agi_8c_source.html#l00779">launch_netscript()</a>, <a class="el" href="app__voicemail_8c_source.html#l05141">leave_voicemail()</a>, <a class="el" href="app__voicemail_8c_source.html#l10603">load_config()</a>, <a class="el" href="chan__local_8c_source.html#l00128">local_devicestate()</a>, <a class="el" href="app__verbose_8c_source.html#l00121">log_exec()</a>, <a class="el" href="chan__agent_8c_source.html#l01981">login_exec()</a>, <a class="el" href="pbx__lua_8c_source.html#l00596">lua_func_read()</a>, <a class="el" href="pbx__lua_8c_source.html#l00515">lua_get_variable()</a>, <a class="el" href="pbx__lua_8c_source.html#l00260">lua_get_variable_value()</a>, <a class="el" href="pbx__lua_8c_source.html#l00165">lua_pbx_exec()</a>, <a class="el" href="pbx__lua_8c_source.html#l00320">lua_set_variable_value()</a>, <a class="el" href="app__macro_8c_source.html#l00569">macroif_exec()</a>, <a class="el" href="asterisk_8c_source.html#l03095">main()</a>, <a class="el" href="logger_8c_source.html#l00185">make_components()</a>, <a class="el" href="app__voicemail_8c_source.html#l04163">make_email_file()</a>, <a class="el" href="features_8c_source.html#l03009">manage_parkinglot()</a>, <a class="el" href="features_8c_source.html#l00833">masq_park_call()</a>, <a class="el" href="app__meetme_8c_source.html#l04213">meetmemute()</a>, <a class="el" href="features_8c_source.html#l00519">metermaidstate()</a>, <a class="el" href="chan__mgcp_8c_source.html#l01346">mgcp_devicestate()</a>, <a class="el" href="app__minivm_8c_source.html#l02195">minivm_accmess_exec()</a>, <a class="el" href="app__minivm_8c_source.html#l02937">minivm_account_func_read()</a>, <a class="el" href="app__minivm_8c_source.html#l03089">minivm_counter_func_read()</a>, <a class="el" href="app__minivm_8c_source.html#l03145">minivm_counter_func_write()</a>, <a class="el" href="app__minivm_8c_source.html#l01971">minivm_greet_exec()</a>, <a class="el" href="app__minivm_8c_source.html#l01795">minivm_mwi_exec()</a>, <a class="el" href="app__minivm_8c_source.html#l01836">minivm_notify_exec()</a>, <a class="el" href="app__minivm_8c_source.html#l01915">minivm_record_exec()</a>, <a class="el" href="chan__misdn_8c_source.html#l02394">misdn_call()</a>, <a class="el" href="chan__misdn_8c_source.html#l05663">misdn_check_l2l1()</a>, <a class="el" href="chan__misdn_8c_source.html#l05615">misdn_facility_exec()</a>, <a class="el" href="chan__misdn_8c_source.html#l03426">misdn_request()</a>, <a class="el" href="chan__misdn_8c_source.html#l05739">misdn_set_opt_exec()</a>, <a class="el" href="app__mixmonitor_8c_source.html#l00469">mixmonitor_exec()</a>, <a class="el" href="chan__dahdi_8c_source.html#l09990">mkintf()</a>, <a class="el" href="res__musiconhold_8c_source.html#l00400">moh_handle_digit()</a>, <a class="el" href="dial_8c_source.html#l00535">monitor_dial()</a>, <a class="el" href="chan__dahdi_8c_source.html#l02940">notify_message()</a>, <a class="el" href="app__minivm_8c_source.html#l01527">notify_new_message()</a>, <a class="el" href="cdr__adaptive__odbc_8c_source.html#l00343">odbc_log()</a>, <a class="el" href="res__clioriginate_8c_source.html#l00050">orig_app()</a>, <a class="el" href="res__clioriginate_8c_source.html#l00080">orig_exten()</a>, <a class="el" href="app__originate_8c_source.html#l00092">originate_exec()</a>, <a class="el" href="app__osplookup_8c_source.html#l01255">ospauth_exec()</a>, <a class="el" href="app__osplookup_8c_source.html#l01657">ospfinished_exec()</a>, <a class="el" href="app__osplookup_8c_source.html#l01335">osplookup_exec()</a>, <a class="el" href="app__osplookup_8c_source.html#l01503">ospnext_exec()</a>, <a class="el" href="chan__oss_8c_source.html#l00591">oss_call()</a>, <a class="el" href="chan__oss_8c_source.html#l00827">oss_request()</a>, <a class="el" href="app__page_8c_source.html#l00121">page_exec()</a>, <a class="el" href="features_8c_source.html#l03249">park_call_exec()</a>, <a class="el" href="features_8c_source.html#l00566">park_space_reserve()</a>, <a class="el" href="app__parkandannounce_8c_source.html#l00088">parkandannounce_exec()</a>, <a class="el" href="app__queue_8c_source.html#l01342">parse_empty_options()</a>, <a class="el" href="chan__sip_8c_source.html#l22668">parse_session_expires()</a>, <a class="el" href="chan__sip_8c_source.html#l03386">parse_sip_options()</a>, <a class="el" href="chan__sip_8c_source.html#l04395">parse_uri()</a>, <a class="el" href="pbx_8c_source.html#l08504">pbx_builtin_answer()</a>, <a class="el" href="pbx_8c_source.html#l08798">pbx_builtin_background()</a>, <a class="el" href="pbx_8c_source.html#l08659">pbx_builtin_execiftime()</a>, <a class="el" href="pbx_8c_source.html#l09204">pbx_builtin_gotoif()</a>, <a class="el" href="pbx_8c_source.html#l08624">pbx_builtin_gotoiftime()</a>, <a class="el" href="pbx_8c_source.html#l09140">pbx_builtin_importvar()</a>, <a class="el" href="pbx_8c_source.html#l08989">pbx_builtin_pushvar_helper()</a>, <a class="el" href="pbx_8c_source.html#l08566">pbx_builtin_resetcdr()</a>, <a class="el" href="pbx_8c_source.html#l09081">pbx_builtin_setvar()</a>, <a class="el" href="pbx_8c_source.html#l09023">pbx_builtin_setvar_helper()</a>, <a class="el" href="pbx_8c_source.html#l09104">pbx_builtin_setvar_multiple()</a>, <a class="el" href="pbx_8c_source.html#l08729">pbx_builtin_waitexten()</a>, <a class="el" href="pbx_8c_source.html#l02469">pbx_find_extension()</a>, <a class="el" href="pbx_8c_source.html#l09580">pbx_parseable_goto()</a>, <a class="el" href="pbx_8c_source.html#l02867">pbx_retrieve_variable()</a>, <a class="el" href="chan__iax2_8c_source.html#l11783">peer_set_srcaddr()</a>, <a class="el" href="app__directed__pickup_8c_source.html#l00235">pickup_exec()</a>, <a class="el" href="app__directed__pickup_8c_source.html#l00264">pickupchan_exec()</a>, <a class="el" href="app__voicemail_8c_source.html#l07051">play_message()</a>, <a class="el" href="res__musiconhold_8c_source.html#l00667">play_moh_exec()</a>, <a class="el" href="app__playback_8c_source.html#l00418">playback_exec()</a>, <a class="el" href="app__queue_8c_source.html#l04764">pqm_exec()</a>, <a class="el" href="app__voicemail_8c_source.html#l03977">prep_email_sub_vars()</a>, <a class="el" href="app__privacy_8c_source.html#l00083">privacy_exec()</a>, <a class="el" href="chan__dahdi_8c_source.html#l16096">process_dahdi()</a>, <a class="el" href="chan__dahdi_8c_source.html#l16040">process_echocancel()</a>, <a class="el" href="chan__mgcp_8c_source.html#l01838">process_sdp()</a>, <a class="el" href="chan__sip_8c_source.html#l08612">process_sdp_o()</a>, <a class="el" href="app__queue_8c_source.html#l04956">ql_exec()</a>, <a class="el" href="app__queue_8c_source.html#l05031">queue_exec()</a>, <a class="el" href="app__minivm_8c_source.html#l01771">queue_mwi_event()</a>, <a class="el" href="app__queue_8c_source.html#l01385">queue_set_param()</a>, <a class="el" href="app__fax_8c_source.html#l00874">rcvfax_exec()</a>, <a class="el" href="app__read_8c_source.html#l00127">read_exec()</a>, <a class="el" href="app__readexten_8c_source.html#l00128">readexten_exec()</a>, <a class="el" href="app__readfile_8c_source.html#l00070">readfile_exec()</a>, <a class="el" href="pbx__realtime_8c_source.html#l00138">realtime_common()</a>, <a class="el" href="pbx__realtime_8c_source.html#l00186">realtime_exec()</a>, <a class="el" href="res__config__curl_8c_source.html#l00128">realtime_multi_curl()</a>, <a class="el" href="res__config__odbc_8c_source.html#l00256">realtime_multi_odbc()</a>, <a class="el" href="res__config__pgsql_8c_source.html#l00418">realtime_multi_pgsql()</a>, <a class="el" href="app__record_8c_source.html#l00132">record_exec()</a>, <a class="el" href="chan__iax2_8c_source.html#l07596">register_verify()</a>, <a class="el" href="chan__iax2_8c_source.html#l08505">registry_authrequest()</a>, <a class="el" href="chan__sip_8c_source.html#l24245">reload_config()</a>, <a class="el" href="app__followme_8c_source.html#l00297">reload_followme()</a>, <a class="el" href="app__queue_8c_source.html#l05728">reload_single_member()</a>, <a class="el" href="chan__sip_8c_source.html#l13909">replace_cid()</a>, <a class="el" href="loader_8c_source.html#l00308">resource_name_match()</a>, <a class="el" href="app__dial_8c_source.html#l02345">retrydial_exec()</a>, <a class="el" href="app__queue_8c_source.html#l04836">rqm_exec()</a>, <a class="el" href="app__sayunixtime_8c_source.html#l00092">sayunixtime_exec()</a>, <a class="el" href="app__senddtmf_8c_source.html#l00065">senddtmf_exec()</a>, <a class="el" href="app__minivm_8c_source.html#l01027">sendmail()</a>, <a class="el" href="app__sendtext_8c_source.html#l00075">sendtext_exec()</a>, <a class="el" href="app__url_8c_source.html#l00093">sendurl_exec()</a>, <a class="el" href="features_8c_source.html#l02099">set_config_flags()</a>, <a class="el" href="app__dial_8c_source.html#l01385">setup_privacy_args()</a>, <a class="el" href="chan__sip_8c_source.html#l22987">sip_devicestate()</a>, <a class="el" href="chan__sip_8c_source.html#l06599">sip_new()</a>, <a class="el" href="chan__sip_8c_source.html#l25514">sip_sipredirect()</a>, <a class="el" href="chan__sip_8c_source.html#l19519">sip_uri_cmp()</a>, <a class="el" href="chan__sip_8c_source.html#l19473">sip_uri_headers_cmp()</a>, <a class="el" href="chan__sip_8c_source.html#l19333">sip_uri_params_cmp()</a>, <a class="el" href="chan__skinny_8c_source.html#l06479">skinny_devicestate()</a>, <a class="el" href="app__meetme_8c_source.html#l06120">sla_add_trunk_to_station()</a>, <a class="el" href="app__meetme_8c_source.html#l06029">sla_check_device()</a>, <a class="el" href="app__meetme_8c_source.html#l01762">sla_queue_event_conf()</a>, <a class="el" href="app__meetme_8c_source.html#l04944">sla_ring_station()</a>, <a class="el" href="app__meetme_8c_source.html#l05923">sla_state()</a>, <a class="el" href="app__meetme_8c_source.html#l05601">sla_station_exec()</a>, <a class="el" href="app__meetme_8c_source.html#l05808">sla_trunk_exec()</a>, <a class="el" href="res__smdi_8c_source.html#l01221">smdi_msg_read()</a>, <a class="el" href="res__smdi_8c_source.html#l01122">smdi_msg_retrieve_read()</a>, <a class="el" href="app__sms_8c_source.html#l01858">sms_exec()</a>, <a class="el" href="app__fax_8c_source.html#l00830">sndfax_exec()</a>, <a class="el" href="chan__iax2_8c_source.html#l09458">socket_process()</a>, <a class="el" href="app__softhangup_8c_source.html#l00072">softhangup_exec()</a>, <a class="el" href="func__cut_8c_source.html#l00103">sort_internal()</a>, <a class="el" href="app__speech__utils_8c_source.html#l00639">speech_background()</a>, <a class="el" href="app__speech__utils_8c_source.html#l00511">speech_load()</a>, <a class="el" href="res__musiconhold_8c_source.html#l00747">start_moh_exec()</a>, <a class="el" href="res__monitor_8c_source.html#l00605">start_monitor_action()</a>, <a class="el" href="res__monitor_8c_source.html#l00495">start_monitor_exec()</a>, <a class="el" href="app__minivm_8c_source.html#l02411">timezone_add()</a>, <a class="el" href="app__transfer_8c_source.html#l00077">transfer_exec()</a>, <a class="el" href="chan__sip_8c_source.html#l10819">transmit_invite()</a>, <a class="el" href="chan__sip_8c_source.html#l11829">transmit_refer()</a>, <a class="el" href="chan__sip_8c_source.html#l11046">transmit_state_notify()</a>, <a class="el" href="app__queue_8c_source.html#l03569">try_calling()</a>, <a class="el" href="app__exec_8c_source.html#l00163">tryexec_exec()</a>, <a class="el" href="chan__unistim_8c_source.html#l04379">unistim_send_mwi_to_peer()</a>, <a class="el" href="channel_8c_source.html#l04990">update_bridge_vars()</a>, <a class="el" href="chan__h323_8c_source.html#l01251">update_common_options()</a>, <a class="el" href="chan__iax2_8c_source.html#l08346">update_registry()</a>, <a class="el" href="app__queue_8c_source.html#l04800">upqm_exec()</a>, <a class="el" href="app__userevent_8c_source.html#l00059">userevent_exec()</a>, <a class="el" href="app__verbose_8c_source.html#l00075">verbose_exec()</a>, <a class="el" href="app__voicemail_8c_source.html#l09942">vm_box_exists()</a>, <a class="el" href="app__voicemail_8c_source.html#l01050">vm_check_password_shell()</a>, <a class="el" href="app__voicemail_8c_source.html#l09810">vm_exec()</a>, <a class="el" href="app__voicemail_8c_source.html#l09099">vm_execmain()</a>, <a class="el" href="app__voicemail_8c_source.html#l10006">vmauthenticate()</a>, <a class="el" href="app__followme_8c_source.html#l00509">wait_for_winner()</a>, <a class="el" href="file_8c_source.html#l01168">waitstream_core()</a>, <a class="el" href="xmldoc_8c_source.html#l00620">xmldoc_get_syntax_fun()</a>, and <a class="el" href="app__zapateller_8c_source.html#l00077">zapateller_exec()</a>.</p>

</div>
</div>
<a class="anchor" id="a00d4c9254c9827d6fa44f17a326744a5"></a><!-- doxytag: member="utils.h::ast_test_flag" ref="a00d4c9254c9827d6fa44f17a326744a5" args="(p, flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_test_flag</td>
          <td>(</td>
          <td class="paramtype">p, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">flag&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00061">61</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="pbx_8c_source.html#l04214">__ast_pbx_run()</a>, <a class="el" href="channel_8c_source.html#l00991">__ast_queue_frame()</a>, <a class="el" href="channel_8c_source.html#l02636">__ast_read()</a>, <a class="el" href="chan__iax2_8c_source.html#l03102">__do_deliver()</a>, <a class="el" href="chan__iax2_8c_source.html#l08254">__expire_registry()</a>, <a class="el" href="frame_8c_source.html#l00333">__frame_free()</a>, <a class="el" href="chan__iax2_8c_source.html#l03879">__get_from_jb()</a>, <a class="el" href="chan__iax2_8c_source.html#l06324">__iax2_show_peers()</a>, <a class="el" href="chan__sip_8c_source.html#l05498">__sip_destroy()</a>, <a class="el" href="app__macro_8c_source.html#l00219">_macro_exec()</a>, <a class="el" href="chan__sip_8c_source.html#l15349">_sip_show_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l14666">_sip_show_peers()</a>, <a class="el" href="func__odbc_8c_source.html#l00375">acf_odbc_read()</a>, <a class="el" href="chan__agent_8c_source.html#l00357">add_agent()</a>, <a class="el" href="chan__sip_8c_source.html#l09822">add_codec_to_sdp()</a>, <a class="el" href="chan__sip_8c_source.html#l10016">add_sdp()</a>, <a class="el" href="res__jabber_8c_source.html#l02146">aji_pruneregister()</a>, <a class="el" href="app__externalivr_8c_source.html#l00314">app_exec()</a>, <a class="el" href="audiohook_8c_source.html#l00121">ast_audiohook_write_frame()</a>, <a class="el" href="autoservice_8c_source.html#l00192">ast_autoservice_start()</a>, <a class="el" href="features_8c_source.html#l02441">ast_bridge_call()</a>, <a class="el" href="bridging_8c_source.html#l01106">ast_bridge_merge()</a>, <a class="el" href="channel_8c_source.html#l04042">ast_call()</a>, <a class="el" href="cdr_8c_source.html#l00687">ast_cdr_answer()</a>, <a class="el" href="cdr_8c_source.html#l00982">ast_cdr_appenduserfield()</a>, <a class="el" href="cdr_8c_source.html#l00703">ast_cdr_busy()</a>, <a class="el" href="cdr_8c_source.html#l00879">ast_cdr_end()</a>, <a class="el" href="cdr_8c_source.html#l00715">ast_cdr_failed()</a>, <a class="el" href="app__forkcdr_8c_source.html#l00176">ast_cdr_fork()</a>, <a class="el" href="cdr_8c_source.html#l00844">ast_cdr_init()</a>, <a class="el" href="cdr_8c_source.html#l00496">ast_cdr_merge()</a>, <a class="el" href="cdr_8c_source.html#l00727">ast_cdr_noanswer()</a>, <a class="el" href="cdr_8c_source.html#l01062">ast_cdr_reset()</a>, <a class="el" href="cdr_8c_source.html#l00936">ast_cdr_setaccount()</a>, <a class="el" href="cdr_8c_source.html#l00955">ast_cdr_setamaflags()</a>, <a class="el" href="cdr_8c_source.html#l00790">ast_cdr_setanswer()</a>, <a class="el" href="cdr_8c_source.html#l00778">ast_cdr_setapp()</a>, <a class="el" href="cdr_8c_source.html#l00835">ast_cdr_setcid()</a>, <a class="el" href="cdr_8c_source.html#l00768">ast_cdr_setdestchan()</a>, <a class="el" href="cdr_8c_source.html#l00803">ast_cdr_setdisposition()</a>, <a class="el" href="cdr_8c_source.html#l00970">ast_cdr_setuserfield()</a>, <a class="el" href="cdr_8c_source.html#l00292">ast_cdr_setvar()</a>, <a class="el" href="cdr_8c_source.html#l01105">ast_cdr_specialized_reset()</a>, <a class="el" href="cdr_8c_source.html#l00674">ast_cdr_start()</a>, <a class="el" href="cdr_8c_source.html#l00996">ast_cdr_update()</a>, <a class="el" href="channel_8c_source.html#l05055">ast_channel_bridge()</a>, <a class="el" href="channel_8c_source.html#l01146">ast_channel_defer_dtmf()</a>, <a class="el" href="channel_8c_source.html#l01388">ast_channel_free()</a>, <a class="el" href="chan__iax2_8c_source.html#l06891">ast_cli_netstats()</a>, <a class="el" href="channel_8c_source.html#l04393">ast_do_masquerade()</a>, <a class="el" href="dsp_8c_source.html#l01545">ast_dsp_free()</a>, <a class="el" href="pbx_8c_source.html#l07321">ast_explicit_goto()</a>, <a class="el" href="frame_8c_source.html#l00389">ast_frisolate()</a>, <a class="el" href="channel_8c_source.html#l01690">ast_hangup()</a>, <a class="el" href="channel_8c_source.html#l03150">ast_indicate_data()</a>, <a class="el" href="abstract__jb_8c_source.html#l00530">ast_jb_destroy()</a>, <a class="el" href="abstract__jb_8c_source.html#l00202">ast_jb_do_usecheck()</a>, <a class="el" href="abstract__jb_8c_source.html#l00621">ast_jb_empty_and_reset()</a>, <a class="el" href="abstract__jb_8c_source.html#l00368">ast_jb_get_and_deliver()</a>, <a class="el" href="abstract__jb_8c_source.html#l00263">ast_jb_get_when_to_wakeup()</a>, <a class="el" href="abstract__jb_8c_source.html#l00303">ast_jb_put()</a>, <a class="el" href="app__directory_8c_source.html#l00505">AST_LIST_HEAD_NOLOCK()</a>, <a class="el" href="res__musiconhold_8c_source.html#l00256">ast_moh_files_next()</a>, <a class="el" href="res__odbc_8c_source.html#l01156">ast_odbc_request_obj2()</a>, <a class="el" href="chan__sip_8c_source.html#l18877">ast_quiet_chan()</a>, <a class="el" href="channel_8c_source.html#l01799">ast_raw_answer()</a>, <a class="el" href="channel_8c_source.html#l04093">ast_readstring_full()</a>, <a class="el" href="rtp_8c_source.html#l04398">ast_rtp_bridge()</a>, <a class="el" href="rtp_8c_source.html#l02071">ast_rtp_early_bridge()</a>, <a class="el" href="rtp_8c_source.html#l00806">ast_rtp_getnat()</a>, <a class="el" href="rtp_8c_source.html#l02157">ast_rtp_make_compatible()</a>, <a class="el" href="rtp_8c_source.html#l03609">ast_rtp_raw_write()</a>, <a class="el" href="channel_8c_source.html#l03302">ast_sendtext()</a>, <a class="el" href="channel_8c_source.html#l01653">ast_softhangup_nolock()</a>, <a class="el" href="file_8c_source.html#l00943">ast_streamfile()</a>, <a class="el" href="channel_8c_source.html#l04070">ast_transfer()</a>, <a class="el" href="translate_8c_source.html#l00308">ast_translate()</a>, <a class="el" href="channel_8c_source.html#l02438">ast_waitfordigit_full()</a>, <a class="el" href="channel_8c_source.html#l03411">ast_write()</a>, <a class="el" href="app__authenticate_8c_source.html#l00108">auth_exec()</a>, <a class="el" href="chan__iax2_8c_source.html#l07812">authenticate_reply()</a>, <a class="el" href="chan__iax2_8c_source.html#l07462">authenticate_request()</a>, <a class="el" href="chan__iax2_8c_source.html#l07515">authenticate_verify()</a>, <a class="el" href="bridging_8c_source.html#l00860">bridge_channel_join()</a>, <a class="el" href="bridging_8c_source.html#l00218">bridge_check_dissolve()</a>, <a class="el" href="features_8c_source.html#l04524">bridge_exec()</a>, <a class="el" href="rtp_8c_source.html#l03915">bridge_native_loop()</a>, <a class="el" href="rtp_8c_source.html#l01508">bridge_p2p_rtp_write()</a>, <a class="el" href="chan__iax2_8c_source.html#l11880">build_peer()</a>, <a class="el" href="cdr__radius_8c_source.html#l00090">build_radius_record()</a>, <a class="el" href="chan__iax2_8c_source.html#l12156">build_user()</a>, <a class="el" href="chan__sip_8c_source.html#l03588">build_via()</a>, <a class="el" href="features_8c_source.html#l02964">callback_dialoptions()</a>, <a class="el" href="chan__sip_8c_source.html#l12781">cb_extensionstate()</a>, <a class="el" href="func__cdr_8c_source.html#l00183">cdr_read()</a>, <a class="el" href="func__cdr_8c_source.html#l00220">cdr_write()</a>, <a class="el" href="app__chanspy_8c_source.html#l00445">channel_spy()</a>, <a class="el" href="app__chanspy_8c_source.html#l01035">chanspy_exec()</a>, <a class="el" href="chan__iax2_8c_source.html#l07197">check_access()</a>, <a class="el" href="chan__local_8c_source.html#l00289">check_bridge()</a>, <a class="el" href="chan__sip_8c_source.html#l13923">check_peer_ok()</a>, <a class="el" href="chan__sip_8c_source.html#l17521">check_pendings()</a>, <a class="el" href="cdr_8c_source.html#l00420">check_post()</a>, <a class="el" href="chan__sip_8c_source.html#l22343">check_rtp_timeout()</a>, <a class="el" href="chan__sip_8c_source.html#l14088">check_user_full()</a>, <a class="el" href="app__voicemail_8c_source.html#l07296">close_mailbox()</a>, <a class="el" href="app__chanspy_8c_source.html#l00767">common_exec()</a>, <a class="el" href="chan__iax2_8c_source.html#l03647">complete_iax2_peers()</a>, <a class="el" href="chan__sip_8c_source.html#l16308">complete_sip_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l16332">complete_sip_registered_peer()</a>, <a class="el" href="app__meetme_8c_source.html#l03696">conf_exec()</a>, <a class="el" href="app__confbridge_8c_source.html#l00687">confbridge_exec()</a>, <a class="el" href="config_8c_source.html#l01176">config_text_file_load()</a>, <a class="el" href="app__controlplayback_8c_source.html#l00128">controlplayback_exec()</a>, <a class="el" href="chan__sip_8c_source.html#l09099">copy_via_headers()</a>, <a class="el" href="chan__sip_8c_source.html#l05252">create_addr()</a>, <a class="el" href="chan__sip_8c_source.html#l05102">create_addr_from_peer()</a>, <a class="el" href="abstract__jb_8c_source.html#l00445">create_jb()</a>, <a class="el" href="chan__iax2_8c_source.html#l06017">decrypt_frame()</a>, <a class="el" href="translate_8c_source.html#l00133">destroy()</a>, <a class="el" href="pbx__dundi_8c_source.html#l02956">destroy_trans()</a>, <a class="el" href="app__dial_8c_source.html#l01515">dial_exec_full()</a>, <a class="el" href="app__dictate_8c_source.html#l00084">dictate_exec()</a>, <a class="el" href="app__directory_8c_source.html#l00723">directory_exec()</a>, <a class="el" href="app__disa_8c_source.html#l00143">disa_exec()</a>, <a class="el" href="app__directory_8c_source.html#l00646">do_directory()</a>, <a class="el" href="audiohook_8c_source.html#l00553">dtmf_audiohook_write_list()</a>, <a class="el" href="pbx__dundi_8c_source.html#l01403">dundi_encrypt()</a>, <a class="el" href="pbx__dundi_8c_source.html#l04566">dundi_exec()</a>, <a class="el" href="pbx__dundi_8c_source.html#l04517">dundi_helper()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00561">dundi_lookup_local()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00634">dundi_lookup_thread()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00698">dundi_precache_thread()</a>, <a class="el" href="pbx__dundi_8c_source.html#l03972">dundi_query_read()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00731">dundi_query_thread()</a>, <a class="el" href="pbx__dundi_8c_source.html#l03039">dundi_rexmit()</a>, <a class="el" href="pbx__dundi_8c_source.html#l03062">dundi_send()</a>, <a class="el" href="pbx__dundi_8c_source.html#l03889">dundifunc_read()</a>, <a class="el" href="app__externalivr_8c_source.html#l00521">eivr_comm()</a>, <a class="el" href="cdr__odbc_8c_source.html#l00062">execute_cb()</a>, <a class="el" href="chan__sip_8c_source.html#l12018">expire_register()</a>, <a class="el" href="app__chanspy_8c_source.html#l01127">extenspy_exec()</a>, <a class="el" href="features_8c_source.html#l01903">feature_exec_app()</a>, <a class="el" href="features_8c_source.html#l01996">feature_interpret()</a>, <a class="el" href="chan__iax2_8c_source.html#l13074">find_cache()</a>, <a class="el" href="chan__sip_8c_source.html#l07307">find_call_cb()</a>, <a class="el" href="app__meetme_8c_source.html#l03546">find_conf()</a>, <a class="el" href="app__meetme_8c_source.html#l03372">find_conf_realtime()</a>, <a class="el" href="app__voicemail_8c_source.html#l09870">find_or_create()</a>, <a class="el" href="app__voicemail_8c_source.html#l01288">find_user()</a>, <a class="el" href="app__voicemail_8c_source.html#l01251">find_user_realtime()</a>, <a class="el" href="app__forkcdr_8c_source.html#l00229">forkcdr_exec()</a>, <a class="el" href="app__voicemail_8c_source.html#l06582">forward_message()</a>, <a class="el" href="app__voicemail_8c_source.html#l01528">free_user()</a>, <a class="el" href="chan__iax2_8c_source.html#l13324">function_iaxpeer()</a>, <a class="el" href="chan__sip_8c_source.html#l13269">get_destination()</a>, <a class="el" href="chan__sip_8c_source.html#l04706">get_insecure_variable_from_config()</a>, <a class="el" href="app__stack_8c_source.html#l00328">gosub_exec()</a>, <a class="el" href="chan__iax2_8c_source.html#l03393">handle_cli_iax2_prune_realtime()</a>, <a class="el" href="chan__iax2_8c_source.html#l06825">handle_cli_iax2_show_channels()</a>, <a class="el" href="chan__iax2_8c_source.html#l03568">handle_cli_iax2_show_peer()</a>, <a class="el" href="chan__iax2_8c_source.html#l06250">handle_cli_iax2_show_users()</a>, <a class="el" href="res__musiconhold_8c_source.html#l01717">handle_cli_moh_show_classes()</a>, <a class="el" href="pbx__dundi_8c_source.html#l01553">handle_command_response()</a>, <a class="el" href="res__agi_8c_source.html#l01718">handle_exec()</a>, <a class="el" href="pbx__dundi_8c_source.html#l02013">handle_frame()</a>, <a class="el" href="app__minivm_8c_source.html#l02865">handle_minivm_show_settings()</a>, <a class="el" href="app__jack_8c_source.html#l00692">handle_options()</a>, <a class="el" href="chan__sip_8c_source.html#l21024">handle_request_bye()</a>, <a class="el" href="chan__sip_8c_source.html#l20855">handle_request_cancel()</a>, <a class="el" href="chan__sip_8c_source.html#l16615">handle_request_info()</a>, <a class="el" href="chan__sip_8c_source.html#l19641">handle_request_invite()</a>, <a class="el" href="chan__sip_8c_source.html#l20572">handle_request_refer()</a>, <a class="el" href="chan__sip_8c_source.html#l21175">handle_request_subscribe()</a>, <a class="el" href="chan__sip_8c_source.html#l18268">handle_response()</a>, <a class="el" href="chan__sip_8c_source.html#l17572">handle_response_invite()</a>, <a class="el" href="chan__sip_8c_source.html#l17893">handle_response_notify()</a>, <a class="el" href="asterisk_8c_source.html#l00413">handle_show_settings()</a>, <a class="el" href="cli_8c_source.html#l01268">handle_showchan()</a>, <a class="el" href="chan__skinny_8c_source.html#l03513">handle_skinny_show_settings()</a>, <a class="el" href="res__agi_8c_source.html#l02137">handle_speechrecognize()</a>, <a class="el" href="tcptls_8c_source.html#l00128">handle_tcptls_connection()</a>, <a class="el" href="func__devstate_8c_source.html#l00144">hint_read()</a>, <a class="el" href="chan__iax2_8c_source.html#l05170">iax2_bridge()</a>, <a class="el" href="chan__iax2_8c_source.html#l04777">iax2_call()</a>, <a class="el" href="chan__iax2_8c_source.html#l01623">iax2_destroy_helper()</a>, <a class="el" href="chan__iax2_8c_source.html#l05393">iax2_getpeertrunk()</a>, <a class="el" href="chan__iax2_8c_source.html#l04970">iax2_hangup()</a>, <a class="el" href="chan__iax2_8c_source.html#l03200">iax2_predestroy()</a>, <a class="el" href="chan__iax2_8c_source.html#l11561">iax2_request()</a>, <a class="el" href="chan__iax2_8c_source.html#l06045">iax2_send()</a>, <a class="el" href="chan__iax2_8c_source.html#l05784">iax2_trunk_queue()</a>, <a class="el" href="chan__iax2_8c_source.html#l07099">iax2_write()</a>, <a class="el" href="chan__sip_8c_source.html#l10657">initreqprep()</a>, <a class="el" href="chan__sip_8c_source.html#l06424">interpret_t38_parameters()</a>, <a class="el" href="app__confbridge_8c_source.html#l00394">join_conference_bridge()</a>, <a class="el" href="app__confbridge_8c_source.html#l00485">leave_conference_bridge()</a>, <a class="el" href="app__minivm_8c_source.html#l01604">leave_voicemail()</a>, <a class="el" href="loader_8c_source.html#l00357">load_dynamic_module()</a>, <a class="el" href="loader_8c_source.html#l00777">load_resource()</a>, <a class="el" href="chan__local_8c_source.html#l00670">local_alloc()</a>, <a class="el" href="res__musiconhold_8c_source.html#l01223">local_ast_moh_start()</a>, <a class="el" href="chan__local_8c_source.html#l00176">local_bridgedchannel()</a>, <a class="el" href="chan__local_8c_source.html#l00518">local_call()</a>, <a class="el" href="chan__local_8c_source.html#l00582">local_hangup()</a>, <a class="el" href="chan__local_8c_source.html#l00409">local_indicate()</a>, <a class="el" href="chan__local_8c_source.html#l00206">local_queue_frame()</a>, <a class="el" href="chan__local_8c_source.html#l00362">local_write()</a>, <a class="el" href="chan__iax2_8c_source.html#l09064">log_jitterstats()</a>, <a class="el" href="asterisk_8c_source.html#l03095">main()</a>, <a class="el" href="app__voicemail_8c_source.html#l04163">make_email_file()</a>, <a class="el" href="chan__iax2_8c_source.html#l06668">manager_iax2_show_peer_list()</a>, <a class="el" href="app__voicemail_8c_source.html#l10437">manager_list_voicemail_users()</a>, <a class="el" href="app__confbridge_8c_source.html#l00607">menu_callback()</a>, <a class="el" href="app__minivm_8c_source.html#l02195">minivm_accmess_exec()</a>, <a class="el" href="app__minivm_8c_source.html#l02937">minivm_account_func_read()</a>, <a class="el" href="app__minivm_8c_source.html#l01971">minivm_greet_exec()</a>, <a class="el" href="app__minivm_8c_source.html#l01836">minivm_notify_exec()</a>, <a class="el" href="app__minivm_8c_source.html#l01915">minivm_record_exec()</a>, <a class="el" href="app__mixmonitor_8c_source.html#l00469">mixmonitor_exec()</a>, <a class="el" href="app__mixmonitor_8c_source.html#l00280">mixmonitor_thread()</a>, <a class="el" href="loader_8c_source.html#l00866">mod_load_cmp()</a>, <a class="el" href="res__musiconhold_8c_source.html#l00347">moh_files_alloc()</a>, <a class="el" href="res__musiconhold_8c_source.html#l00957">moh_scan_files()</a>, <a class="el" href="app__voicemail_8c_source.html#l06482">notify_new_message()</a>, <a class="el" href="rtp_8c_source.html#l04191">p2p_callback_disable()</a>, <a class="el" href="app__page_8c_source.html#l00121">page_exec()</a>, <a class="el" href="features_8c_source.html#l00678">park_call_full()</a>, <a class="el" href="features_8c_source.html#l00566">park_space_reserve()</a>, <a class="el" href="chan__sip_8c_source.html#l17435">parse_moved_contact()</a>, <a class="el" href="chan__sip_8c_source.html#l12222">parse_register_contact()</a>, <a class="el" href="pbx_8c_source.html#l08798">pbx_builtin_background()</a>, <a class="el" href="pbx_8c_source.html#l08729">pbx_builtin_waitexten()</a>, <a class="el" href="chan__sip_8c_source.html#l02080">peer_ipcmp_cb()</a>, <a class="el" href="features_8c_source.html#l02331">pick_unlocked_cdr()</a>, <a class="el" href="app__directory_8c_source.html#l00247">play_mailbox_owner()</a>, <a class="el" href="app__voicemail_8c_source.html#l07051">play_message()</a>, <a class="el" href="app__minivm_8c_source.html#l01378">play_record_review()</a>, <a class="el" href="cdr_8c_source.html#l01029">post_cdr()</a>, <a class="el" href="app__confbridge_8c_source.html#l00253">post_join_marked()</a>, <a class="el" href="app__confbridge_8c_source.html#l00320">post_join_unmarked()</a>, <a class="el" href="pbx__dundi_8c_source.html#l03289">precache_transactions()</a>, <a class="el" href="rtp_8c_source.html#l00923">process_cisco_dtmf()</a>, <a class="el" href="rtp_8c_source.html#l01013">process_rfc2833()</a>, <a class="el" href="rtp_8c_source.html#l01120">process_rfc3389()</a>, <a class="el" href="chan__sip_8c_source.html#l08040">process_sdp()</a>, <a class="el" href="chan__sip_8c_source.html#l08730">process_sdp_a_audio()</a>, <a class="el" href="chan__sip_8c_source.html#l08612">process_sdp_o()</a>, <a class="el" href="config_8c_source.html#l00922">process_text_line()</a>, <a class="el" href="chan__iax2_8c_source.html#l12459">prune_peers()</a>, <a class="el" href="chan__iax2_8c_source.html#l12443">prune_users()</a>, <a class="el" href="app__read_8c_source.html#l00127">read_exec()</a>, <a class="el" href="app__readexten_8c_source.html#l00128">readexten_exec()</a>, <a class="el" href="chan__iax2_8c_source.html#l04115">realtime_peer()</a>, <a class="el" href="pbx__realtime_8c_source.html#l00079">realtime_switch_common()</a>, <a class="el" href="chan__iax2_8c_source.html#l04235">realtime_user()</a>, <a class="el" href="app__record_8c_source.html#l00132">record_exec()</a>, <a class="el" href="chan__iax2_8c_source.html#l08297">reg_source_db()</a>, <a class="el" href="chan__iax2_8c_source.html#l07596">register_verify()</a>, <a class="el" href="chan__sip_8c_source.html#l24245">reload_config()</a>, <a class="el" href="app__queue_8c_source.html#l06052">reload_handler()</a>, <a class="el" href="app__queue_8c_source.html#l05964">reload_queues()</a>, <a class="el" href="app__queue_8c_source.html#l05834">reload_single_queue()</a>, <a class="el" href="pbx__spool_8c_source.html#l00276">remove_from_queue()</a>, <a class="el" href="chan__sip_8c_source.html#l13909">replace_cid()</a>, <a class="el" href="chan__sip_8c_source.html#l09423">reqprep()</a>, <a class="el" href="chan__sip_8c_source.html#l09357">respprep()</a>, <a class="el" href="app__dial_8c_source.html#l02345">retrydial_exec()</a>, <a class="el" href="app__rpt_8c_source.html#l12919">rpt_master()</a>, <a class="el" href="chan__iax2_8c_source.html#l03970">schedule_delivery()</a>, <a class="el" href="app__directory_8c_source.html#l00269">select_entry()</a>, <a class="el" href="rtp_8c_source.html#l00871">send_dtmf()</a>, <a class="el" href="chan__sip_8c_source.html#l04234">send_request()</a>, <a class="el" href="chan__iax2_8c_source.html#l08736">send_trunk()</a>, <a class="el" href="app__voicemail_8c_source.html#l04485">sendmail()</a>, <a class="el" href="app__url_8c_source.html#l00093">sendurl_exec()</a>, <a class="el" href="app__dumpchan_8c_source.html#l00065">serialize_showchan()</a>, <a class="el" href="chan__sip_8c_source.html#l12208">set_address_from_contact()</a>, <a class="el" href="chan__iax2_8c_source.html#l12493">set_config()</a>, <a class="el" href="features_8c_source.html#l02099">set_config_flags()</a>, <a class="el" href="chan__sip_8c_source.html#l05068">set_t38_capabilities()</a>, <a class="el" href="channel_8c_source.html#l02596">should_skip_dtmf()</a>, <a class="el" href="chan__sip_8c_source.html#l16189">show_channels_cb()</a>, <a class="el" href="chan__sip_8c_source.html#l07151">sip_alloc()</a>, <a class="el" href="chan__sip_8c_source.html#l25380">sip_dtmfmode()</a>, <a class="el" href="chan__sip_8c_source.html#l06317">sip_fixup()</a>, <a class="el" href="chan__sip_8c_source.html#l25226">sip_get_rtp_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l25280">sip_get_trtp_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l25182">sip_get_udptl_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l25255">sip_get_vrtp_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l05956">sip_hangup()</a>, <a class="el" href="chan__sip_8c_source.html#l06491">sip_indicate()</a>, <a class="el" href="chan__sip_8c_source.html#l03461">sip_nat_mode()</a>, <a class="el" href="chan__sip_8c_source.html#l06599">sip_new()</a>, <a class="el" href="chan__sip_8c_source.html#l15021">sip_prune_realtime()</a>, <a class="el" href="chan__sip_8c_source.html#l04269">sip_queryoption()</a>, <a class="el" href="chan__sip_8c_source.html#l07045">sip_read()</a>, <a class="el" href="chan__sip_8c_source.html#l03452">sip_real_dst()</a>, <a class="el" href="chan__sip_8c_source.html#l06955">sip_rtp_read()</a>, <a class="el" href="chan__sip_8c_source.html#l22279">sip_send_mwi_to_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l06358">sip_senddigit_begin()</a>, <a class="el" href="chan__sip_8c_source.html#l06382">sip_senddigit_end()</a>, <a class="el" href="chan__sip_8c_source.html#l04476">sip_sendhtml()</a>, <a class="el" href="chan__sip_8c_source.html#l25305">sip_set_rtp_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l25198">sip_set_udptl_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l16415">sip_show_channel()</a>, <a class="el" href="chan__sip_8c_source.html#l15919">sip_show_settings()</a>, <a class="el" href="chan__sip_8c_source.html#l14488">sip_show_users()</a>, <a class="el" href="chan__sip_8c_source.html#l06207">sip_write()</a>, <a class="el" href="app__meetme_8c_source.html#l05808">sla_trunk_exec()</a>, <a class="el" href="res__smdi_8c_source.html#l00375">smdi_msg_find()</a>, <a class="el" href="app__sms_8c_source.html#l01858">sms_exec()</a>, <a class="el" href="chan__iax2_8c_source.html#l09458">socket_process()</a>, <a class="el" href="chan__iax2_8c_source.html#l09260">socket_process_meta()</a>, <a class="el" href="app__softhangup_8c_source.html#l00072">softhangup_exec()</a>, <a class="el" href="res__musiconhold_8c_source.html#l00422">spawn_mp3()</a>, <a class="el" href="app__speech__utils_8c_source.html#l00639">speech_background()</a>, <a class="el" href="app__speech__utils_8c_source.html#l00434">speech_read()</a>, <a class="el" href="app__chanspy_8c_source.html#l00361">spy_generate()</a>, <a class="el" href="app__chanspy_8c_source.html#l00409">start_spying()</a>, <a class="el" href="app__mixmonitor_8c_source.html#l00250">startmon()</a>, <a class="el" href="chan__sip_8c_source.html#l11905">transmit_info_with_digit()</a>, <a class="el" href="chan__sip_8c_source.html#l11268">transmit_notify_with_mwi()</a>, <a class="el" href="chan__sip_8c_source.html#l11829">transmit_refer()</a>, <a class="el" href="chan__sip_8c_source.html#l10498">transmit_reinvite_with_sdp()</a>, <a class="el" href="chan__sip_8c_source.html#l09600">transmit_response_using_temp()</a>, <a class="el" href="chan__sip_8c_source.html#l10415">transmit_response_with_sdp()</a>, <a class="el" href="app__queue_8c_source.html#l03569">try_calling()</a>, <a class="el" href="chan__sip_8c_source.html#l05634">update_call_counter()</a>, <a class="el" href="chan__sip_8c_source.html#l04697">update_peer()</a>, <a class="el" href="chan__iax2_8c_source.html#l08346">update_registry()</a>, <a class="el" href="app__voicemail_8c_source.html#l09810">vm_exec()</a>, <a class="el" href="app__voicemail_8c_source.html#l09099">vm_execmain()</a>, <a class="el" href="app__voicemail_8c_source.html#l08382">vm_instructions_en()</a>, <a class="el" href="app__voicemail_8c_source.html#l08323">vm_intro()</a>, <a class="el" href="app__voicemail_8c_source.html#l08493">vm_newuser()</a>, and <a class="el" href="file_8c_source.html#l01168">waitstream_core()</a>.</p>

</div>
</div>
<a class="anchor" id="a17ef965a8317b037c32e9b58c3765b1a"></a><!-- doxytag: member="utils.h::ast_test_flag64" ref="a17ef965a8317b037c32e9b58c3765b1a" args="(p, flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_test_flag64</td>
          <td>(</td>
          <td class="paramtype">p, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">flag&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00118">118</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="app_8c_source.html#l01856">ast_app_options2str64()</a>, <a class="el" href="app__dial_8c_source.html#l01515">dial_exec_full()</a>, <a class="el" href="app__dial_8c_source.html#l00712">do_forward()</a>, <a class="el" href="app__dial_8c_source.html#l02345">retrydial_exec()</a>, <a class="el" href="app__dial_8c_source.html#l01385">setup_privacy_args()</a>, <a class="el" href="app__dial_8c_source.html#l01132">valid_priv_reply()</a>, and <a class="el" href="app__dial_8c_source.html#l00818">wait_for_answer()</a>.</p>

</div>
</div>
<a class="anchor" id="aacbd52db1ede7a4c592037c8d6da7ded"></a><!-- doxytag: member="utils.h::ast_test_flag_nonstd" ref="aacbd52db1ede7a4c592037c8d6da7ded" args="(p, flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_test_flag_nonstd</td>
          <td>(</td>
          <td class="paramtype">p, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">flag&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((p)-&gt;flags &amp; (flag))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00171">171</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="pbx__dundi_8c_source.html#l00841">cache_save_hint()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00634">dundi_lookup_thread()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00698">dundi_precache_thread()</a>, and <a class="el" href="pbx__dundi_8c_source.html#l01553">handle_command_response()</a>.</p>

</div>
</div>
<a class="anchor" id="a9e7c6104cccbed67c8f0fd510cd5c099"></a><!-- doxytag: member="utils.h::localtime_r" ref="a9e7c6104cccbed67c8f0fd510cd5c099" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define localtime_r&nbsp;&nbsp;&nbsp;__dont_use_localtime_r_use_ast_localtime_instead__</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00318">318</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

</div>
</div>
<a class="anchor" id="afa99ec4acc4ecb2dc3c2d05da15d0e3f"></a><!-- doxytag: member="utils.h::MAX" ref="afa99ec4acc4ecb2dc3c2d05da15d0e3f" args="(a, b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX</td>
          <td>(</td>
          <td class="paramtype">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">b&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;({ typeof(a) __a = (a); typeof(b) __b = (b); ((__a &lt; __b) ? __b : __a);})</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00226">226</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="channel_8c_source.html#l01850">__ast_answer()</a>, and <a class="el" href="chan__sip_8c_source.html#l18054">handle_response_register()</a>.</p>

</div>
</div>
<a class="anchor" id="a3acffbd305ee72dcd4593c0d8af64a4f"></a><!-- doxytag: member="utils.h::MIN" ref="a3acffbd305ee72dcd4593c0d8af64a4f" args="(a, b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIN</td>
          <td>(</td>
          <td class="paramtype">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">b&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;({ typeof(a) __a = (a); typeof(b) __b = (b); ((__a &gt; __b) ? __b : __a);})</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00224">224</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="chan__sip_8c_source.html#l02910">_sip_tcp_helper_thread()</a>, <a class="el" href="chan__alsa_8c_source.html#l00593">autoanswer_complete()</a>, <a class="el" href="udptl_8c_source.html#l00722">calculate_local_max_datagram()</a>, <a class="el" href="vcodecs_8c_source.html#l00356">h263p_encap()</a>, <a class="el" href="vcodecs_8c_source.html#l00955">h264_encap()</a>, <a class="el" href="chan__sip_8c_source.html#l06424">interpret_t38_parameters()</a>, and <a class="el" href="vcodecs_8c_source.html#l00867">mpeg4_encap()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a1e7e06bd20719ecfd58b67f230780ffa"></a><!-- doxytag: member="utils.h::ast_base64decode" ref="a1e7e06bd20719ecfd58b67f230780ffa" args="(unsigned char *dst, const char *src, int max)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_base64decode </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>max</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Decode data from base64. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dst</em>&nbsp;</td><td>the destination buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>src</em>&nbsp;</td><td>the source buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>max</em>&nbsp;</td><td>The maximum <a class="el" href="structnumber.html" title="Number structure.">number</a> of bytes to write into the destination buffer. Note that this function will not ensure that the destination buffer is NULL terminated. So, in general, this parameter should be sizeof(dst) - 1. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="utils_8c_source.html#l00264">264</a> of file <a class="el" href="utils_8c_source.html">utils.c</a>.</p>

<p>Referenced by <a class="el" href="res__crypto_8c_source.html#l00421">__ast_check_signature()</a>, <a class="el" href="func__aes_8c_source.html#l00073">aes_helper()</a>, <a class="el" href="func__base64_8c_source.html#l00075">base64_decode()</a>, and <a class="el" href="app__osplookup_8c_source.html#l00506">osp_validate_token()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00265"></a>00265 {
<a name="l00266"></a>00266    <span class="keywordtype">int</span> cnt = 0;
<a name="l00267"></a>00267    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> byte = 0;
<a name="l00268"></a>00268    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bits = 0;
<a name="l00269"></a>00269    <span class="keywordtype">int</span> incnt = 0;
<a name="l00270"></a>00270    <span class="keywordflow">while</span>(*src &amp;&amp; *src != <span class="charliteral">&apos;=&apos;</span> &amp;&amp; (cnt &lt; max)) {
<a name="l00271"></a>00271       <span class="comment">/* Shift in 6 bits of input */</span>
<a name="l00272"></a>00272       byte &lt;&lt;= 6;
<a name="l00273"></a>00273       byte |= (<a class="code" href="utils_8c.html#a833369687dfc95492b2d5ef4e82c892f">b2a</a>[(int)(*src)]) &amp; 0x3f;
<a name="l00274"></a>00274       bits += 6;
<a name="l00275"></a>00275       src++;
<a name="l00276"></a>00276       incnt++;
<a name="l00277"></a>00277       <span class="comment">/* If we have at least 8 bits left over, take that character </span>
<a name="l00278"></a>00278 <span class="comment">         off the top */</span>
<a name="l00279"></a>00279       <span class="keywordflow">if</span> (bits &gt;= 8)  {
<a name="l00280"></a>00280          bits -= 8;
<a name="l00281"></a>00281          *dst = (byte &gt;&gt; bits) &amp; 0xff;
<a name="l00282"></a>00282          dst++;
<a name="l00283"></a>00283          cnt++;
<a name="l00284"></a>00284       }
<a name="l00285"></a>00285    }
<a name="l00286"></a>00286    <span class="comment">/* Dont worry about left over bits, they&apos;re extra anyway */</span>
<a name="l00287"></a>00287    <span class="keywordflow">return</span> cnt;
<a name="l00288"></a>00288 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a555dad1bd5b23acf01cf08f1affab879"></a><!-- doxytag: member="utils.h::ast_base64encode" ref="a555dad1bd5b23acf01cf08f1affab879" args="(char *dst, const unsigned char *src, int srclen, int max)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_base64encode </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srclen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>max</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Encode data in base64. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dst</em>&nbsp;</td><td>the destination buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>src</em>&nbsp;</td><td>the source data to be encoded </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srclen</em>&nbsp;</td><td>the <a class="el" href="structnumber.html" title="Number structure.">number</a> of bytes present in the source buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>max</em>&nbsp;</td><td>the maximum <a class="el" href="structnumber.html" title="Number structure.">number</a> of bytes to write into the destination buffer, *including* the terminating NULL character. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="utils_8c_source.html#l00342">342</a> of file <a class="el" href="utils_8c_source.html">utils.c</a>.</p>

<p>References <a class="el" href="utils_8c_source.html#l00291">ast_base64encode_full()</a>.</p>

<p>Referenced by <a class="el" href="res__crypto_8c_source.html#l00376">__ast_sign()</a>, <a class="el" href="func__aes_8c_source.html#l00073">aes_helper()</a>, <a class="el" href="res__jabber_8c_source.html#l00895">aji_start_sasl()</a>, <a class="el" href="func__base64_8c_source.html#l00062">base64_encode()</a>, <a class="el" href="pbx__dundi_8c_source.html#l02082">build_secret()</a>, and <a class="el" href="app__osplookup_8c_source.html#l00591">osp_check_destination()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00343"></a>00343 {
<a name="l00344"></a>00344    <span class="keywordflow">return</span> <a class="code" href="utils_8h.html#abc46a030bcce6696e31ac29a79558b53" title="encode text to BASE64 coding">ast_base64encode_full</a>(dst, src, srclen, max, 0);
<a name="l00345"></a>00345 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="abc46a030bcce6696e31ac29a79558b53"></a><!-- doxytag: member="utils.h::ast_base64encode_full" ref="abc46a030bcce6696e31ac29a79558b53" args="(char *dst, const unsigned char *src, int srclen, int max, int linebreaks)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_base64encode_full </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>srclen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>linebreaks</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>encode text to BASE64 coding </p>

<p>Definition at line <a class="el" href="utils_8c_source.html#l00291">291</a> of file <a class="el" href="utils_8c_source.html">utils.c</a>.</p>

<p>Referenced by <a class="el" href="utils_8c_source.html#l00342">ast_base64encode()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00292"></a>00292 {
<a name="l00293"></a>00293    <span class="keywordtype">int</span> cnt = 0;
<a name="l00294"></a>00294    <span class="keywordtype">int</span> col = 0;
<a name="l00295"></a>00295    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> byte = 0;
<a name="l00296"></a>00296    <span class="keywordtype">int</span> bits = 0;
<a name="l00297"></a>00297    <span class="keywordtype">int</span> cntin = 0;
<a name="l00298"></a>00298    <span class="comment">/* Reserve space for null byte at end of string */</span>
<a name="l00299"></a>00299    max--;
<a name="l00300"></a>00300    <span class="keywordflow">while</span> ((cntin &lt; srclen) &amp;&amp; (cnt &lt; max)) {
<a name="l00301"></a>00301       byte &lt;&lt;= 8;
<a name="l00302"></a>00302       byte |= *(src++);
<a name="l00303"></a>00303       bits += 8;
<a name="l00304"></a>00304       cntin++;
<a name="l00305"></a>00305       <span class="keywordflow">if</span> ((bits == 24) &amp;&amp; (cnt + 4 &lt;= max)) {
<a name="l00306"></a>00306          *dst++ = <a class="code" href="utils_8c.html#a094cd85754f67592588ab5a0636cf0ea">base64</a>[(byte &gt;&gt; 18) &amp; 0x3f];
<a name="l00307"></a>00307          *dst++ = <a class="code" href="utils_8c.html#a094cd85754f67592588ab5a0636cf0ea">base64</a>[(byte &gt;&gt; 12) &amp; 0x3f];
<a name="l00308"></a>00308          *dst++ = <a class="code" href="utils_8c.html#a094cd85754f67592588ab5a0636cf0ea">base64</a>[(byte &gt;&gt; 6) &amp; 0x3f];
<a name="l00309"></a>00309          *dst++ = <a class="code" href="utils_8c.html#a094cd85754f67592588ab5a0636cf0ea">base64</a>[byte &amp; 0x3f];
<a name="l00310"></a>00310          cnt += 4;
<a name="l00311"></a>00311          col += 4;
<a name="l00312"></a>00312          bits = 0;
<a name="l00313"></a>00313          byte = 0;
<a name="l00314"></a>00314       }
<a name="l00315"></a>00315       <span class="keywordflow">if</span> (linebreaks &amp;&amp; (cnt &lt; max) &amp;&amp; (col == 64)) {
<a name="l00316"></a>00316          *dst++ = <span class="charliteral">&apos;\n&apos;</span>;
<a name="l00317"></a>00317          cnt++;
<a name="l00318"></a>00318          col = 0;
<a name="l00319"></a>00319       }
<a name="l00320"></a>00320    }
<a name="l00321"></a>00321    <span class="keywordflow">if</span> (bits &amp;&amp; (cnt + 4 &lt;= max)) {
<a name="l00322"></a>00322       <span class="comment">/* Add one last character for the remaining bits, </span>
<a name="l00323"></a>00323 <span class="comment">         padding the rest with 0 */</span>
<a name="l00324"></a>00324       byte &lt;&lt;= 24 - bits;
<a name="l00325"></a>00325       *dst++ = <a class="code" href="utils_8c.html#a094cd85754f67592588ab5a0636cf0ea">base64</a>[(byte &gt;&gt; 18) &amp; 0x3f];
<a name="l00326"></a>00326       *dst++ = <a class="code" href="utils_8c.html#a094cd85754f67592588ab5a0636cf0ea">base64</a>[(byte &gt;&gt; 12) &amp; 0x3f];
<a name="l00327"></a>00327       <span class="keywordflow">if</span> (bits == 16)
<a name="l00328"></a>00328          *dst++ = <a class="code" href="utils_8c.html#a094cd85754f67592588ab5a0636cf0ea">base64</a>[(byte &gt;&gt; 6) &amp; 0x3f];
<a name="l00329"></a>00329       <span class="keywordflow">else</span>
<a name="l00330"></a>00330          *dst++ = <span class="charliteral">&apos;=&apos;</span>;
<a name="l00331"></a>00331       *dst++ = <span class="charliteral">&apos;=&apos;</span>;
<a name="l00332"></a>00332       cnt += 4;
<a name="l00333"></a>00333    }
<a name="l00334"></a>00334    <span class="keywordflow">if</span> (linebreaks &amp;&amp; (cnt &lt; max)) {
<a name="l00335"></a>00335       *dst++ = <span class="charliteral">&apos;\n&apos;</span>;
<a name="l00336"></a>00336       cnt++;
<a name="l00337"></a>00337    }
<a name="l00338"></a>00338    *dst = <span class="charliteral">&apos;\0&apos;</span>;
<a name="l00339"></a>00339    <span class="keywordflow">return</span> cnt;
<a name="l00340"></a>00340 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac98e1e1d96da82715f3aac5919de5bc6"></a><!-- doxytag: member="utils.h::ast_careful_fwrite" ref="ac98e1e1d96da82715f3aac5919de5bc6" args="(FILE *f, int fd, const char *s, size_t len, int timeoutms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_careful_fwrite </td>
          <td>(</td>
          <td class="paramtype">FILE *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>timeoutms</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write data to a file stream with a timeout. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>the file stream to write to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fd</em>&nbsp;</td><td>the file description to poll on to know when the file stream can be written to without blocking. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>the buffer to write from </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>the <a class="el" href="structnumber.html" title="Number structure.">number</a> of bytes to write </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeoutms</em>&nbsp;</td><td>The maximum amount of time to block in this function trying to write, specified in milliseconds.</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This function assumes that the associated file stream has been set up as non-blocking.</dd></dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="utils_8c_source.html#l01154">1154</a> of file <a class="el" href="utils_8c_source.html">utils.c</a>.</p>

<p>References <a class="el" href="logger_8c_source.html#l01090">ast_log()</a>, <a class="el" href="time_8h_source.html#l00089">ast_tvdiff_ms()</a>, <a class="el" href="time_8h_source.html#l00141">ast_tvnow()</a>, <a class="el" href="utils_8c_source.html#l01060">ast_wait_for_output()</a>, <a class="el" href="private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="ast__expr2f_8c_source.html#l00563">fwrite</a>, and <a class="el" href="logger_8h_source.html#l00163">LOG_ERROR</a>.</p>

<p>Referenced by <a class="el" href="manager_8c_source.html#l00944">send_string()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01155"></a>01155 {
<a name="l01156"></a>01156    <span class="keyword">struct </span>timeval start = <a class="code" href="time_8h.html#abd5ba75c20787bcc479809c53b58406e" title="Returns current timeval. Meant to replace calls to gettimeofday().">ast_tvnow</a>();
<a name="l01157"></a>01157    <span class="keywordtype">int</span> n = 0;
<a name="l01158"></a>01158    <span class="keywordtype">int</span> elapsed = 0;
<a name="l01159"></a>01159 
<a name="l01160"></a>01160    <span class="keywordflow">while</span> (<a class="code" href="func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>) {
<a name="l01161"></a>01161       <span class="keywordflow">if</span> (<a class="code" href="utils_8c.html#ac58e0f6d4af3a1a7444467e51a300a08">ast_wait_for_output</a>(fd, timeoutms - elapsed)) {
<a name="l01162"></a>01162          <span class="comment">/* poll returned a fatal error, so bail out immediately. */</span>
<a name="l01163"></a>01163          <span class="keywordflow">return</span> -1;
<a name="l01164"></a>01164       }
<a name="l01165"></a>01165 
<a name="l01166"></a>01166       <span class="comment">/* Clear any errors from a previous write */</span>
<a name="l01167"></a>01167       clearerr(<a class="code" href="format__g726_8c.html#a6add0b75a88c25db4ccbf690acda6d7f">f</a>);
<a name="l01168"></a>01168 
<a name="l01169"></a>01169       n = <a class="code" href="ast__expr2f_8c.html#a8541b986268a39ba1b07d9e912d31732">fwrite</a>(src, 1, <a class="code" href="func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, <a class="code" href="format__g726_8c.html#a6add0b75a88c25db4ccbf690acda6d7f">f</a>);
<a name="l01170"></a>01170 
<a name="l01171"></a>01171       <span class="keywordflow">if</span> (ferror(<a class="code" href="format__g726_8c.html#a6add0b75a88c25db4ccbf690acda6d7f">f</a>) &amp;&amp; errno != EINTR &amp;&amp; errno != EAGAIN) {
<a name="l01172"></a>01172          <span class="comment">/* fatal error from fwrite() */</span>
<a name="l01173"></a>01173          <span class="keywordflow">if</span> (!feof(<a class="code" href="format__g726_8c.html#a6add0b75a88c25db4ccbf690acda6d7f">f</a>)) {
<a name="l01174"></a>01174             <span class="comment">/* Don&apos;t spam the logs if it was just that the connection is closed. */</span>
<a name="l01175"></a>01175             <a class="code" href="logger_8h.html#a93dd824dff97fe84941d6d71b7a3710e" title="Used for sending a log message This is the standard logger function. Probably the...">ast_log</a>(<a class="code" href="logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;fwrite() returned error: %s\n&quot;</span>, strerror(errno));
<a name="l01176"></a>01176          }
<a name="l01177"></a>01177          n = -1;
<a name="l01178"></a>01178          <span class="keywordflow">break</span>;
<a name="l01179"></a>01179       }
<a name="l01180"></a>01180 
<a name="l01181"></a>01181       <span class="comment">/* Update for data already written to the socket */</span>
<a name="l01182"></a>01182       <a class="code" href="func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> -= n;
<a name="l01183"></a>01183       src += n;
<a name="l01184"></a>01184 
<a name="l01185"></a>01185       elapsed = <a class="code" href="time_8h.html#a74e35cffcd45ad6cd7c8587921e8a4c2" title="Computes the difference (in milliseconds) between two struct timeval instances.">ast_tvdiff_ms</a>(<a class="code" href="time_8h.html#abd5ba75c20787bcc479809c53b58406e" title="Returns current timeval. Meant to replace calls to gettimeofday().">ast_tvnow</a>(), start);
<a name="l01186"></a>01186       <span class="keywordflow">if</span> (elapsed &gt;= timeoutms) {
<a name="l01187"></a>01187          <span class="comment">/* We&apos;ve taken too long to write </span>
<a name="l01188"></a>01188 <span class="comment">          * This is only an error condition if we haven&apos;t finished writing. */</span>
<a name="l01189"></a>01189          n = <a class="code" href="func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> ? -1 : 0;
<a name="l01190"></a>01190          <span class="keywordflow">break</span>;
<a name="l01191"></a>01191       }
<a name="l01192"></a>01192    }
<a name="l01193"></a>01193 
<a name="l01194"></a>01194    <span class="keywordflow">while</span> (fflush(<a class="code" href="format__g726_8c.html#a6add0b75a88c25db4ccbf690acda6d7f">f</a>)) {
<a name="l01195"></a>01195       <span class="keywordflow">if</span> (errno == EAGAIN || errno == EINTR) {
<a name="l01196"></a>01196          <span class="keywordflow">continue</span>;
<a name="l01197"></a>01197       }
<a name="l01198"></a>01198       <span class="keywordflow">if</span> (!feof(<a class="code" href="format__g726_8c.html#a6add0b75a88c25db4ccbf690acda6d7f">f</a>)) {
<a name="l01199"></a>01199          <span class="comment">/* Don&apos;t spam the logs if it was just that the connection is closed. */</span>
<a name="l01200"></a>01200          <a class="code" href="logger_8h.html#a93dd824dff97fe84941d6d71b7a3710e" title="Used for sending a log message This is the standard logger function. Probably the...">ast_log</a>(<a class="code" href="logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;fflush() returned error: %s\n&quot;</span>, strerror(errno));
<a name="l01201"></a>01201       }
<a name="l01202"></a>01202       n = -1;
<a name="l01203"></a>01203       <span class="keywordflow">break</span>;
<a name="l01204"></a>01204    }
<a name="l01205"></a>01205 
<a name="l01206"></a>01206    <span class="keywordflow">return</span> n &lt; 0 ? -1 : 0;
<a name="l01207"></a>01207 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a38faf2987c375335b2773964aabf69b3"></a><!-- doxytag: member="utils.h::ast_carefulwrite" ref="a38faf2987c375335b2773964aabf69b3" args="(int fd, char *s, int len, int timeoutms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_carefulwrite </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>timeoutms</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Try to write string, but wait no more than ms milliseconds before timing out. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>If you are calling ast_carefulwrite, it is assumed that you are calling it on a file descriptor that _DOES_ have NONBLOCK set. This way, there is only one system call made to do a write, unless we actually have a need to wait. This way, we get better performance.</dd></dl>
<p>Try to write string, but wait no more than ms milliseconds before timing out.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>The code assumes that the file descriptor has NONBLOCK set, so there is only one system call made to do a write, unless we actually have a need to wait. This way, we get better performance. If the descriptor is blocking, all assumptions on the guaranteed detail do not apply anymore. </dd></dl>

<p>Definition at line <a class="el" href="utils_8c_source.html#l01113">1113</a> of file <a class="el" href="utils_8c_source.html">utils.c</a>.</p>

<p>References <a class="el" href="logger_8c_source.html#l01090">ast_log()</a>, <a class="el" href="time_8h_source.html#l00089">ast_tvdiff_ms()</a>, <a class="el" href="time_8h_source.html#l00141">ast_tvnow()</a>, <a class="el" href="utils_8c_source.html#l01060">ast_wait_for_output()</a>, <a class="el" href="private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, and <a class="el" href="logger_8h_source.html#l00163">LOG_ERROR</a>.</p>

<p>Referenced by <a class="el" href="res__agi_8c_source.html#l00375">ast_agi_send()</a>, and <a class="el" href="cli_8c_source.html#l00100">ast_cli()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01114"></a>01114 {
<a name="l01115"></a>01115    <span class="keyword">struct </span>timeval start = <a class="code" href="time_8h.html#abd5ba75c20787bcc479809c53b58406e" title="Returns current timeval. Meant to replace calls to gettimeofday().">ast_tvnow</a>();
<a name="l01116"></a>01116    <span class="keywordtype">int</span> res = 0;
<a name="l01117"></a>01117    <span class="keywordtype">int</span> elapsed = 0;
<a name="l01118"></a>01118 
<a name="l01119"></a>01119    <span class="keywordflow">while</span> (<a class="code" href="func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>) {
<a name="l01120"></a>01120       <span class="keywordflow">if</span> (<a class="code" href="utils_8c.html#ac58e0f6d4af3a1a7444467e51a300a08">ast_wait_for_output</a>(fd, timeoutms - elapsed)) {
<a name="l01121"></a>01121          <span class="keywordflow">return</span> -1;
<a name="l01122"></a>01122       }
<a name="l01123"></a>01123 
<a name="l01124"></a>01124       res = write(fd, <a class="code" href="aesopt_8h.html#a20c782a91c883391b9bdf9e3176e447c">s</a>, <a class="code" href="func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);
<a name="l01125"></a>01125 
<a name="l01126"></a>01126       <span class="keywordflow">if</span> (res &lt; 0 &amp;&amp; errno != EAGAIN &amp;&amp; errno != EINTR) {
<a name="l01127"></a>01127          <span class="comment">/* fatal error from write() */</span>
<a name="l01128"></a>01128          <a class="code" href="logger_8h.html#a93dd824dff97fe84941d6d71b7a3710e" title="Used for sending a log message This is the standard logger function. Probably the...">ast_log</a>(<a class="code" href="logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;write() returned error: %s\n&quot;</span>, strerror(errno));
<a name="l01129"></a>01129          <span class="keywordflow">return</span> -1;
<a name="l01130"></a>01130       }
<a name="l01131"></a>01131 
<a name="l01132"></a>01132       <span class="keywordflow">if</span> (res &lt; 0) {
<a name="l01133"></a>01133          <span class="comment">/* It was an acceptable error */</span>
<a name="l01134"></a>01134          res = 0;
<a name="l01135"></a>01135       }
<a name="l01136"></a>01136 
<a name="l01137"></a>01137       <span class="comment">/* Update how much data we have left to write */</span>
<a name="l01138"></a>01138       <a class="code" href="func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> -= res;
<a name="l01139"></a>01139       <a class="code" href="aesopt_8h.html#a20c782a91c883391b9bdf9e3176e447c">s</a> += res;
<a name="l01140"></a>01140       res = 0;
<a name="l01141"></a>01141 
<a name="l01142"></a>01142       elapsed = <a class="code" href="time_8h.html#a74e35cffcd45ad6cd7c8587921e8a4c2" title="Computes the difference (in milliseconds) between two struct timeval instances.">ast_tvdiff_ms</a>(<a class="code" href="time_8h.html#abd5ba75c20787bcc479809c53b58406e" title="Returns current timeval. Meant to replace calls to gettimeofday().">ast_tvnow</a>(), start);
<a name="l01143"></a>01143       <span class="keywordflow">if</span> (elapsed &gt;= timeoutms) {
<a name="l01144"></a>01144          <span class="comment">/* We&apos;ve taken too long to write </span>
<a name="l01145"></a>01145 <span class="comment">          * This is only an error condition if we haven&apos;t finished writing. */</span>
<a name="l01146"></a>01146          res = <a class="code" href="func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> ? -1 : 0;
<a name="l01147"></a>01147          <span class="keywordflow">break</span>;
<a name="l01148"></a>01148       }
<a name="l01149"></a>01149    }
<a name="l01150"></a>01150 
<a name="l01151"></a>01151    <span class="keywordflow">return</span> res;
<a name="l01152"></a>01152 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4e9f7c7ca75b0ff48b60b136e3961b61"></a><!-- doxytag: member="utils.h::ast_eid_cmp" ref="a4e9f7c7ca75b0ff48b60b136e3961b61" args="(const struct ast_eid *eid1, const struct ast_eid *eid2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_eid_cmp </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structast__eid.html">ast_eid</a> *&nbsp;</td>
          <td class="paramname"> <em>eid1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structast__eid.html">ast_eid</a> *&nbsp;</td>
          <td class="paramname"> <em>eid2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compare two EIDs. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the two are the same, non-zero otherwise </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.6.1 </dd></dl>

<p>Definition at line <a class="el" href="netsock_8c_source.html#l00294">294</a> of file <a class="el" href="netsock_8c_source.html">netsock.c</a>.</p>

<p>Referenced by <a class="el" href="evt_8c_source.html#l00172">ast_event_cb()</a>, <a class="el" href="pbx__dundi_8c_source.html#l04371">build_peer()</a>, <a class="el" href="pbx__dundi_8c_source.html#l03450">build_transactions()</a>, <a class="el" href="pbx__dundi_8c_source.html#l02956">destroy_trans()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00786">dundi_answer_entity()</a>, <a class="el" href="pbx__dundi_8c_source.html#l01064">dundi_answer_query()</a>, <a class="el" href="pbx__dundi_8c_source.html#l03144">dundi_ie_append_eid_appropriately()</a>, <a class="el" href="pbx__dundi_8c_source.html#l03574">dundi_lookup_internal()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00917">dundi_prop_precache()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00731">dundi_query_thread()</a>, <a class="el" href="evt_8c_source.html#l00118">evt_event_deliver_cb()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00503">find_peer()</a>, <a class="el" href="pbx__dundi_8c_source.html#l01553">handle_command_response()</a>, <a class="el" href="pbx__dundi_8c_source.html#l03337">optimize_transactions()</a>, and <a class="el" href="pbx__dundi_8c_source.html#l03508">register_request()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00295"></a>00295 {
<a name="l00296"></a>00296    <span class="keywordflow">return</span> memcmp(eid1, eid2, <span class="keyword">sizeof</span>(*eid1));
<a name="l00297"></a>00297 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8ebf6841073ea2a063a0c86a5092a85b"></a><!-- doxytag: member="utils.h::ast_eid_to_str" ref="a8ebf6841073ea2a063a0c86a5092a85b" args="(char *s, int maxlen, struct ast_eid *eid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* ast_eid_to_str </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>maxlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structast__eid.html">ast_eid</a> *&nbsp;</td>
          <td class="paramname"> <em>eid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>/brief Convert an EID to a string </p>
<dl class="since"><dt><b>Since:</b></dt><dd>1.6.1 </dd></dl>

<p>Definition at line <a class="el" href="netsock_8c_source.html#l00218">218</a> of file <a class="el" href="netsock_8c_source.html">netsock.c</a>.</p>

<p>References <a class="el" href="utils_8h_source.html#l00687">ast_eid::eid</a>.</p>

<p>Referenced by <a class="el" href="pbx__dundi_8c_source.html#l03393">append_transaction()</a>, <a class="el" href="netsock_8c_source.html#l00235">ast_set_default_eid()</a>, <a class="el" href="pbx__dundi_8c_source.html#l04371">build_peer()</a>, <a class="el" href="pbx__dundi_8c_source.html#l03450">build_transactions()</a>, <a class="el" href="pbx__dundi_8c_source.html#l01219">cache_lookup()</a>, <a class="el" href="pbx__dundi_8c_source.html#l01147">cache_lookup_internal()</a>, <a class="el" href="pbx__dundi_8c_source.html#l01470">check_key()</a>, <a class="el" href="pbx__dundi_8c_source.html#l02383">complete_peer_helper()</a>, <a class="el" href="pbx__dundi_8c_source.html#l02956">destroy_trans()</a>, <a class="el" href="pbx__dundi_8c_source.html#l03133">do_autokill()</a>, <a class="el" href="pbx__dundi_8c_source.html#l04290">do_register()</a>, <a class="el" href="pbx__dundi_8c_source.html#l01296">do_register_expire()</a>, <a class="el" href="dundi-parser_8c_source.html#l00281">dump_answer()</a>, <a class="el" href="dundi-parser_8c_source.html#l00100">dump_eid()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00786">dundi_answer_entity()</a>, <a class="el" href="pbx__dundi_8c_source.html#l03574">dundi_lookup_internal()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00561">dundi_lookup_local()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00634">dundi_lookup_thread()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00698">dundi_precache_thread()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00917">dundi_prop_precache()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00731">dundi_query_thread()</a>, <a class="el" href="pbx__dundi_8c_source.html#l03062">dundi_send()</a>, <a class="el" href="pbx__dundi_8c_source.html#l02760">dundi_show_entityid()</a>, <a class="el" href="pbx__dundi_8c_source.html#l02563">dundi_show_peer()</a>, <a class="el" href="pbx__dundi_8c_source.html#l02636">dundi_show_peers()</a>, <a class="el" href="pbx__dundi_8c_source.html#l02782">dundi_show_requests()</a>, <a class="el" href="pbx__dundi_8c_source.html#l01553">handle_command_response()</a>, <a class="el" href="asterisk_8c_source.html#l00413">handle_show_settings()</a>, <a class="el" href="pbx_8c_source.html#l02867">pbx_retrieve_variable()</a>, <a class="el" href="pbx__dundi_8c_source.html#l04347">populate_addr()</a>, <a class="el" href="pbx__dundi_8c_source.html#l03508">register_request()</a>, and <a class="el" href="pbx__dundi_8c_source.html#l01307">update_key()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00219"></a>00219 {
<a name="l00220"></a>00220    <span class="keywordtype">int</span> x;
<a name="l00221"></a>00221    <span class="keywordtype">char</span> *os = <a class="code" href="aesopt_8h.html#a20c782a91c883391b9bdf9e3176e447c">s</a>;
<a name="l00222"></a>00222    <span class="keywordflow">if</span> (maxlen &lt; 18) {
<a name="l00223"></a>00223       <span class="keywordflow">if</span> (<a class="code" href="aesopt_8h.html#a20c782a91c883391b9bdf9e3176e447c">s</a> &amp;&amp; (maxlen &gt; 0))
<a name="l00224"></a>00224          *<a class="code" href="aesopt_8h.html#a20c782a91c883391b9bdf9e3176e447c">s</a> = <span class="charliteral">&apos;\0&apos;</span>;
<a name="l00225"></a>00225    } <span class="keywordflow">else</span> {
<a name="l00226"></a>00226       <span class="keywordflow">for</span> (x = 0; x &lt; 5; x++) {
<a name="l00227"></a>00227          sprintf(<a class="code" href="aesopt_8h.html#a20c782a91c883391b9bdf9e3176e447c">s</a>, <span class="stringliteral">&quot;%02x:&quot;</span>, eid-&gt;<a class="code" href="structast__eid.html#aaffcb04ac1b364a0788003f95715460b">eid</a>[x]);
<a name="l00228"></a>00228          <a class="code" href="aesopt_8h.html#a20c782a91c883391b9bdf9e3176e447c">s</a> += 3;
<a name="l00229"></a>00229       }
<a name="l00230"></a>00230       sprintf(<a class="code" href="aesopt_8h.html#a20c782a91c883391b9bdf9e3176e447c">s</a>, <span class="stringliteral">&quot;%02x&quot;</span>, eid-&gt;<a class="code" href="structast__eid.html#aaffcb04ac1b364a0788003f95715460b">eid</a>[5]);
<a name="l00231"></a>00231    }
<a name="l00232"></a>00232    <span class="keywordflow">return</span> os;
<a name="l00233"></a>00233 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a89056bba460d0aa179d3a3ddc0af472a"></a><!-- doxytag: member="utils.h::ast_enable_packet_fragmentation" ref="a89056bba460d0aa179d3a3ddc0af472a" args="(int sock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_enable_packet_fragmentation </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sock</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disable PMTU discovery on a socket. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sock</em>&nbsp;</td><td>The socket to manipulate </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Nothing</dd></dl>
<p>On Linux, UDP sockets default to sending packets with the Dont Fragment (DF) bit set. This is supposedly done to allow the application to do PMTU discovery, but Asterisk does not do this.</p>
<p>Because of this, UDP packets sent by Asterisk that are larger than the MTU of any hop in the path will be lost. This function can be called on a socket to ensure that the DF bit will not be set. </p>

<p>Definition at line <a class="el" href="utils_8c_source.html#l01755">1755</a> of file <a class="el" href="utils_8c_source.html">utils.c</a>.</p>

<p>References <a class="el" href="logger_8c_source.html#l01090">ast_log()</a>, and <a class="el" href="logger_8h_source.html#l00152">LOG_WARNING</a>.</p>

<p>Referenced by <a class="el" href="netsock_8c_source.html#l00104">ast_netsock_bindaddr()</a>, and <a class="el" href="chan__sip_8c_source.html#l24245">reload_config()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01756"></a>01756 {
<a name="l01757"></a>01757 <span class="preprocessor">#if defined(HAVE_IP_MTU_DISCOVER)</span>
<a name="l01758"></a>01758 <span class="preprocessor"></span>   <span class="keywordtype">int</span> <a class="code" href="structval.html">val</a> = IP_PMTUDISC_DONT;
<a name="l01759"></a>01759    
<a name="l01760"></a>01760    <span class="keywordflow">if</span> (setsockopt(sock, IPPROTO_IP, IP_MTU_DISCOVER, &amp;val, <span class="keyword">sizeof</span>(val)))
<a name="l01761"></a>01761       <a class="code" href="logger_8h.html#a93dd824dff97fe84941d6d71b7a3710e" title="Used for sending a log message This is the standard logger function. Probably the...">ast_log</a>(<a class="code" href="logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to disable PMTU discovery. Large UDP packets may fail to be delivered when sent from this socket.\n&quot;</span>);
<a name="l01762"></a>01762 <span class="preprocessor">#endif </span><span class="comment">/* HAVE_IP_MTU_DISCOVER */</span>
<a name="l01763"></a>01763 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4e6aceb50eca868b7c38064c6c1a4789"></a><!-- doxytag: member="utils.h::ast_free_ptr" ref="a4e6aceb50eca868b7c38064c6c1a4789" args="(void *ptr) attribute_unused" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ast_free_ptr </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>ptr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="astmm_8h.html#aa7157aa9480bb73f090dca36776419bf">free()</a> wrapper </p>
<p>ast_free_ptr should be used when a function pointer for <a class="el" href="astmm_8h.html#aa7157aa9480bb73f090dca36776419bf">free()</a> needs to be passed as the argument to a function. Otherwise, astmm will cause seg faults. </p>

<p>Definition at line <a class="el" href="utils_8h_source.html#l00415">415</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>References <a class="el" href="astmm_8h_source.html#l00087">ast_free</a>.</p>

<p>Referenced by <a class="el" href="pval_8c_source.html#l04207">add_extensions()</a>, <a class="el" href="pbx_8c_source.html#l03896">ast_extension_state_add()</a>, <a class="el" href="pbx_8c_source.html#l06623">ast_merge_contexts_and_delete()</a>, <a class="el" href="features_8c_source.html#l03554">build_parkinglot()</a>, <a class="el" href="pbx__config_8c_source.html#l00902">handle_cli_dialplan_add_extension()</a>, <a class="el" href="app__dial_8c_source.html#l02469">load_module()</a>, <a class="el" href="features_8c_source.html#l03009">manage_parkinglot()</a>, <a class="el" href="features_8c_source.html#l00678">park_call_full()</a>, <a class="el" href="pbx__config_8c_source.html#l01367">pbx_load_config()</a>, <a class="el" href="pbx__config_8c_source.html#l01608">pbx_load_users()</a>, <a class="el" href="chan__skinny_8c_source.html#l01764">register_exten()</a>, <a class="el" href="chan__iax2_8c_source.html#l08216">register_peer_exten()</a>, <a class="el" href="app__meetme_8c_source.html#l06177">sla_build_station()</a>, and <a class="el" href="app__meetme_8c_source.html#l06042">sla_build_trunk()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00416"></a>00416 {
<a name="l00417"></a>00417    <a class="code" href="astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(ptr);
<a name="l00418"></a>00418 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad3b63ee1041593219ef0765b28d70442"></a><!-- doxytag: member="utils.h::ast_gethostbyname" ref="ad3b63ee1041593219ef0765b28d70442" args="(const char *host, struct ast_hostent *hp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct hostent* ast_gethostbyname </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structast__hostent.html">ast_hostent</a> *&nbsp;</td>
          <td class="paramname"> <em>hp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Thread-safe gethostbyname function to use in Asterisk. </p>

<p>Definition at line <a class="el" href="utils_8c_source.html#l00182">182</a> of file <a class="el" href="utils_8c_source.html">utils.c</a>.</p>

<p>References <a class="el" href="utils_8h_source.html#l00210">ast_hostent::buf</a>, <a class="el" href="utils_8c_source.html#l00082">gethostbyname_r()</a>, <a class="el" href="utils_8h_source.html#l00209">ast_hostent::hp</a>, and <a class="el" href="aesopt_8h_source.html#l00399">s</a>.</p>

<p>Referenced by <a class="el" href="http_8c_source.html#l00848">__ast_http_load()</a>, <a class="el" href="manager_8c_source.html#l04061">__init_manager()</a>, <a class="el" href="chan__sip_8c_source.html#l12157">__set_address_from_contact()</a>, <a class="el" href="app__externalivr_8c_source.html#l00314">app_exec()</a>, <a class="el" href="acl_8c_source.html#l00511">ast_find_ourip()</a>, <a class="el" href="acl_8c_source.html#l00375">ast_get_ip_or_srv()</a>, <a class="el" href="config_8c_source.html#l02286">ast_parse_arg()</a>, <a class="el" href="pbx__dundi_8c_source.html#l04371">build_peer()</a>, <a class="el" href="chan__sip_8c_source.html#l13770">check_via()</a>, <a class="el" href="chan__skinny_8c_source.html#l07053">config_load()</a>, <a class="el" href="chan__skinny_8c_source.html#l06537">config_parse_variables()</a>, <a class="el" href="chan__h323_8c_source.html#l01650">create_addr()</a>, <a class="el" href="app__festival_8c_source.html#l00268">festival_exec()</a>, <a class="el" href="chan__sip_8c_source.html#l07983">get_ip_and_port_from_sdp()</a>, <a class="el" href="chan__gtalk_8c_source.html#l01901">gtalk_load_config()</a>, <a class="el" href="chan__gtalk_8c_source.html#l01256">gtalk_update_stun()</a>, <a class="el" href="udptl_8c_source.html#l01275">handle_cli_udptl_set_debug()</a>, <a class="el" href="iax2-provision_8c_source.html#l00277">iax_template_parse()</a>, <a class="el" href="chan__jingle_8c_source.html#l01724">jingle_load_config()</a>, <a class="el" href="chan__jingle_8c_source.html#l01063">jingle_update_stun()</a>, <a class="el" href="res__agi_8c_source.html#l00779">launch_netscript()</a>, <a class="el" href="chan__sip_8c_source.html#l12222">parse_register_contact()</a>, <a class="el" href="chan__mgcp_8c_source.html#l01838">process_sdp()</a>, <a class="el" href="chan__sip_8c_source.html#l08691">process_sdp_c()</a>, <a class="el" href="chan__iax2_8c_source.html#l04115">realtime_peer()</a>, <a class="el" href="chan__iax2_8c_source.html#l04235">realtime_user()</a>, <a class="el" href="chan__h323_8c_source.html#l02832">reload_config()</a>, <a class="el" href="app__rpt_8c_source.html#l13122">rpt_exec()</a>, <a class="el" href="rtp_8c_source.html#l04581">rtcp_do_debug_ip()</a>, <a class="el" href="rtp_8c_source.html#l04551">rtp_do_debug_ip()</a>, <a class="el" href="pbx__dundi_8c_source.html#l04635">set_config()</a>, <a class="el" href="chan__sip_8c_source.html#l09200">set_destination()</a>, and <a class="el" href="chan__sip_8c_source.html#l16798">sip_do_debug_ip()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00183"></a>00183 {
<a name="l00184"></a>00184    <span class="keywordtype">int</span> res;
<a name="l00185"></a>00185    <span class="keywordtype">int</span> herrno;
<a name="l00186"></a>00186    <span class="keywordtype">int</span> dots = 0;
<a name="l00187"></a>00187    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="aesopt_8h.html#a20c782a91c883391b9bdf9e3176e447c">s</a>;
<a name="l00188"></a>00188    <span class="keyword">struct </span>hostent *result = NULL;
<a name="l00189"></a>00189    <span class="comment">/* Although it is perfectly legitimate to lookup a pure integer, for</span>
<a name="l00190"></a>00190 <span class="comment">      the sake of the sanity of people who like to name their peers as</span>
<a name="l00191"></a>00191 <span class="comment">      integers, we break with tradition and refuse to look up a</span>
<a name="l00192"></a>00192 <span class="comment">      pure integer */</span>
<a name="l00193"></a>00193    s = host;
<a name="l00194"></a>00194    res = 0;
<a name="l00195"></a>00195    <span class="keywordflow">while</span> (s &amp;&amp; *s) {
<a name="l00196"></a>00196       <span class="keywordflow">if</span> (*s == <span class="charliteral">&apos;.&apos;</span>)
<a name="l00197"></a>00197          dots++;
<a name="l00198"></a>00198       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!isdigit(*s))
<a name="l00199"></a>00199          <span class="keywordflow">break</span>;
<a name="l00200"></a>00200       s++;
<a name="l00201"></a>00201    }
<a name="l00202"></a>00202    <span class="keywordflow">if</span> (!s || !*s) {
<a name="l00203"></a>00203       <span class="comment">/* Forge a reply for IP&apos;s to avoid octal IP&apos;s being interpreted as octal */</span>
<a name="l00204"></a>00204       <span class="keywordflow">if</span> (dots != 3)
<a name="l00205"></a>00205          <span class="keywordflow">return</span> NULL;
<a name="l00206"></a>00206       memset(hp, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structast__hostent.html">ast_hostent</a>));
<a name="l00207"></a>00207       hp-&gt;<a class="code" href="structast__hostent.html#aeb5e492fbe7eecc5c41d020517da4228">hp</a>.h_addrtype = AF_INET;
<a name="l00208"></a>00208       hp-&gt;<a class="code" href="structast__hostent.html#aeb5e492fbe7eecc5c41d020517da4228">hp</a>.h_addr_list = (<span class="keywordtype">void</span> *) hp-&gt;<a class="code" href="structast__hostent.html#ac75fce8692fd1d41a8985f6aacc4a175">buf</a>;
<a name="l00209"></a>00209       hp-&gt;<a class="code" href="structast__hostent.html#aeb5e492fbe7eecc5c41d020517da4228">hp</a>.h_addr = hp-&gt;<a class="code" href="structast__hostent.html#ac75fce8692fd1d41a8985f6aacc4a175">buf</a> + <span class="keyword">sizeof</span>(<span class="keywordtype">void</span> *);
<a name="l00210"></a>00210       <span class="keywordflow">if</span> (inet_pton(AF_INET, host, hp-&gt;<a class="code" href="structast__hostent.html#aeb5e492fbe7eecc5c41d020517da4228">hp</a>.h_addr) &gt; 0)
<a name="l00211"></a>00211          <span class="keywordflow">return</span> &amp;hp-&gt;<a class="code" href="structast__hostent.html#aeb5e492fbe7eecc5c41d020517da4228">hp</a>;
<a name="l00212"></a>00212       <span class="keywordflow">return</span> NULL;
<a name="l00213"></a>00213       
<a name="l00214"></a>00214    }
<a name="l00215"></a>00215 <span class="preprocessor">#ifdef HAVE_GETHOSTBYNAME_R_5</span>
<a name="l00216"></a>00216 <span class="preprocessor"></span>   result = <a class="code" href="utils_8c.html#a3f966fe2f565bf47d8a37c59475d7958" title="Reentrant replacement for gethostbyname for BSD-based systems.">gethostbyname_r</a>(host, &amp;hp-&gt;<a class="code" href="structast__hostent.html#aeb5e492fbe7eecc5c41d020517da4228">hp</a>, hp-&gt;<a class="code" href="structast__hostent.html#ac75fce8692fd1d41a8985f6aacc4a175">buf</a>, <span class="keyword">sizeof</span>(hp-&gt;<a class="code" href="structast__hostent.html#ac75fce8692fd1d41a8985f6aacc4a175">buf</a>), &amp;herrno);
<a name="l00217"></a>00217 
<a name="l00218"></a>00218    <span class="keywordflow">if</span> (!result || !hp-&gt;<a class="code" href="structast__hostent.html#aeb5e492fbe7eecc5c41d020517da4228">hp</a>.h_addr_list || !hp-&gt;<a class="code" href="structast__hostent.html#aeb5e492fbe7eecc5c41d020517da4228">hp</a>.h_addr_list[0])
<a name="l00219"></a>00219       <span class="keywordflow">return</span> NULL;
<a name="l00220"></a>00220 <span class="preprocessor">#else</span>
<a name="l00221"></a>00221 <span class="preprocessor"></span>   res = <a class="code" href="utils_8c.html#a3f966fe2f565bf47d8a37c59475d7958" title="Reentrant replacement for gethostbyname for BSD-based systems.">gethostbyname_r</a>(host, &amp;hp-&gt;<a class="code" href="structast__hostent.html#aeb5e492fbe7eecc5c41d020517da4228">hp</a>, hp-&gt;<a class="code" href="structast__hostent.html#ac75fce8692fd1d41a8985f6aacc4a175">buf</a>, <span class="keyword">sizeof</span>(hp-&gt;<a class="code" href="structast__hostent.html#ac75fce8692fd1d41a8985f6aacc4a175">buf</a>), &amp;result, &amp;herrno);
<a name="l00222"></a>00222 
<a name="l00223"></a>00223    <span class="keywordflow">if</span> (res || !result || !hp-&gt;<a class="code" href="structast__hostent.html#aeb5e492fbe7eecc5c41d020517da4228">hp</a>.h_addr_list || !hp-&gt;<a class="code" href="structast__hostent.html#aeb5e492fbe7eecc5c41d020517da4228">hp</a>.h_addr_list[0])
<a name="l00224"></a>00224       <span class="keywordflow">return</span> NULL;
<a name="l00225"></a>00225 <span class="preprocessor">#endif</span>
<a name="l00226"></a>00226 <span class="preprocessor"></span>   <span class="keywordflow">return</span> &amp;hp-&gt;<a class="code" href="structast__hostent.html#aeb5e492fbe7eecc5c41d020517da4228">hp</a>;
<a name="l00227"></a>00227 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac19bc2df18345ab0f12d972f2987b896"></a><!-- doxytag: member="utils.h::ast_md5_hash" ref="ac19bc2df18345ab0f12d972f2987b896" args="(char *output, char *input)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_md5_hash </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>input</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Produces MD5 hash based on input string. </p>

<p>Definition at line <a class="el" href="utils_8c_source.html#l00230">230</a> of file <a class="el" href="utils_8c_source.html">utils.c</a>.</p>

<p>References <a class="el" href="md5_8c_source.html#l00122">MD5Final()</a>, <a class="el" href="md5_8c_source.html#l00059">MD5Init()</a>, and <a class="el" href="md5_8c_source.html#l00074">MD5Update()</a>.</p>

<p>Referenced by <a class="el" href="app__authenticate_8c_source.html#l00108">auth_exec()</a>, <a class="el" href="chan__sip_8c_source.html#l17113">build_reply_digest()</a>, <a class="el" href="chan__sip_8c_source.html#l12573">check_auth()</a>, and <a class="el" href="func__md5_8c_source.html#l00050">md5()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00231"></a>00231 {
<a name="l00232"></a>00232    <span class="keyword">struct </span><a class="code" href="structMD5Context.html">MD5Context</a> <a class="code" href="func__md5_8c.html#a058fc1589da2b9b0d8e404ba0482c3af">md5</a>;
<a name="l00233"></a>00233    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> digest[16];
<a name="l00234"></a>00234    <span class="keywordtype">char</span> *ptr;
<a name="l00235"></a>00235    <span class="keywordtype">int</span> x;
<a name="l00236"></a>00236 
<a name="l00237"></a>00237    <a class="code" href="md5_8h.html#a6bdca55813077d1c652a1f63608dac30">MD5Init</a>(&amp;<a class="code" href="func__md5_8c.html#a058fc1589da2b9b0d8e404ba0482c3af">md5</a>);
<a name="l00238"></a>00238    <a class="code" href="md5_8h.html#a2a146d25ee54b589dd79d776522ef742">MD5Update</a>(&amp;<a class="code" href="func__md5_8c.html#a058fc1589da2b9b0d8e404ba0482c3af">md5</a>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code" href="ast__expr2f_8c.html#a5a634cf4429798b1c921a81de8250051">input</a>, strlen(input));
<a name="l00239"></a>00239    <a class="code" href="md5_8h.html#a7132b90c03637ae151c1a8befd7989f2">MD5Final</a>(digest, &amp;<a class="code" href="func__md5_8c.html#a058fc1589da2b9b0d8e404ba0482c3af">md5</a>);
<a name="l00240"></a>00240    ptr = output;
<a name="l00241"></a>00241    <span class="keywordflow">for</span> (x = 0; x &lt; 16; x++)
<a name="l00242"></a>00242       ptr += sprintf(ptr, <span class="stringliteral">&quot;%2.2x&quot;</span>, digest[x]);
<a name="l00243"></a>00243 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7c38859ed90e96df2b0a0fdf843769d0"></a><!-- doxytag: member="utils.h::ast_mkdir" ref="a7c38859ed90e96df2b0a0fdf843769d0" args="(const char *path, int mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_mkdir </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Recursively create directory path. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>The directory path to create </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>The permissions with which to try to create the directory </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success or an error code otherwise</dd></dl>
<p>Creates a directory path, creating parent directories as needed. </p>

<p>Definition at line <a class="el" href="utils_8c_source.html#l01765">1765</a> of file <a class="el" href="utils_8c_source.html">utils.c</a>.</p>

<p>References <a class="el" href="utils_8h_source.html#l00616">ast_strdupa</a>, <a class="el" href="private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, and <a class="el" href="func__strings_8c_source.html#l00821">len()</a>.</p>

<p>Referenced by <a class="el" href="res__monitor_8c_source.html#l00415">ast_monitor_change_fname()</a>, <a class="el" href="res__monitor_8c_source.html#l00148">ast_monitor_start()</a>, <a class="el" href="app__meetme_8c_source.html#l01998">conf_run()</a>, <a class="el" href="app__minivm_8c_source.html#l01294">create_dirpath()</a>, <a class="el" href="app__dictate_8c_source.html#l00084">dictate_exec()</a>, <a class="el" href="logger_8c_source.html#l01004">init_logger()</a>, <a class="el" href="pbx__spool_8c_source.html#l00513">load_module()</a>, <a class="el" href="app__mixmonitor_8c_source.html#l00469">mixmonitor_exec()</a>, <a class="el" href="app__record_8c_source.html#l00132">record_exec()</a>, <a class="el" href="logger_8c_source.html#l00586">reload_logger()</a>, <a class="el" href="pbx__spool_8c_source.html#l00276">remove_from_queue()</a>, <a class="el" href="app__dial_8c_source.html#l01385">setup_privacy_args()</a>, <a class="el" href="app__sms_8c_source.html#l01428">sms_nextoutgoing()</a>, <a class="el" href="app__sms_8c_source.html#l00984">sms_writefile()</a>, <a class="el" href="app__test_8c_source.html#l00146">testclient_exec()</a>, <a class="el" href="app__test_8c_source.html#l00320">testserver_exec()</a>, and <a class="el" href="chan__unistim_8c_source.html#l01693">write_history()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01766"></a>01766 {
<a name="l01767"></a>01767    <span class="keywordtype">char</span> *ptr;
<a name="l01768"></a>01768    <span class="keywordtype">int</span> <a class="code" href="func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> = strlen(path), count = 0, x, piececount = 0;
<a name="l01769"></a>01769    <span class="keywordtype">char</span> *tmp = <a class="code" href="utils_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6" title="duplicate a string in memory from the stack">ast_strdupa</a>(path);
<a name="l01770"></a>01770    <span class="keywordtype">char</span> **pieces;
<a name="l01771"></a>01771    <span class="keywordtype">char</span> *fullpath = alloca(len + 1);
<a name="l01772"></a>01772    <span class="keywordtype">int</span> res = 0;
<a name="l01773"></a>01773 
<a name="l01774"></a>01774    <span class="keywordflow">for</span> (ptr = tmp; *ptr; ptr++) {
<a name="l01775"></a>01775       <span class="keywordflow">if</span> (*ptr == <span class="charliteral">&apos;/&apos;</span>)
<a name="l01776"></a>01776          count++;
<a name="l01777"></a>01777    }
<a name="l01778"></a>01778 
<a name="l01779"></a>01779    <span class="comment">/* Count the components to the directory path */</span>
<a name="l01780"></a>01780    pieces = alloca(count * <span class="keyword">sizeof</span>(*pieces));
<a name="l01781"></a>01781    <span class="keywordflow">for</span> (ptr = tmp; *ptr; ptr++) {
<a name="l01782"></a>01782       <span class="keywordflow">if</span> (*ptr == <span class="charliteral">&apos;/&apos;</span>) {
<a name="l01783"></a>01783          *ptr = <span class="charliteral">&apos;\0&apos;</span>;
<a name="l01784"></a>01784          pieces[piececount++] = ptr + 1;
<a name="l01785"></a>01785       }
<a name="l01786"></a>01786    }
<a name="l01787"></a>01787 
<a name="l01788"></a>01788    *fullpath = <span class="charliteral">&apos;\0&apos;</span>;
<a name="l01789"></a>01789    <span class="keywordflow">for</span> (x = 0; x &lt; piececount; x++) {
<a name="l01790"></a>01790       <span class="comment">/* This looks funky, but the buffer is always ideally-sized, so it&apos;s fine. */</span>
<a name="l01791"></a>01791       strcat(fullpath, <span class="stringliteral">&quot;/&quot;</span>);
<a name="l01792"></a>01792       strcat(fullpath, pieces[x]);
<a name="l01793"></a>01793       res = mkdir(fullpath, mode);
<a name="l01794"></a>01794       <span class="keywordflow">if</span> (res &amp;&amp; errno != EEXIST)
<a name="l01795"></a>01795          <span class="keywordflow">return</span> <a class="code" href="private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>;
<a name="l01796"></a>01796    }
<a name="l01797"></a>01797    <span class="keywordflow">return</span> 0;
<a name="l01798"></a>01798 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3543b8258edfa9140d45147013bc6919"></a><!-- doxytag: member="utils.h::ast_process_quotes_and_slashes" ref="a3543b8258edfa9140d45147013bc6919" args="(char *start, char find, char replace_with)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* ast_process_quotes_and_slashes </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>find</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>replace_with</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process a string to find and replace characters. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>start</em>&nbsp;</td><td>The string to analyze </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>find</em>&nbsp;</td><td>The character to find </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>replace_with</em>&nbsp;</td><td>The character that will replace the one we are looking for </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="utils_8c_source.html#l01425">1425</a> of file <a class="el" href="utils_8c_source.html">utils.c</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01426"></a>01426 {
<a name="l01427"></a>01427    <span class="keywordtype">char</span> *dataPut = start;
<a name="l01428"></a>01428    <span class="keywordtype">int</span> inEscape = 0;
<a name="l01429"></a>01429    <span class="keywordtype">int</span> inQuotes = 0;
<a name="l01430"></a>01430 
<a name="l01431"></a>01431    <span class="keywordflow">for</span> (; *start; start++) {
<a name="l01432"></a>01432       <span class="keywordflow">if</span> (inEscape) {
<a name="l01433"></a>01433          *dataPut++ = *start;       <span class="comment">/* Always goes verbatim */</span>
<a name="l01434"></a>01434          inEscape = 0;
<a name="l01435"></a>01435       } <span class="keywordflow">else</span> {
<a name="l01436"></a>01436          <span class="keywordflow">if</span> (*start == <span class="charliteral">&apos;\\&apos;</span>) {
<a name="l01437"></a>01437             inEscape = 1;      <span class="comment">/* Do not copy \ into the data */</span>
<a name="l01438"></a>01438          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*start == <span class="charliteral">&apos;\&apos;&apos;</span>) {
<a name="l01439"></a>01439             inQuotes = 1 - inQuotes;   <span class="comment">/* Do not copy &apos; into the data */</span>
<a name="l01440"></a>01440          } <span class="keywordflow">else</span> {
<a name="l01441"></a>01441             <span class="comment">/* Replace , with |, unless in quotes */</span>
<a name="l01442"></a>01442             *dataPut++ = inQuotes ? *start : ((*start == find) ? replace_with : *start);
<a name="l01443"></a>01443          }
<a name="l01444"></a>01444       }
<a name="l01445"></a>01445    }
<a name="l01446"></a>01446    <span class="keywordflow">if</span> (start != dataPut)
<a name="l01447"></a>01447       *dataPut = 0;
<a name="l01448"></a>01448    <span class="keywordflow">return</span> dataPut;
<a name="l01449"></a>01449 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af13d115905cb377f2e1b2e46fec92257"></a><!-- doxytag: member="utils.h::ast_pthread_create_detached_stack" ref="af13d115905cb377f2e1b2e46fec92257" args="(pthread_t *thread, pthread_attr_t *attr, void *(*start_routine)(void *), void *data, size_t stacksize, const char *file, const char *caller, int line, const char *start_fn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_pthread_create_detached_stack </td>
          <td>(</td>
          <td class="paramtype">pthread_t *&nbsp;</td>
          <td class="paramname"> <em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pthread_attr_t *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *(*)(void *)&nbsp;</td>
          <td class="paramname"> <em>start_routine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>stacksize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>caller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>start_fn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8c_source.html#l01026">1026</a> of file <a class="el" href="utils_8c_source.html">utils.c</a>.</p>

<p>References <a class="el" href="logger_8c_source.html#l01090">ast_log()</a>, <a class="el" href="utils_8c_source.html#l00977">ast_pthread_create_stack()</a>, <a class="el" href="private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="logger_8h_source.html#l00152">LOG_WARNING</a>, and <a class="el" href="structthr__arg.html#adcc44de35e470687e55b03b41881a939">thr_arg::start_routine</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01029"></a>01029 {
<a name="l01030"></a>01030    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> attr_destroy = 0;
<a name="l01031"></a>01031    <span class="keywordtype">int</span> res;
<a name="l01032"></a>01032 
<a name="l01033"></a>01033    <span class="keywordflow">if</span> (!attr) {
<a name="l01034"></a>01034       attr = alloca(<span class="keyword">sizeof</span>(*attr));
<a name="l01035"></a>01035       pthread_attr_init(attr);
<a name="l01036"></a>01036       attr_destroy = 1;
<a name="l01037"></a>01037    }
<a name="l01038"></a>01038 
<a name="l01039"></a>01039    <span class="keywordflow">if</span> ((errno = pthread_attr_setdetachstate(attr, PTHREAD_CREATE_DETACHED)))
<a name="l01040"></a>01040       <a class="code" href="logger_8h.html#a93dd824dff97fe84941d6d71b7a3710e" title="Used for sending a log message This is the standard logger function. Probably the...">ast_log</a>(<a class="code" href="logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;pthread_attr_setdetachstate: %s\n&quot;</span>, strerror(errno));
<a name="l01041"></a>01041 
<a name="l01042"></a>01042    res = <a class="code" href="utils_8h.html#af740ee3fba7768010783e3faaf5aeb12">ast_pthread_create_stack</a>(<a class="code" href="app__meetme_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a>, attr, start_routine, data, 
<a name="l01043"></a>01043                                   stacksize, file, caller, line, start_fn);
<a name="l01044"></a>01044 
<a name="l01045"></a>01045    <span class="keywordflow">if</span> (attr_destroy)
<a name="l01046"></a>01046       pthread_attr_destroy(attr);
<a name="l01047"></a>01047 
<a name="l01048"></a>01048    <span class="keywordflow">return</span> res;
<a name="l01049"></a>01049 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af740ee3fba7768010783e3faaf5aeb12"></a><!-- doxytag: member="utils.h::ast_pthread_create_stack" ref="af740ee3fba7768010783e3faaf5aeb12" args="(pthread_t *thread, pthread_attr_t *attr, void *(*start_routine)(void *), void *data, size_t stacksize, const char *file, const char *caller, int line, const char *start_fn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_pthread_create_stack </td>
          <td>(</td>
          <td class="paramtype">pthread_t *&nbsp;</td>
          <td class="paramname"> <em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pthread_attr_t *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *(*)(void *)&nbsp;</td>
          <td class="paramname"> <em>start_routine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>stacksize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>caller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>start_fn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8c_source.html#l00977">977</a> of file <a class="el" href="utils_8c_source.html">utils.c</a>.</p>

<p>References <a class="el" href="astmm_8h_source.html#l00108">asprintf</a>, <a class="el" href="logger_8c_source.html#l01090">ast_log()</a>, <a class="el" href="astmm_8h_source.html#l00081">ast_malloc</a>, <a class="el" href="utils_8h_source.html#l00357">AST_STACKSIZE</a>, <a class="el" href="utils_8c_source.html#l00922">thr_arg::data</a>, <a class="el" href="utils_8c_source.html#l00933">dummy_start()</a>, <a class="el" href="private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="logger_8h_source.html#l00152">LOG_WARNING</a>, <a class="el" href="utils_8c_source.html#l00923">thr_arg::name</a>, <a class="el" href="lock_8h_source.html#l01910">pthread_create</a>, and <a class="el" href="structthr__arg.html#adcc44de35e470687e55b03b41881a939">thr_arg::start_routine</a>.</p>

<p>Referenced by <a class="el" href="utils_8c_source.html#l01026">ast_pthread_create_detached_stack()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00980"></a>00980 {
<a name="l00981"></a>00981 <span class="preprocessor">#if !defined(LOW_MEMORY)</span>
<a name="l00982"></a>00982 <span class="preprocessor"></span>   <span class="keyword">struct </span><a class="code" href="structthr__arg.html">thr_arg</a> *a;
<a name="l00983"></a>00983 <span class="preprocessor">#endif</span>
<a name="l00984"></a>00984 <span class="preprocessor"></span>
<a name="l00985"></a>00985    <span class="keywordflow">if</span> (!attr) {
<a name="l00986"></a>00986       attr = alloca(<span class="keyword">sizeof</span>(*attr));
<a name="l00987"></a>00987       pthread_attr_init(attr);
<a name="l00988"></a>00988    }
<a name="l00989"></a>00989 
<a name="l00990"></a>00990 <span class="preprocessor">#ifdef __linux__</span>
<a name="l00991"></a>00991 <span class="preprocessor"></span>   <span class="comment">/* On Linux, pthread_attr_init() defaults to PTHREAD_EXPLICIT_SCHED,</span>
<a name="l00992"></a>00992 <span class="comment">      which is kind of useless. Change this here to</span>
<a name="l00993"></a>00993 <span class="comment">      PTHREAD_INHERIT_SCHED; that way the -p option to set realtime</span>
<a name="l00994"></a>00994 <span class="comment">      priority will propagate down to new threads by default.</span>
<a name="l00995"></a>00995 <span class="comment">      This does mean that callers cannot set a different priority using</span>
<a name="l00996"></a>00996 <span class="comment">      PTHREAD_EXPLICIT_SCHED in the attr argument; instead they must set</span>
<a name="l00997"></a>00997 <span class="comment">      the priority afterwards with pthread_setschedparam(). */</span>
<a name="l00998"></a>00998    <span class="keywordflow">if</span> ((errno = pthread_attr_setinheritsched(attr, PTHREAD_INHERIT_SCHED)))
<a name="l00999"></a>00999       <a class="code" href="logger_8h.html#a93dd824dff97fe84941d6d71b7a3710e" title="Used for sending a log message This is the standard logger function. Probably the...">ast_log</a>(<a class="code" href="logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;pthread_attr_setinheritsched: %s\n&quot;</span>, strerror(errno));
<a name="l01000"></a>01000 <span class="preprocessor">#endif</span>
<a name="l01001"></a>01001 <span class="preprocessor"></span>
<a name="l01002"></a>01002    <span class="keywordflow">if</span> (!stacksize)
<a name="l01003"></a>01003       stacksize = <a class="code" href="utils_8h.html#a47e9ccd65c7bb239af68c006ceae18b4">AST_STACKSIZE</a>;
<a name="l01004"></a>01004 
<a name="l01005"></a>01005    <span class="keywordflow">if</span> ((errno = pthread_attr_setstacksize(attr, stacksize ? stacksize : <a class="code" href="utils_8h.html#a47e9ccd65c7bb239af68c006ceae18b4">AST_STACKSIZE</a>)))
<a name="l01006"></a>01006       <a class="code" href="logger_8h.html#a93dd824dff97fe84941d6d71b7a3710e" title="Used for sending a log message This is the standard logger function. Probably the...">ast_log</a>(<a class="code" href="logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;pthread_attr_setstacksize: %s\n&quot;</span>, strerror(errno));
<a name="l01007"></a>01007 
<a name="l01008"></a>01008 <span class="preprocessor">#if !defined(LOW_MEMORY)</span>
<a name="l01009"></a>01009 <span class="preprocessor"></span>   <span class="keywordflow">if</span> ((a = <a class="code" href="astmm_8h.html#a64a0e7a3ab511a3777ac56f5d43c628e">ast_malloc</a>(<span class="keyword">sizeof</span>(*a)))) {
<a name="l01010"></a>01010       a-&gt;<a class="code" href="structthr__arg.html#adcc44de35e470687e55b03b41881a939">start_routine</a> = <a class="code" href="structthr__arg.html#adcc44de35e470687e55b03b41881a939">start_routine</a>;
<a name="l01011"></a>01011       a-&gt;<a class="code" href="structthr__arg.html#a735984d41155bc1032e09bece8f8d66d">data</a> = <a class="code" href="structthr__arg.html#a735984d41155bc1032e09bece8f8d66d">data</a>;
<a name="l01012"></a>01012       <a class="code" href="structthr__arg.html#adcc44de35e470687e55b03b41881a939">start_routine</a> = <a class="code" href="utils_8c.html#a763d9f2734d56e19a6de3b461a396a1a">dummy_start</a>;
<a name="l01013"></a>01013       <span class="keywordflow">if</span> (<a class="code" href="astmm_8h.html#a5d1f84199c77c83b8b51928dd359e228">asprintf</a>(&amp;a-&gt;<a class="code" href="structthr__arg.html#a5ac083a645d964373f022d03df4849c8">name</a>, <span class="stringliteral">&quot;%-20s started at [%5d] %s %s()&quot;</span>,
<a name="l01014"></a>01014               start_fn, line, file, caller) &lt; 0) {
<a name="l01015"></a>01015          <a class="code" href="logger_8h.html#a93dd824dff97fe84941d6d71b7a3710e" title="Used for sending a log message This is the standard logger function. Probably the...">ast_log</a>(<a class="code" href="logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;asprintf() failed: %s\n&quot;</span>, strerror(errno));
<a name="l01016"></a>01016          a-&gt;<a class="code" href="structthr__arg.html#a5ac083a645d964373f022d03df4849c8">name</a> = NULL;
<a name="l01017"></a>01017       }
<a name="l01018"></a>01018       <a class="code" href="structthr__arg.html#a735984d41155bc1032e09bece8f8d66d">data</a> = a;
<a name="l01019"></a>01019    }
<a name="l01020"></a>01020 <span class="preprocessor">#endif </span><span class="comment">/* !LOW_MEMORY */</span>
<a name="l01021"></a>01021 
<a name="l01022"></a>01022    <span class="keywordflow">return</span> <a class="code" href="lock_8h.html#a3c7d37cba2d420a45309a93b799d9db9">pthread_create</a>(<a class="code" href="app__meetme_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a>, attr, <a class="code" href="structthr__arg.html#adcc44de35e470687e55b03b41881a939">start_routine</a>, <a class="code" href="structthr__arg.html#a735984d41155bc1032e09bece8f8d66d">data</a>); <span class="comment">/* We&apos;re in ast_pthread_create, so it&apos;s okay */</span>
<a name="l01023"></a>01023 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7b4f10b070e95ba413e258a3e4b03c20"></a><!-- doxytag: member="utils.h::ast_random" ref="a7b4f10b070e95ba413e258a3e4b03c20" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long int ast_random </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8c_source.html#l01401">1401</a> of file <a class="el" href="utils_8c_source.html">utils.c</a>.</p>

<p>References <a class="el" href="lock_8h_source.html#l01717">ast_mutex_lock()</a>, <a class="el" href="lock_8h_source.html#l01707">ast_mutex_unlock()</a>, and <a class="el" href="utils_8c_source.html#l01398">randomlock</a>.</p>

<p>Referenced by <a class="el" href="func__rand_8c_source.html#l00055">acf_rand_exec()</a>, <a class="el" href="manager_8c_source.html#l01755">action_challenge()</a>, <a class="el" href="chan__sip_8c_source.html#l10016">add_sdp()</a>, <a class="el" href="chan__agent_8c_source.html#l01086">agent_new()</a>, <a class="el" href="res__agi_8c_source.html#l02777">agi_handle_command()</a>, <a class="el" href="app_8c_source.html#l01213">ast_lock_path_lockfile()</a>, <a class="el" href="res__musiconhold_8c_source.html#l00256">ast_moh_files_next()</a>, <a class="el" href="rtp_8c_source.html#l02519">ast_rtp_new_init()</a>, <a class="el" href="rtp_8c_source.html#l02646">ast_rtp_new_source()</a>, <a class="el" href="rtp_8c_source.html#l02533">ast_rtp_new_with_bindaddr()</a>, <a class="el" href="udptl_8c_source.html#l00919">ast_udptl_new_with_bindaddr()</a>, <a class="el" href="chan__iax2_8c_source.html#l07462">authenticate_request()</a>, <a class="el" href="chan__mgcp_8c_source.html#l03552">build_gateway()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00521">build_iv()</a>, <a class="el" href="chan__iax2_8c_source.html#l05857">build_rand_pad()</a>, <a class="el" href="chan__sip_8c_source.html#l17113">build_reply_digest()</a>, <a class="el" href="app__queue_8c_source.html#l03319">calc_metric()</a>, <a class="el" href="chan__iax2_8c_source.html#l05709">calc_rxstamp()</a>, <a class="el" href="chan__iax2_8c_source.html#l02483">callno_hash()</a>, <a class="el" href="chan__dahdi_8c_source.html#l07417">dahdi_new()</a>, <a class="el" href="chan__sip_8c_source.html#l07088">generate_random_string()</a>, <a class="el" href="manager_8c_source.html#l03804">generic_http_callback()</a>, <a class="el" href="pbx__dundi_8c_source.html#l00468">get_trans_id()</a>, <a class="el" href="chan__gtalk_8c_source.html#l00909">gtalk_alloc()</a>, <a class="el" href="chan__gtalk_8c_source.html#l00773">gtalk_create_candidates()</a>, <a class="el" href="chan__gtalk_8c_source.html#l00989">gtalk_new()</a>, <a class="el" href="chan__sip_8c_source.html#l17572">handle_response_invite()</a>, <a class="el" href="chan__iax2_8c_source.html#l05088">iax2_key_rotate()</a>, <a class="el" href="chan__iax2_8c_source.html#l05121">iax2_start_transfer()</a>, <a class="el" href="chan__jingle_8c_source.html#l00741">jingle_alloc()</a>, <a class="el" href="chan__jingle_8c_source.html#l00583">jingle_create_candidates()</a>, <a class="el" href="chan__jingle_8c_source.html#l00800">jingle_new()</a>, <a class="el" href="chan__iax2_8c_source.html#l13805">load_module()</a>, <a class="el" href="chan__local_8c_source.html#l00734">local_new()</a>, <a class="el" href="app__voicemail_8c_source.html#l04163">make_email_file()</a>, <a class="el" href="chan__sip_8c_source.html#l07122">make_our_tag()</a>, <a class="el" href="res__musiconhold_8c_source.html#l00347">moh_files_alloc()</a>, <a class="el" href="format__ogg__vorbis_8c_source.html#l00192">ogg_vorbis_rewrite()</a>, <a class="el" href="app__osplookup_8c_source.html#l00766">osp_create_uuid()</a>, <a class="el" href="app__page_8c_source.html#l00121">page_exec()</a>, <a class="el" href="features_8c_source.html#l00566">park_space_reserve()</a>, <a class="el" href="srv_8c_source.html#l00148">process_weights()</a>, <a class="el" href="chan__sip_8c_source.html#l12075">reg_source_db()</a>, <a class="el" href="chan__iax2_8c_source.html#l08505">registry_authrequest()</a>, <a class="el" href="chan__sip_8c_source.html#l09423">reqprep()</a>, <a class="el" href="app__queue_8c_source.html#l02731">say_periodic_announcement()</a>, <a class="el" href="app__minivm_8c_source.html#l01027">sendmail()</a>, <a class="el" href="chan__sip_8c_source.html#l12557">set_nonce_randdata()</a>, <a class="el" href="chan__sip_8c_source.html#l07151">sip_alloc()</a>, <a class="el" href="chan__iax2_8c_source.html#l09182">socket_read()</a>, <a class="el" href="chan__mgcp_8c_source.html#l02610">start_rtp()</a>, <a class="el" href="rtp_8c_source.html#l00487">stun_req_id()</a>, <a class="el" href="chan__sip_8c_source.html#l10819">transmit_invite()</a>, <a class="el" href="chan__sip_8c_source.html#l11545">transmit_register()</a>, <a class="el" href="chan__sip_8c_source.html#l09600">transmit_response_using_temp()</a>, <a class="el" href="app__queue_8c_source.html#l03569">try_calling()</a>, and <a class="el" href="chan__iax2_8c_source.html#l02853">try_firmware()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01402"></a>01402 {
<a name="l01403"></a>01403    <span class="keywordtype">long</span> <span class="keywordtype">int</span> res;
<a name="l01404"></a>01404 <span class="preprocessor">#ifdef HAVE_DEV_URANDOM</span>
<a name="l01405"></a>01405 <span class="preprocessor"></span>   <span class="keywordflow">if</span> (<a class="code" href="utils_8c.html#a29aac26dfc884358b9b98aa7c89fee44">dev_urandom_fd</a> &gt;= 0) {
<a name="l01406"></a>01406       <span class="keywordtype">int</span> read_res = read(<a class="code" href="utils_8c.html#a29aac26dfc884358b9b98aa7c89fee44">dev_urandom_fd</a>, &amp;res, <span class="keyword">sizeof</span>(res));
<a name="l01407"></a>01407       <span class="keywordflow">if</span> (read_res &gt; 0) {
<a name="l01408"></a>01408          <span class="keywordtype">long</span> <span class="keywordtype">int</span> rm = RAND_MAX;
<a name="l01409"></a>01409          res = res &lt; 0 ? ~res : res;
<a name="l01410"></a>01410          rm++;
<a name="l01411"></a>01411          <span class="keywordflow">return</span> res % rm;
<a name="l01412"></a>01412       }
<a name="l01413"></a>01413    }
<a name="l01414"></a>01414 <span class="preprocessor">#endif</span>
<a name="l01415"></a>01415 <span class="preprocessor"></span><span class="preprocessor">#ifdef linux</span>
<a name="l01416"></a>01416 <span class="preprocessor"></span>   res = random();
<a name="l01417"></a>01417 <span class="preprocessor">#else</span>
<a name="l01418"></a>01418 <span class="preprocessor"></span>   <a class="code" href="lock_8h.html#ad941566de4050aa7358493af94d2ba4d">ast_mutex_lock</a>(&amp;<a class="code" href="utils_8c.html#aff56af259d6f99172edddacdad8e9372" title="glibc puts a lock inside random(3), so that the results are thread-safe. BSD libc...">randomlock</a>);
<a name="l01419"></a>01419    res = random();
<a name="l01420"></a>01420    <a class="code" href="lock_8h.html#aa9b39f0e22f44a7e7f587d4252e41a0b">ast_mutex_unlock</a>(&amp;<a class="code" href="utils_8c.html#aff56af259d6f99172edddacdad8e9372" title="glibc puts a lock inside random(3), so that the results are thread-safe. BSD libc...">randomlock</a>);
<a name="l01421"></a>01421 <span class="preprocessor">#endif</span>
<a name="l01422"></a>01422 <span class="preprocessor"></span>   <span class="keywordflow">return</span> res;
<a name="l01423"></a>01423 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8e450762024db98313129c1a2ea07d0c"></a><!-- doxytag: member="utils.h::ast_register_thread" ref="a8e450762024db98313129c1a2ea07d0c" args="(char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_register_thread </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="asterisk_8c_source.html#l00380">380</a> of file <a class="el" href="asterisk_8c_source.html">asterisk.c</a>.</p>

<p>References <a class="el" href="astmm_8h_source.html#l00072">ast_calloc</a>, <a class="el" href="linkedlists_8h_source.html#l00702">AST_RWLIST_INSERT_HEAD</a>, <a class="el" href="linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, and <a class="el" href="linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>.</p>

<p>Referenced by <a class="el" href="utils_8c_source.html#l00933">dummy_start()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00381"></a>00381 { 
<a name="l00382"></a>00382    <span class="keyword">struct </span><a class="code" href="structthread__list__t.html">thread_list_t</a> *<span class="keyword">new</span> = <a class="code" href="astmm_8h.html#a1cb33b63d94fbbde94234b062249e015">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*<span class="keyword">new</span>));
<a name="l00383"></a>00383 
<a name="l00384"></a>00384    <span class="keywordflow">if</span> (!<span class="keyword">new</span>)
<a name="l00385"></a>00385       <span class="keywordflow">return</span>;
<a name="l00386"></a>00386    <span class="keyword">new</span>-&gt;id = pthread_self();
<a name="l00387"></a>00387    <span class="keyword">new</span>-&gt;name = <a class="code" href="cdr__adaptive__odbc_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>; <span class="comment">/* steal the allocated memory for the thread name */</span>
<a name="l00388"></a>00388    <a class="code" href="linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595" title="Write locks a list.">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="structthread__list.html">thread_list</a>);
<a name="l00389"></a>00389    <a class="code" href="linkedlists_8h.html#aacc5f6b7c25e361d11d40137fd55a8e8">AST_RWLIST_INSERT_HEAD</a>(&amp;<a class="code" href="structthread__list.html">thread_list</a>, <span class="keyword">new</span>, <a class="code" href="structthread__list__t.html#a1400755fb3e88e3667d517b8239f3f84">list</a>);
<a name="l00390"></a>00390    <a class="code" href="linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138" title="Attempts to unlock a read/write based list.">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="structthread__list.html">thread_list</a>);
<a name="l00391"></a>00391 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4c527f8466f7653b16cb694ba5668092"></a><!-- doxytag: member="utils.h::ast_set_default_eid" ref="a4c527f8466f7653b16cb694ba5668092" args="(struct ast_eid *eid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_set_default_eid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structast__eid.html">ast_eid</a> *&nbsp;</td>
          <td class="paramname"> <em>eid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Fill in an <a class="el" href="structast__eid.html" title="An Entity ID is essentially a MAC address, brief and unique.">ast_eid</a> with the default eid of this machine. </p>
<dl class="since"><dt><b>Since:</b></dt><dd>1.6.1 </dd></dl>

<p>Definition at line <a class="el" href="netsock_8c_source.html#l00235">235</a> of file <a class="el" href="netsock_8c_source.html">netsock.c</a>.</p>

<p>References <a class="el" href="logger_8h_source.html#l00213">ast_debug</a>, <a class="el" href="netsock_8c_source.html#l00218">ast_eid_to_str()</a>, <a class="el" href="utils_8h_source.html#l00687">ast_eid::eid</a>, and <a class="el" href="aesopt_8h_source.html#l00399">s</a>.</p>

<p>Referenced by <a class="el" href="asterisk_8c_source.html#l02784">ast_readconfig()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00236"></a>00236 {
<a name="l00237"></a>00237 <span class="preprocessor">#if defined(SIOCGIFHWADDR)</span>
<a name="l00238"></a>00238 <span class="preprocessor"></span>   <span class="keywordtype">int</span> <a class="code" href="aesopt_8h.html#a20c782a91c883391b9bdf9e3176e447c">s</a>, x = 0;
<a name="l00239"></a>00239    <span class="keywordtype">char</span> eid_str[20];
<a name="l00240"></a>00240    <span class="keyword">struct </span>ifreq ifr;
<a name="l00241"></a>00241 
<a name="l00242"></a>00242    s = socket(AF_INET, SOCK_STREAM, 0);
<a name="l00243"></a>00243    <span class="keywordflow">if</span> (s &lt; 0)
<a name="l00244"></a>00244       <span class="keywordflow">return</span>;
<a name="l00245"></a>00245    <span class="keywordflow">for</span> (x = 0; x &lt; 10; x++) {
<a name="l00246"></a>00246       memset(&amp;ifr, 0, <span class="keyword">sizeof</span>(ifr));
<a name="l00247"></a>00247       snprintf(ifr.ifr_name, <span class="keyword">sizeof</span>(ifr.ifr_name), <span class="stringliteral">&quot;eth%d&quot;</span>, x);
<a name="l00248"></a>00248       <span class="keywordflow">if</span> (ioctl(s, SIOCGIFHWADDR, &amp;ifr))
<a name="l00249"></a>00249          <span class="keywordflow">continue</span>;
<a name="l00250"></a>00250       memcpy(eid, ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)&amp;ifr.ifr_hwaddr) + 2, <span class="keyword">sizeof</span>(*eid));
<a name="l00251"></a>00251       <a class="code" href="logger_8h.html#a3f248112c8d6ce7e3959aa723dade648" title="Log a DEBUG message.">ast_debug</a>(1, <span class="stringliteral">&quot;Seeding global EID &apos;%s&apos; from &apos;%s&apos; using &apos;siocgifhwaddr&apos;\n&quot;</span>, <a class="code" href="utils_8h.html#a8ebf6841073ea2a063a0c86a5092a85b">ast_eid_to_str</a>(eid_str, <span class="keyword">sizeof</span>(eid_str), eid), ifr.ifr_name);
<a name="l00252"></a>00252       close(s);
<a name="l00253"></a>00253       <span class="keywordflow">return</span>;
<a name="l00254"></a>00254    }
<a name="l00255"></a>00255    close(s);
<a name="l00256"></a>00256 <span class="preprocessor">#else</span>
<a name="l00257"></a>00257 <span class="preprocessor"></span><span class="preprocessor">#if defined(ifa_broadaddr) &amp;&amp; !defined(SOLARIS)</span>
<a name="l00258"></a>00258 <span class="preprocessor"></span>   <span class="keywordtype">char</span> eid_str[20];
<a name="l00259"></a>00259    <span class="keyword">struct </span>ifaddrs *ifap;
<a name="l00260"></a>00260    
<a name="l00261"></a>00261    <span class="keywordflow">if</span> (getifaddrs(&amp;ifap) == 0) {
<a name="l00262"></a>00262       <span class="keyword">struct </span>ifaddrs *p;
<a name="l00263"></a>00263       <span class="keywordflow">for</span> (p = ifap; p; p = p-&gt;ifa_next) {
<a name="l00264"></a>00264          <span class="keywordflow">if</span> ((p-&gt;ifa_addr-&gt;sa_family == AF_LINK) &amp;&amp; !(p-&gt;ifa_flags &amp; IFF_LOOPBACK) &amp;&amp; (p-&gt;ifa_flags &amp; IFF_RUNNING)) {
<a name="l00265"></a>00265             <span class="keyword">struct </span>sockaddr_dl* sdp = (<span class="keyword">struct </span>sockaddr_dl*) p-&gt;ifa_addr;
<a name="l00266"></a>00266             memcpy(&amp;(eid-&gt;<a class="code" href="structast__eid.html#aaffcb04ac1b364a0788003f95715460b">eid</a>), sdp-&gt;sdl_data + sdp-&gt;sdl_nlen, 6);
<a name="l00267"></a>00267             <a class="code" href="logger_8h.html#a3f248112c8d6ce7e3959aa723dade648" title="Log a DEBUG message.">ast_debug</a>(1, <span class="stringliteral">&quot;Seeding global EID &apos;%s&apos; from &apos;%s&apos; using &apos;getifaddrs&apos;\n&quot;</span>, <a class="code" href="utils_8h.html#a8ebf6841073ea2a063a0c86a5092a85b">ast_eid_to_str</a>(eid_str, <span class="keyword">sizeof</span>(eid_str), eid), p-&gt;ifa_name);
<a name="l00268"></a>00268             freeifaddrs(ifap);
<a name="l00269"></a>00269             <span class="keywordflow">return</span>;
<a name="l00270"></a>00270          }
<a name="l00271"></a>00271       }
<a name="l00272"></a>00272       freeifaddrs(ifap);
<a name="l00273"></a>00273    }
<a name="l00274"></a>00274 <span class="preprocessor">#endif</span>
<a name="l00275"></a>00275 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00276"></a>00276 <span class="preprocessor"></span>   <a class="code" href="logger_8h.html#a3f248112c8d6ce7e3959aa723dade648" title="Log a DEBUG message.">ast_debug</a>(1, <span class="stringliteral">&quot;No ethernet interface found for seeding global EID. You will have to set it manually.\n&quot;</span>);
<a name="l00277"></a>00277 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a89565d41a0b343afc57a1c0d9eb85160"></a><!-- doxytag: member="utils.h::ast_sha1_hash" ref="a89565d41a0b343afc57a1c0d9eb85160" args="(char *output, char *input)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_sha1_hash </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>input</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Produces SHA1 hash based on input string. </p>

<p>Definition at line <a class="el" href="utils_8c_source.html#l00246">246</a> of file <a class="el" href="utils_8c_source.html">utils.c</a>.</p>

<p>References <a class="el" href="sha1_8c_source.html#l00154">SHA1Input()</a>, <a class="el" href="sha1_8c_source.html#l00081">SHA1Reset()</a>, and <a class="el" href="sha1_8c_source.html#l00113">SHA1Result()</a>.</p>

<p>Referenced by <a class="el" href="res__jabber_8c_source.html#l00944">aji_act_hook()</a>, <a class="el" href="chan__iax2_8c_source.html#l04634">handle_call_token()</a>, <a class="el" href="res__jabber_8c_source.html#l00404">jabber_make_auth()</a>, and <a class="el" href="func__sha1_8c_source.html#l00053">sha1()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00247"></a>00247 {
<a name="l00248"></a>00248    <span class="keyword">struct </span><a class="code" href="structSHA1Context.html" title="This structure will hold context information for the SHA-1 hashing operation.">SHA1Context</a> sha;
<a name="l00249"></a>00249    <span class="keywordtype">char</span> *ptr;
<a name="l00250"></a>00250    <span class="keywordtype">int</span> x;
<a name="l00251"></a>00251    uint8_t Message_Digest[20];
<a name="l00252"></a>00252 
<a name="l00253"></a>00253    <a class="code" href="sha1_8h.html#ab4d7125efac9b487ca663d692e78af36" title="SHA1Reset.">SHA1Reset</a>(&amp;sha);
<a name="l00254"></a>00254    
<a name="l00255"></a>00255    <a class="code" href="sha1_8h.html#abcec0fbbb48793f9e9ccfea9b9792aad" title="SHA1Input.">SHA1Input</a>(&amp;sha, (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code" href="ast__expr2f_8c.html#a5a634cf4429798b1c921a81de8250051">input</a>, strlen(input));
<a name="l00256"></a>00256 
<a name="l00257"></a>00257    <a class="code" href="sha1_8h.html#a12d619787f5a12702e890b2c3907510e" title="SHA1Result.">SHA1Result</a>(&amp;sha, Message_Digest);
<a name="l00258"></a>00258    ptr = output;
<a name="l00259"></a>00259    <span class="keywordflow">for</span> (x = 0; x &lt; 20; x++)
<a name="l00260"></a>00260       ptr += sprintf(ptr, <span class="stringliteral">&quot;%2.2x&quot;</span>, Message_Digest[x]);
<a name="l00261"></a>00261 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8761597fec2f8a17d105a82c20d0b728"></a><!-- doxytag: member="utils.h::ast_slinear_saturated_add" ref="a8761597fec2f8a17d105a82c20d0b728" args="(short *input, short *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static force_inline void ast_slinear_saturated_add </td>
          <td>(</td>
          <td class="paramtype">short *&nbsp;</td>
          <td class="paramname"> <em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00271">271</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="frame_8c_source.html#l01554">ast_frame_slinear_sum()</a>, <a class="el" href="audiohook_8c_source.html#l00582">audio_audiohook_write_list()</a>, <a class="el" href="audiohook_8c_source.html#l00197">audiohook_read_frame_both()</a>, and <a class="el" href="bridge__softmix_8c_source.html#l00211">softmix_bridge_thread()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00272"></a>00272 {
<a name="l00273"></a>00273    <span class="keywordtype">int</span> res;
<a name="l00274"></a>00274 
<a name="l00275"></a>00275    res = (int) *<a class="code" href="ast__expr2f_8c.html#a5a634cf4429798b1c921a81de8250051">input</a> + *value;
<a name="l00276"></a>00276    <span class="keywordflow">if</span> (res &gt; 32767)
<a name="l00277"></a>00277       *<a class="code" href="ast__expr2f_8c.html#a5a634cf4429798b1c921a81de8250051">input</a> = 32767;
<a name="l00278"></a>00278    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res &lt; -32767)
<a name="l00279"></a>00279       *<a class="code" href="ast__expr2f_8c.html#a5a634cf4429798b1c921a81de8250051">input</a> = -32767;
<a name="l00280"></a>00280    <span class="keywordflow">else</span>
<a name="l00281"></a>00281       *<a class="code" href="ast__expr2f_8c.html#a5a634cf4429798b1c921a81de8250051">input</a> = (short) res;
<a name="l00282"></a>00282 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af5e55a87e9741a1bbea1e2ec2f99a1e1"></a><!-- doxytag: member="utils.h::ast_slinear_saturated_divide" ref="af5e55a87e9741a1bbea1e2ec2f99a1e1" args="(short *input, short *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static force_inline void ast_slinear_saturated_divide </td>
          <td>(</td>
          <td class="paramtype">short *&nbsp;</td>
          <td class="paramname"> <em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00310">310</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="frame_8c_source.html#l01531">ast_frame_adjust_volume()</a>, and <a class="el" href="audiohook_8c_source.html#l00197">audiohook_read_frame_both()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00311"></a>00311 {
<a name="l00312"></a>00312    *<a class="code" href="ast__expr2f_8c.html#a5a634cf4429798b1c921a81de8250051">input</a> /= *value;
<a name="l00313"></a>00313 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5b2919c84591a13feb6b750b54c57520"></a><!-- doxytag: member="utils.h::ast_slinear_saturated_multiply" ref="a5b2919c84591a13feb6b750b54c57520" args="(short *input, short *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static force_inline void ast_slinear_saturated_multiply </td>
          <td>(</td>
          <td class="paramtype">short *&nbsp;</td>
          <td class="paramname"> <em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00297">297</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="frame_8c_source.html#l01531">ast_frame_adjust_volume()</a>, and <a class="el" href="audiohook_8c_source.html#l00197">audiohook_read_frame_both()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00298"></a>00298 {
<a name="l00299"></a>00299    <span class="keywordtype">int</span> res;
<a name="l00300"></a>00300 
<a name="l00301"></a>00301    res = (int) *<a class="code" href="ast__expr2f_8c.html#a5a634cf4429798b1c921a81de8250051">input</a> * *value;
<a name="l00302"></a>00302    <span class="keywordflow">if</span> (res &gt; 32767)
<a name="l00303"></a>00303       *<a class="code" href="ast__expr2f_8c.html#a5a634cf4429798b1c921a81de8250051">input</a> = 32767;
<a name="l00304"></a>00304    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res &lt; -32767)
<a name="l00305"></a>00305       *<a class="code" href="ast__expr2f_8c.html#a5a634cf4429798b1c921a81de8250051">input</a> = -32767;
<a name="l00306"></a>00306    <span class="keywordflow">else</span>
<a name="l00307"></a>00307       *<a class="code" href="ast__expr2f_8c.html#a5a634cf4429798b1c921a81de8250051">input</a> = (short) res;
<a name="l00308"></a>00308 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1afcbc567c2d16e7bc433152657d832b"></a><!-- doxytag: member="utils.h::ast_slinear_saturated_subtract" ref="a1afcbc567c2d16e7bc433152657d832b" args="(short *input, short *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static force_inline void ast_slinear_saturated_subtract </td>
          <td>(</td>
          <td class="paramtype">short *&nbsp;</td>
          <td class="paramname"> <em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8h_source.html#l00284">284</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p>Referenced by <a class="el" href="bridge__softmix_8c_source.html#l00211">softmix_bridge_thread()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00285"></a>00285 {
<a name="l00286"></a>00286    <span class="keywordtype">int</span> res;
<a name="l00287"></a>00287 
<a name="l00288"></a>00288    res = (int) *<a class="code" href="ast__expr2f_8c.html#a5a634cf4429798b1c921a81de8250051">input</a> - *value;
<a name="l00289"></a>00289    <span class="keywordflow">if</span> (res &gt; 32767)
<a name="l00290"></a>00290       *<a class="code" href="ast__expr2f_8c.html#a5a634cf4429798b1c921a81de8250051">input</a> = 32767;
<a name="l00291"></a>00291    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res &lt; -32767)
<a name="l00292"></a>00292       *<a class="code" href="ast__expr2f_8c.html#a5a634cf4429798b1c921a81de8250051">input</a> = -32767;
<a name="l00293"></a>00293    <span class="keywordflow">else</span>
<a name="l00294"></a>00294       *<a class="code" href="ast__expr2f_8c.html#a5a634cf4429798b1c921a81de8250051">input</a> = (short) res;
<a name="l00295"></a>00295 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad60a8c795e1f64b7beeed705425c555f"></a><!-- doxytag: member="utils.h::ast_str_to_eid" ref="ad60a8c795e1f64b7beeed705425c555f" args="(struct ast_eid *eid, const char *s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_str_to_eid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structast__eid.html">ast_eid</a> *&nbsp;</td>
          <td class="paramname"> <em>eid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>s</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convert a string into an EID. </p>
<p>This function expects an EID in the format: 00:11:22:33:44:55</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success, non-zero failure </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.6.1 </dd></dl>

<p>Definition at line <a class="el" href="netsock_8c_source.html#l00279">279</a> of file <a class="el" href="netsock_8c_source.html">netsock.c</a>.</p>

<p>References <a class="el" href="utils_8h_source.html#l00687">ast_eid::eid</a>.</p>

<p>Referenced by <a class="el" href="asterisk_8c_source.html#l02784">ast_readconfig()</a>, <a class="el" href="pbx__dundi_8c_source.html#l04371">build_peer()</a>, <a class="el" href="pbx__dundi_8c_source.html#l02513">dundi_do_query()</a>, and <a class="el" href="pbx__dundi_8c_source.html#l04635">set_config()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00280"></a>00280 {
<a name="l00281"></a>00281    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> eid_int[6];
<a name="l00282"></a>00282    <span class="keywordtype">int</span> x;
<a name="l00283"></a>00283 
<a name="l00284"></a>00284    <span class="keywordflow">if</span> (sscanf(<a class="code" href="aesopt_8h.html#a20c782a91c883391b9bdf9e3176e447c">s</a>, <span class="stringliteral">&quot;%2x:%2x:%2x:%2x:%2x:%2x&quot;</span>, &amp;eid_int[0], &amp;eid_int[1], &amp;eid_int[2],
<a name="l00285"></a>00285        &amp;eid_int[3], &amp;eid_int[4], &amp;eid_int[5]) != 6)
<a name="l00286"></a>00286          <span class="keywordflow">return</span> -1;
<a name="l00287"></a>00287    
<a name="l00288"></a>00288    <span class="keywordflow">for</span> (x = 0; x &lt; 6; x++)
<a name="l00289"></a>00289       eid-&gt;<a class="code" href="structast__eid.html#aaffcb04ac1b364a0788003f95715460b">eid</a>[x] = eid_int[x];
<a name="l00290"></a>00290 
<a name="l00291"></a>00291    <span class="keywordflow">return</span> 0;
<a name="l00292"></a>00292 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9795c12483e42e95d18eae6a92482677"></a><!-- doxytag: member="utils.h::ast_unregister_thread" ref="a9795c12483e42e95d18eae6a92482677" args="(void *id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_unregister_thread </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="asterisk_8c_source.html#l00393">393</a> of file <a class="el" href="asterisk_8c_source.html">asterisk.c</a>.</p>

<p>References <a class="el" href="astmm_8h_source.html#l00087">ast_free</a>, <a class="el" href="linkedlists_8h_source.html#l00564">AST_RWLIST_REMOVE_CURRENT</a>, <a class="el" href="linkedlists_8h_source.html#l00541">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="linkedlists_8h_source.html#l00601">AST_RWLIST_TRAVERSE_SAFE_END</a>, <a class="el" href="linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="asterisk_8c_source.html#l00375">thread_list_t::id</a>, <a class="el" href="structast__atexit.html#a56a8dd0a90ceeac591968d916dc3ecc7">ast_atexit::list</a>, and <a class="el" href="asterisk_8c_source.html#l00374">thread_list_t::name</a>.</p>

<p>Referenced by <a class="el" href="utils_8c_source.html#l00933">dummy_start()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00394"></a>00394 {
<a name="l00395"></a>00395    <span class="keyword">struct </span><a class="code" href="structthread__list__t.html">thread_list_t</a> *x;
<a name="l00396"></a>00396 
<a name="l00397"></a>00397    <a class="code" href="linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595" title="Write locks a list.">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="structthread__list.html">thread_list</a>);
<a name="l00398"></a>00398    <a class="code" href="linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="structthread__list.html">thread_list</a>, x, <a class="code" href="structthread__list__t.html#a1400755fb3e88e3667d517b8239f3f84">list</a>) {
<a name="l00399"></a>00399       <span class="keywordflow">if</span> ((<span class="keywordtype">void</span> *) x-&gt;<a class="code" href="structthread__list__t.html#a2465fd4497a7402ad72da7d6e03f9934">id</a> == <span class="keywordtype">id</span>) {
<a name="l00400"></a>00400          <a class="code" href="linkedlists_8h.html#a02212548652c9eb0f3db38dc4e4bd285">AST_RWLIST_REMOVE_CURRENT</a>(<a class="code" href="structthread__list__t.html#a1400755fb3e88e3667d517b8239f3f84">list</a>);
<a name="l00401"></a>00401          <span class="keywordflow">break</span>;
<a name="l00402"></a>00402       }
<a name="l00403"></a>00403    }
<a name="l00404"></a>00404    <a class="code" href="linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a>;
<a name="l00405"></a>00405    <a class="code" href="linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138" title="Attempts to unlock a read/write based list.">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="structthread__list.html">thread_list</a>);
<a name="l00406"></a>00406    <span class="keywordflow">if</span> (x) {
<a name="l00407"></a>00407       <a class="code" href="astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(x-&gt;<a class="code" href="structthread__list__t.html#a5ac083a645d964373f022d03df4849c8">name</a>);
<a name="l00408"></a>00408       <a class="code" href="astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(x);
<a name="l00409"></a>00409    }
<a name="l00410"></a>00410 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="adafa7619a91aca23fc519bcc31ae8dff"></a><!-- doxytag: member="utils.h::ast_uri_decode" ref="adafa7619a91aca23fc519bcc31ae8dff" args="(char *s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_uri_decode </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>s</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Decode URI, URN, URL (overwrite string). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>String to be decoded </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="utils_8c_source.html#l00414">414</a> of file <a class="el" href="utils_8c_source.html">utils.c</a>.</p>

<p>Referenced by <a class="el" href="func__curl_8c_source.html#l00397">acf_curl_exec()</a>, <a class="el" href="chan__sip_8c_source.html#l14088">check_user_full()</a>, <a class="el" href="res__config__curl_8c_source.html#l00518">config_curl()</a>, <a class="el" href="chan__sip_8c_source.html#l13667">get_also_info()</a>, <a class="el" href="chan__sip_8c_source.html#l13269">get_destination()</a>, <a class="el" href="chan__sip_8c_source.html#l13489">get_refer_info()</a>, <a class="el" href="chan__sip_8c_source.html#l19641">handle_request_invite()</a>, <a class="el" href="http_8c_source.html#l00411">http_decode()</a>, <a class="el" href="res__config__curl_8c_source.html#l00056">realtime_curl()</a>, <a class="el" href="res__config__curl_8c_source.html#l00128">realtime_multi_curl()</a>, <a class="el" href="chan__sip_8c_source.html#l12942">register_verify()</a>, <a class="el" href="chan__sip_8c_source.html#l06599">sip_new()</a>, and <a class="el" href="func__uri_8c_source.html#l00085">uridecode()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00415"></a>00415 {
<a name="l00416"></a>00416    <span class="keywordtype">char</span> *o;
<a name="l00417"></a>00417    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tmp;
<a name="l00418"></a>00418 
<a name="l00419"></a>00419    <span class="keywordflow">for</span> (o = <a class="code" href="aesopt_8h.html#a20c782a91c883391b9bdf9e3176e447c">s</a>; *<a class="code" href="aesopt_8h.html#a20c782a91c883391b9bdf9e3176e447c">s</a>; <a class="code" href="aesopt_8h.html#a20c782a91c883391b9bdf9e3176e447c">s</a>++, o++) {
<a name="l00420"></a>00420       <span class="keywordflow">if</span> (*<a class="code" href="aesopt_8h.html#a20c782a91c883391b9bdf9e3176e447c">s</a> == <span class="charliteral">&apos;%&apos;</span> &amp;&amp; strlen(<a class="code" href="aesopt_8h.html#a20c782a91c883391b9bdf9e3176e447c">s</a>) &gt; 2 &amp;&amp; sscanf(<a class="code" href="aesopt_8h.html#a20c782a91c883391b9bdf9e3176e447c">s</a> + 1, <span class="stringliteral">&quot;%2x&quot;</span>, &amp;tmp) == 1) {
<a name="l00421"></a>00421          <span class="comment">/* have &apos;%&apos;, two chars and correct parsing */</span>
<a name="l00422"></a>00422          *o = tmp;
<a name="l00423"></a>00423          <a class="code" href="aesopt_8h.html#a20c782a91c883391b9bdf9e3176e447c">s</a> += 2;  <span class="comment">/* Will be incremented once more when we break out */</span>
<a name="l00424"></a>00424       } <span class="keywordflow">else</span> <span class="comment">/* all other cases, just copy */</span>
<a name="l00425"></a>00425          *o = *<a class="code" href="aesopt_8h.html#a20c782a91c883391b9bdf9e3176e447c">s</a>;
<a name="l00426"></a>00426    }
<a name="l00427"></a>00427    *o = <span class="charliteral">&apos;\0&apos;</span>;
<a name="l00428"></a>00428 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4736440328d6809ea8d9f57c0606f253"></a><!-- doxytag: member="utils.h::ast_uri_encode" ref="a4736440328d6809ea8d9f57c0606f253" args="(const char *string, char *outbuf, int buflen, int doreserved)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* ast_uri_encode </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>outbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>buflen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>doreserved</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Turn text string to URI-encoded XX version. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>At this point, we're converting from ISO-8859-x (8-bit), not UTF8 as in the SIP protocol spec If doreserved == 1 we will convert reserved characters also. RFC 2396, section 2.4 outbuf needs to have more memory allocated than the instring to have room for the expansion. Every char that is converted is replaced by three ASCII characters. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>String to be converted </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>outbuf</em>&nbsp;</td><td>Resulting encoded string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buflen</em>&nbsp;</td><td>Size of output buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>doreserved</em>&nbsp;</td><td>Convert reserved characters</td></tr>
  </table>
  </dd>
</dl>
<p>Turn text string to URI-encoded XX version.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>At this point, we're converting from ISO-8859-x (8-bit), not UTF8 as in the SIP protocol spec If doreserved == 1 we will convert reserved characters also. RFC 2396, section 2.4 outbuf needs to have more memory allocated than the instring to have room for the expansion. Every char that is converted is replaced by three ASCII characters.</dd></dl>
<p>Note: The doreserved option is needed for replaces header in SIP transfers. </p>

<p>Definition at line <a class="el" href="utils_8c_source.html#l00383">383</a> of file <a class="el" href="utils_8c_source.html">utils.c</a>.</p>

<p>References <a class="el" href="strings_8h_source.html#l00218">ast_copy_string()</a>, and <a class="el" href="adsistub_8c_source.html#l00059">buf</a>.</p>

<p>Referenced by <a class="el" href="res__config__curl_8c_source.html#l00518">config_curl()</a>, <a class="el" href="res__config__curl_8c_source.html#l00419">destroy_curl()</a>, <a class="el" href="chan__sip_8c_source.html#l10657">initreqprep()</a>, <a class="el" href="res__agi_8c_source.html#l00617">launch_asyncagi()</a>, <a class="el" href="res__config__curl_8c_source.html#l00056">realtime_curl()</a>, <a class="el" href="res__config__curl_8c_source.html#l00128">realtime_multi_curl()</a>, <a class="el" href="res__config__curl_8c_source.html#l00472">require_curl()</a>, <a class="el" href="res__config__curl_8c_source.html#l00354">store_curl()</a>, <a class="el" href="res__config__curl_8c_source.html#l00278">update2_curl()</a>, <a class="el" href="res__config__curl_8c_source.html#l00225">update_curl()</a>, and <a class="el" href="func__uri_8c_source.html#l00071">uriencode()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00384"></a>00384 {
<a name="l00385"></a>00385    <span class="keywordtype">char</span> *reserved = <span class="stringliteral">&quot;;/?:@&amp;=+$,# &quot;</span>; <span class="comment">/* Reserved chars */</span>
<a name="l00386"></a>00386 
<a name="l00387"></a>00387    <span class="keyword">const</span> <span class="keywordtype">char</span> *ptr  = string; <span class="comment">/* Start with the string */</span>
<a name="l00388"></a>00388    <span class="keywordtype">char</span> *out = NULL;
<a name="l00389"></a>00389    <span class="keywordtype">char</span> *<a class="code" href="adsistub_8c.html#aa95cbf1d00929438101e64ee5a216d0c">buf</a> = NULL;
<a name="l00390"></a>00390 
<a name="l00391"></a>00391    <a class="code" href="strings_8h.html#a17df4d252f3e2ecb230b526475ac4d93" title="Size-limited null-terminating string copy.">ast_copy_string</a>(outbuf, <span class="keywordtype">string</span>, buflen);
<a name="l00392"></a>00392 
<a name="l00393"></a>00393    <span class="comment">/* If there&apos;s no characters to convert, just go through and don&apos;t do anything */</span>
<a name="l00394"></a>00394    <span class="keywordflow">while</span> (*ptr) {
<a name="l00395"></a>00395       <span class="keywordflow">if</span> ((*ptr &lt; 32) || (doreserved &amp;&amp; strchr(reserved, *ptr))) {
<a name="l00396"></a>00396          <span class="comment">/* Oops, we need to start working here */</span>
<a name="l00397"></a>00397          <span class="keywordflow">if</span> (!buf) {
<a name="l00398"></a>00398             buf = outbuf;
<a name="l00399"></a>00399             out = buf + (ptr - string) ;  <span class="comment">/* Set output ptr */</span>
<a name="l00400"></a>00400          }
<a name="l00401"></a>00401          out += sprintf(out, <span class="stringliteral">&quot;%%%02x&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>) *ptr);
<a name="l00402"></a>00402       } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (buf) {
<a name="l00403"></a>00403          *out = *ptr;   <span class="comment">/* Continue copying the string */</span>
<a name="l00404"></a>00404          out++;
<a name="l00405"></a>00405       } 
<a name="l00406"></a>00406       ptr++;
<a name="l00407"></a>00407    }
<a name="l00408"></a>00408    <span class="keywordflow">if</span> (buf)
<a name="l00409"></a>00409       *out = <span class="charliteral">&apos;\0&apos;</span>;
<a name="l00410"></a>00410    <span class="keywordflow">return</span> outbuf;
<a name="l00411"></a>00411 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7f67fc7c9501569b338913c796d86c45"></a><!-- doxytag: member="utils.h::ast_utils_init" ref="a7f67fc7c9501569b338913c796d86c45" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_utils_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8c_source.html#l01800">1800</a> of file <a class="el" href="utils_8c_source.html">utils.c</a>.</p>

<p>References <a class="el" href="isdn__lib_8c_source.html#l00040">ARRAY_LEN</a>, <a class="el" href="cli_8c_source.html#l01927">ast_cli_register_multiple()</a>, and <a class="el" href="utils_8c_source.html#l00347">base64_init()</a>.</p>

<p>Referenced by <a class="el" href="asterisk_8c_source.html#l03095">main()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01801"></a>01801 {
<a name="l01802"></a>01802 <span class="preprocessor">#ifdef HAVE_DEV_URANDOM</span>
<a name="l01803"></a>01803 <span class="preprocessor"></span>   <a class="code" href="utils_8c.html#a29aac26dfc884358b9b98aa7c89fee44">dev_urandom_fd</a> = open(<span class="stringliteral">&quot;/dev/urandom&quot;</span>, O_RDONLY);
<a name="l01804"></a>01804 <span class="preprocessor">#endif</span>
<a name="l01805"></a>01805 <span class="preprocessor"></span>   <a class="code" href="utils_8c.html#a7bc2df9f50343c9e3bf8b6200c709996">base64_init</a>();
<a name="l01806"></a>01806 <span class="preprocessor">#ifdef DEBUG_THREADS</span>
<a name="l01807"></a>01807 <span class="preprocessor"></span><span class="preprocessor">#if !defined(LOW_MEMORY)</span>
<a name="l01808"></a>01808 <span class="preprocessor"></span>   <a class="code" href="cli_8h.html#aadeef34f3106bb78aeb3414032ad7fb7" title="Register multiple commands.">ast_cli_register_multiple</a>(utils_cli, <a class="code" href="isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(utils_cli));
<a name="l01809"></a>01809 <span class="preprocessor">#endif</span>
<a name="l01810"></a>01810 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l01811"></a>01811 <span class="preprocessor"></span>   <span class="keywordflow">return</span> 0;
<a name="l01812"></a>01812 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a60404ef44696316455e79c3a002cc71e"></a><!-- doxytag: member="utils.h::ast_wait_for_input" ref="a60404ef44696316455e79c3a002cc71e" args="(int fd, int ms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_wait_for_input </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ms</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="utils_8c_source.html#l01051">1051</a> of file <a class="el" href="utils_8c_source.html">utils.c</a>.</p>

<p>References <a class="el" href="poll-compat_8h_source.html#l00086">ast_poll</a>.</p>

<p>Referenced by <a class="el" href="manager_8c_source.html#l01591">action_waitevent()</a>, <a class="el" href="tcptls_8c_source.html#l00233">ast_tcptls_server_root()</a>, <a class="el" href="res__timing__dahdi_8c_source.html#l00142">dahdi_test_timer()</a>, <a class="el" href="manager_8c_source.html#l03067">get_input()</a>, and <a class="el" href="res__musiconhold_8c_source.html#l01453">moh_class_destructor()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01052"></a>01052 {
<a name="l01053"></a>01053    <span class="keyword">struct </span>pollfd pfd[1];
<a name="l01054"></a>01054    memset(pfd, 0, <span class="keyword">sizeof</span>(pfd));
<a name="l01055"></a>01055    pfd[0].fd = fd;
<a name="l01056"></a>01056    pfd[0].events = POLLIN|POLLPRI;
<a name="l01057"></a>01057    <span class="keywordflow">return</span> <a class="code" href="poll-compat_8h.html#a5a0c58fa8311e94cd0ed34382aa822f9">ast_poll</a>(pfd, 1, ms);
<a name="l01058"></a>01058 }
</pre></div></p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a219dc8b94c16860deffcb0e5565e415e"></a><!-- doxytag: member="utils.h::__unsigned_int_flags_dummy" ref="a219dc8b94c16860deffcb0e5565e415e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="utils_8h.html#a219dc8b94c16860deffcb0e5565e415e">__unsigned_int_flags_dummy</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="note"><dt><b>Note:</b></dt><dd><div class="fragment"><pre class="fragment">
   Note:
   It is very important to use only unsigned variables to hold
   bit flags, as otherwise you can fall prey to the compiler's
   sign-extension antics if you try to use the top two bits in
   your variable.

   The flag macros below use a set of compiler tricks to verify
   that the caller is using an "unsigned int" variable to hold
   the flags, and nothing else. If the caller uses any other
   type of variable, a warning message similar to this:

   warning: comparison of distinct pointer types lacks cast
   will be generated.

   The "dummy" variable below is used to make these comparisons.

   Also note that at -O2 or above, this type-safety checking
   does _not_ produce any additional object code at all.
 </pre></div> </dd></dl>

</div>
</div>
<a class="anchor" id="a760967667797a5f20dc3af304edbfd20"></a><!-- doxytag: member="utils.h::__unsigned_int_flags_dummy64" ref="a760967667797a5f20dc3af304edbfd20" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t <a class="el" href="utils_8h.html#a760967667797a5f20dc3af304edbfd20">__unsigned_int_flags_dummy64</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad5db11fa27352e2b9a3c669adc76955f"></a><!-- doxytag: member="utils.h::ast_eid_default" ref="ad5db11fa27352e2b9a3c669adc76955f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structast__eid.html">ast_eid</a> <a class="el" href="asterisk_8c.html#ad5db11fa27352e2b9a3c669adc76955f">ast_eid_default</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Global EID. </p>
<p>This is set in asterisk.conf, or determined automatically by taking the mac address of an Ethernet interface on the system. </p>

<p>Definition at line <a class="el" href="asterisk_8c_source.html#l00185">185</a> of file <a class="el" href="asterisk_8c_source.html">asterisk.c</a>.</p>

<p>Referenced by <a class="el" href="evt_8c_source.html#l00172">ast_event_cb()</a>, <a class="el" href="event_8c_source.html#l00897">ast_event_new()</a>, <a class="el" href="asterisk_8c_source.html#l02784">ast_readconfig()</a>, <a class="el" href="evt_8c_source.html#l00118">evt_event_deliver_cb()</a>, <a class="el" href="asterisk_8c_source.html#l00413">handle_show_settings()</a>, <a class="el" href="pbx_8c_source.html#l02867">pbx_retrieve_variable()</a>, and <a class="el" href="pbx__dundi_8c_source.html#l04635">set_config()</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed May 5 15:23:34 2010 for Asterisk - the Open Source PBX by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
